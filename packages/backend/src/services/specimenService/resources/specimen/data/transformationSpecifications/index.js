const execute = require('./execute')

const {
  acquisitions,
  collectingInformation,
  collectionItems,
  deathInformation,
  determinations,
  featureObservations,
  identifiers,
  legacyData,
  nestToCore,
  originInformation,
  recordHistoryEvents,
  sourceData,
  specimen,
  taxonInformation,
} = require('./transformationFunctions')

const {
  decorateTaxonNameKeyIdMap,
  decorateCauseOfDeathTypeKeyIdMap,
  decorateCustomTaxonNameTypeKeyIdMap,
  decorateEstablishmentMeansTypeKeyIdMap,
  decorateFeatureTypeKeyIdMap,
  decorateIdentifierTypeKeyIdMap,
  decoratePlaceKeyIdMap,
  decoratePreparationTypeKeyIdMap,
  decorateStorageLocationKeyIdMap,
  decorateTypeSpecimenTypeKeyIdMap,
} = require('./globalDecorators')

exports.importDataFromFile = {
  description: 'Importing specimens from file',
  executeFunction: execute,
  globalDecorators: [
    decorateCauseOfDeathTypeKeyIdMap,
    decorateCustomTaxonNameTypeKeyIdMap,
    decorateEstablishmentMeansTypeKeyIdMap,
    decorateFeatureTypeKeyIdMap,
    decorateIdentifierTypeKeyIdMap,
    decoratePlaceKeyIdMap,
    decoratePreparationTypeKeyIdMap,
    decorateStorageLocationKeyIdMap,
    decorateTaxonNameKeyIdMap,
    decorateTypeSpecimenTypeKeyIdMap,
  ],
  srcFileName: 'specimens',
  transformationFunctions: [
    specimen,
    acquisitions,
    collectingInformation,
    collectionItems,
    deathInformation,
    determinations,
    featureObservations,
    identifiers,
    legacyData,
    originInformation,
    recordHistoryEvents,
    taxonInformation,
    nestToCore,
    sourceData,
  ],
}

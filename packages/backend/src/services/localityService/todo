* Finalize currated locality
* Rebase error on anton/implement-v1-featureType
* Rebase refactor build and next step currated onto error.
* Merge refactor build into integration branch
* keep locality separate branch













WITH    RECURSIVE
        q AS
        (
        SELECT  "id", "parentVersionId","isCurrentVersion","versionId", "schemaVersion", "document"
        FROM    "Places" h
        WHERE   "versionId" = 32
        UNION ALL
        SELECT  hc."id", hc."parentVersionId", hc."isCurrentVersion",hc."versionId", hc."schemaVersion", hc."document"
        FROM    q
        JOIN    "Places" hc
        ON      hc."parentVersionId" = q."versionId"
        )
SELECT  *
FROM    q;


WITH    RECURSIVE
        q AS
        (
        SELECT  *
        FROM    "Places" h
        WHERE   "versionId" = 32
        UNION ALL
        SELECT  hc.*
        FROM    q
        JOIN    "Places" hc
        ON      hc."parentVersionId" = q."versionId"
        )
SELECT  *
FROM    q;









* introduce extension concept so a controller can initiate another controller with extensions
* add new initial data to models.

1. createNew

* POST /api/locality/v01/places
* remove parents from incoming document
* standard

2. updateRelation parent hasOne

* PATH /api/locality/v01/places/:id/relationships/parent
  {
  id: 123,
  type: 'place'
  }
* 1. create parent link as standard
  2. update parents in document
* 3. update parents in all child documents.

* If delete relation.
* 1. delete parent link in current
* update parents in all child documents

- If delete

2. getOne

* GET /api/locality/v01/places/:id
* standard (including parent and childRelations)
* remove parents from document
* includes to add decendents.

3. Update

* standard

4. Delete
1.
1. link chindren to current parent
1. update relation of all children

(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"getLocalState",function(){return y}),n.d(a,"getFormSpec",function(){return O}),n.d(a,"getSectionFieldNamesMap",function(){return E}),n.d(a,"getUnitFieldNamesMap",function(){return j}),n.d(a,"getUnitInitiallyHiddenFieldNamesMap",function(){return T}),n.d(a,"getUnitInitiallyHiddenFieldNames",function(){return S});var r=n(10),i=n(17),o=n(912),c=n(910),l=n(909),s=n(908),u=n(905),d=n(911),m=n(20),p=n.n(m),h=n(56),f=n(91),v=n(121),b=n(34),g=n(302),y=function(e){return e.formSupport},O=function(e,t){return e[t.formName]},E=Object(b.createSelector)(O,function(e){return Object(g.a)(Object.values(e))}),j=Object(b.createSelector)(O,function(e){return Object(g.b)(Object.values(e))}),T=Object(b.createSelector)(O,function(e){var t=Object.values(e).filter(function(e){return e.initiallyHidden});return Object(g.b)(t,!0)}),S=function(e,t){var n=t.formName,a=t.unit;return T(e,{formName:n})[a]},I=function e(t,n){for(var a=n.fieldNames,r=n.formName,i=n.requireTouched,o=void 0===i||i,m=Object(c.a)(r)(t),h=Object(l.a)(r)(t),f=Object(s.a)(r)(t),v=Object(u.a)(r)(t),b=Object(d.a)(r)(t),g=function(n){var i=a[n],c=i.split(".*.");if(c.length>1){var l=p.a.get(b,c[0]);if(l&&l.length){var s=l.map(function(e,t){return i.replace(".*.",".".concat(t,"."))});if(e(t,{fieldNames:s,formName:r,requireTouched:o}))return{v:!0}}}var u=p.a.get(h,i);if(p.a.get(f,i)||p.a.get(m,i)||p.a.get(v,i)){if(!o)return{v:!0};var d=u&&u.touched;if(o&&d)return{v:!0}}},y=0;y<a.length;y+=1){var O=g(y);if("object"===typeof O)return O.v}return!1},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.formName,a=t.requireTouched,r=t.sectionName,i=E(e.formSupport,{formName:n})[r];return I(e,{fieldNames:i,formName:n,requireTouched:a})};t.a=Object(r.a)({},Object(f.a)(a),{computeSectionIsInvalid:C,getAnyFieldIsInvalid:I,getInitiallyHiddenFieldsHaveValue:function(e,t){var n=t.baseValues,a=void 0===n?{}:n,r=t.compareInitiallyHiddenWithBaseValues,i=t.formName,o=t.formValueSelector,c=t.unit,l=S(e.formSupport,{formName:i,unit:c});if(l){for(var s=0;s<l.length;s+=1){var u=l[s],d=o(e,u),m=p.a.get(a,u);if(!(!d&&0!==d||"object"===typeof d&&Object(h.isEmpty)(d))&&(!r||r&&!Object(h.isEqual)(m,d)))return!0}return!1}},getSectionIsDirty:function(e,t){var n=t.formName,a=t.sectionName,r=Object(o.a)(n),c=E(e.formSupport,{formName:n})[a];return r.apply(void 0,[e].concat(Object(i.a)(c)))},getSectionIsInvalid:function(e,t){var n=t.formName,a=t.sectionName,r=v.d.get["sectionNavigation.:formName.sectionInvalidStatus"](e,{formName:n});return!!r&&r[a]},getSectionsInValidStatus:function(e,t){var n=t.formName;return t.sectionSpecs.map(function(t){var a=t.name;return C(e,{formName:n,sectionName:a})})}})},101:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d});var a=n(140),r=/\{\{([a-zA-Z0-9_-]+)}}/g,i=Object(a.b)([":textKey",":language"]),o=function e(t,n){var a=n.fallbackLanguage,o=n.language,c=n.params,l=n.textKey,s=n.textKeys,u=s&&s.length&&s||[l],d=u.reduce(function(e,n){return e||i(t,{language:o,textKey:n})},""),m=u.join(", ");return!d&&a?(console.warn("Translation for key ".concat(m," language ").concat(o," not found trying fallback language ").concat(a)),e(t,{language:a,params:c,textKey:l,textKeys:s})):(d=d||m,c&&d?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,a=n.match(r);return a?(a.forEach(function(e){var a=e.replace(/[{}]/g,"");void 0!==t[a]&&(n=n.replace("".concat(e),t[a].toString()))}),n):e}(d,c):d)},c=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},l=function(e){var t=e.module,n=e.scope,a=e.textKey;return n?"modules.".concat(t,".").concat(n,".").concat(a):"modules.".concat(t,".").concat(a)},s=function(e){var t=e.modules,n=e.scope,a=e.textKey;return t.reduce(function(e,t){return n&&e.push(l({module:t,scope:n,textKey:a})),e.push(l({module:t,textKey:a})),e},[])},u=function(e){return Promise.all([n.e(4),n.e(18)]).then(n.t.bind(null,1727,7)).then(function(t){return t(e)})},d=function(e){var t=e.output,n=e.textKey,a=e.textKeys;return!!(t===n||t&&a&&a[0]&&t.indexOf(a[0])>-1)}},102:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return r}),n.d(t,"ALL",function(){return i}),n.d(t,"PERSON",function(){return o}),n.d(t,"ORGANIZATION",function(){return c}),n.d(t,"OTHER",function(){return l}),n.d(t,"UNKNOWN",function(){return s}),n.d(t,"AGENT_TYPE_OPTIONS",function(){return u});var a=n(75),r="agent",i="all",o="person",c="organization",l="other",s="unknown",u=[o,c,l,s].map(function(e){return{key:e,text:Object(a.capitalizeFirstLetter)(e),value:e}})},106:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s});var a=n(158),r=n(76),i=Object(a.a)({keys:[":resource.filterState",":resource.lastUpdatedAt",":resource.searchState"],name:r.MODULE_NAME}),o=i.actionCreators,c=i.actionTypes,l=(i.constants,i.globalSelectors),s=(i.selectors,i.reducer)},107:function(e,t,n){"use strict";var a=n(91),r=n(436);t.a=Object(a.a)(r)},108:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"CONTINENT",function(){return r}),n.d(t,"COUNTRY",function(){return i}),n.d(t,"DISTRICT",function(){return o}),n.d(t,"PROVINCE",function(){return c}),n.d(t,"PLANET",function(){return l});var a="locality",r="continent-ocean",i="country",o="district",c="province",l="planet"},111:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(10),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(908),h=n(907),f=n(885),v=n(906),b=n(1),g=n(37),y=n(154),O=n(25),E=n(9),j=n(40),T=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(E.a)(n)),n.handleDelete=n.handleDelete.bind(Object(E.a)(n)),n.handleOpen=n.handleOpen.bind(Object(E.a)(n)),n.state={open:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleDelete",value:function(){return this.handleClose(),this.props.onDelete()}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=this.props.loading,n=this.state.open;return u.a.createElement(u.a.Fragment,null,u.a.createElement(j.c,{message:function(){return setTimeout(e.handleClose),!1},when:n}),u.a.createElement(b.s,{onClose:this.handleClose,open:n,size:"small",trigger:!n&&u.a.createElement(b.b,{basic:!0,loading:t,onClick:this.handleOpen,size:"large",style:{float:"right",pointerEvents:"initial"},type:"button"},"Delete record")},u.a.createElement(b.s.Header,null,"Are you sure?"),u.a.createElement(b.s.Content,null,u.a.createElement(b.i,null,u.a.createElement(b.i.Column,null,"The record will be permanently deleted."))),u.a.createElement(b.s.Actions,{style:{pointerEvents:"initial",textAlign:"left"}},u.a.createElement(b.b,{onClick:this.handleDelete,primary:!0},"Yes, delete record"),u.a.createElement(b.b,{onClick:this.handleClose},"No, keep it"))))}}]),t}(s.PureComponent);T.defaultProps={loading:!1};var S=T,I=Object(O.createModuleTranslate)("form"),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.schemaErrors&&e.schemaErrors.length)return!0;var t=Object(l.a)({},e);return delete t.schemaErrors,Object.keys(t).length>0},N={float:"left",marginLeft:"1.25em",marginTop:"0.625em"},k={loadingDelete:void 0,nestedItem:void 0,onCancelCreate:void 0,onDelete:void 0,onSubmit:void 0,onUndoChanges:void 0},w=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.formName,n=e.hasSyncErrors,a=e.invalid,r=e.loadingDelete,i=e.nestedItem,o=e.onCancelCreate,c=e.onDelete,l=e.onSubmit,s=e.onUndoChanges,d=e.pristine,m=e.submitting,p=(i||{}).isRoot,h=!o;return u.a.createElement(b.i,{padded:!0,style:{pointerEvents:"none"},verticalAlign:"middle"},u.a.createElement(b.i.Column,null,u.a.createElement(b.b,{disabled:p||n||a||d,loading:m,onClick:l,primary:!0,size:"large",style:{float:"left",pointerEvents:"initial"},type:"submit"},u.a.createElement(I,{textKey:"save"})),o&&u.a.createElement(b.b,{basic:!0,disabled:!o||m,onClick:o,size:"large",style:{float:"left",pointerEvents:"initial"},type:"button"},"Cancel create"),!o&&u.a.createElement(b.b,{basic:!0,disabled:!s||d||m,onClick:s,size:"large",style:{float:"left",pointerEvents:"initial"},type:"button"},"Undo changes"),p&&u.a.createElement("em",{style:N},u.a.createElement(I,{textKey:"notAllowedToEditRootNode"})),!p&&!d&&(n||a?u.a.createElement("em",{style:N},u.a.createElement(I,{textKey:"issuesPreventSaving"})):h&&u.a.createElement("em",{style:N},"Unsaved changes")),g.a.isDevelopment&&u.a.createElement(y.ConnectedFormSchemaError,{form:t}),c&&u.a.createElement(S,{loading:r,onDelete:c})))}}]),t}(s.PureComponent);w.defaultProps=k;var x=Object(d.c)(Object(m.b)(function(e,t){var n=t.formName;return{hasSyncErrors:C(Object(p.a)(n)(e)),invalid:Object(h.a)(n)(e),pristine:Object(f.a)(n)(e),submitting:Object(v.a)(n)(e)}}))(w),A=n(962),R=n.n(A),F=n(97),P=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleKeyDown=function(){},n}return Object(c.a)(t,e),t}(R.a),L={currentTableRowNumber:void 0,disabled:!1,numberOfListItems:void 0,onOpenNewRecordForm:!1,onSelectNextRecord:!1,onSelectPreviousRecord:!1,onSetCurrentTableRowNumber:!1,onShowAllRecords:!1,showNewRecordButton:!0,showRecordInput:!0,showShowAllButton:!0,showSlider:!0,totalNumberOfRecords:void 0},M=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={sliderRowNumber:null},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.currentTableRowNumber,a=t.disabled,r=t.isLargeScreen,i=t.numberOfListItems,o=t.onOpenNewRecordForm,c=t.onSelectNextRecord,l=t.onSelectPreviousRecord,s=t.onSetCurrentTableRowNumber,d=t.onShowAllRecords,m=t.showNewRecordButton,p=t.showRecordInput,h=t.showShowAllButton,f=t.showSlider,v=t.totalNumberOfRecords,g=this.state.sliderRowNumber,y=a?"":g||n||"",O=!d||i===v;return u.a.createElement(b.i,{padded:!0,textAlign:"left",verticalAlign:"middle"},u.a.createElement(b.i.Row,{className:"left floated"},u.a.createElement(b.i.Column,null,u.a.createElement(b.b.Group,null,u.a.createElement(b.b,{disabled:a||!l,icon:!0,onClick:function(e){return l(e)}},u.a.createElement(b.k,{name:"chevron left"})),u.a.createElement(b.b,{disabled:a||!c,icon:!0,onClick:function(e){return c(e)}},u.a.createElement(b.k,{name:"chevron right"})))),p&&u.a.createElement(b.i.Column,null,u.a.createElement(b.m,{className:"center aligned bold",disabled:a||!s||0===i,fluid:!0,max:i,min:i&&1,onChange:function(e){s(null,e.target.value)},size:"small",style:{width:"6.5em"},type:"number",value:y})),r&&f&&u.a.createElement(b.i.Column,{className:"slider-slim"},u.a.createElement("div",{style:{width:"6.25em"}},u.a.createElement(P,{max:i,min:i&&1,onChange:function(t){!a&&s&&(t===n+1?e.setState({sliderRowNumber:t-1}):t===n-1?e.setState({sliderRowNumber:t+1}):e.setState({sliderRowNumber:t}))},onChangeComplete:function(){s&&(s(null,g),e.setState({sliderRowNumber:null}))},step:1,tooltip:!1,value:y}))),u.a.createElement(b.i.Column,null,!a&&u.a.createElement("div",{style:{fontWeight:700,width:"7.25em"}},i," records")),u.a.createElement(b.i.Column,null,!a&&u.a.createElement("div",{style:{color:"rgba(0,0,0,.6)",fontStyle:"italic",width:"4.25em"}},"of ",v)),u.a.createElement(b.i.Column,null,h&&u.a.createElement(b.b,{basic:!0,disabled:a||O,icon:!0,onClick:function(e){return d(e)}},u.a.createElement("div",{style:{width:"6.5625em"}},O?"Showing all":"Show all"))),u.a.createElement(b.i.Column,null,m&&u.a.createElement(b.b,{disabled:!o,icon:!0,onClick:function(e){return o(e)},primary:!0},u.a.createElement("div",{style:{width:"7.5em"}},u.a.createElement(b.k,{name:"plus"}),"New record")))))}}]),t}(s.Component);M.defaultProps=L;var _=Object(m.b)(function(e){return{isLargeScreen:F.a.getIsLarge(e)}})(M),D=n(90),B=n(252),V=n(63),U=n(47),K=n(214),H=n(30),z=n(36);var G=n(49),q=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.createItemActive,n=e.editItemActive,a=e.itemEnabled,r=e.onFormTabClick,i=e.onListTabClick,o=e.onToggleFilters,c=e.onTreeTabClick,l=e.tableActive,s=e.treeActive,d=e.treeEnabled;return u.a.createElement(b.q,{attached:"top",icon:!0,style:{position:"relative"},tabular:!0},u.a.createElement(b.q.Item,{active:l,link:!0,name:"table",onClick:function(e){return i(e)}},u.a.createElement(b.k,{name:"table"})),d&&u.a.createElement(b.q.Item,{active:s,link:!0,name:"form",onClick:function(e){return c(e)}},u.a.createElement(b.k,{name:"sitemap"})),a&&u.a.createElement(b.q.Item,{active:t||n,link:!0,name:"form",onClick:function(e){return r(e)}},u.a.createElement(b.k,{name:"wordpress forms"})),!(t||s)&&u.a.createElement(b.q.Menu,{className:"icon secondary  ui",position:"right"},u.a.createElement(b.q.Item,{link:!0,onClick:function(e){return o(e)},style:{marginLeft:"3.125em"}},u.a.createElement(b.k,{disabled:!o,name:"search"}))))}}]),t}(s.Component),Q=n(62),W=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.scrollLeft,a=e.width,r=e.tableColumnSpecifications;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.i,{padded:!0,style:{height:t,left:-n,position:"absolute",width:a},textAlign:"left",verticalAlign:"middle"},u.a.createElement(b.i.Row,null,r.map(function(e){var t=e.label,n=e.width;return u.a.createElement(b.i.Column,{key:t,style:{width:n}},u.a.createElement(b.j,{size:"small"},u.a.createElement(O.Translate,{capitalize:!0,textKey:t})))}))))}}]),t}(s.PureComponent);W.defaultProps={scrollLeft:0};var Y=Object(D.createInjectScrollLeft)("tableScrollContainer")(W),X=n(167),J=n(289),Z=n.n(J),$=n(35),ee=n(20),te=n.n(ee),ne=function(e){var t=e.background,n=e.itemId,a=e.nestedItem,r=e.onClickRow,i=e.rowNumber,o=e.tableColumnSpecifications,c=e.width;return a?u.a.createElement(b.i.Row,{onClick:function(e){e.preventDefault(),r(i,n)},style:{background:t,height:Object(H.a)(3.5),width:c}},o.map(function(e){var t=e.buildText,n=e.fieldPath,r=e.label,i=e.width,o=te.a.get(a,n);return o&&t&&(!Array.isArray(o)||o.length)&&(o=t({nestedItem:a,objectPath:te.a,value:o})),Array.isArray(o)&&(o=o.join("; ")),u.a.createElement(b.i.Column,{key:n||r,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:i}},o)})):u.a.createElement(b.i.Row,{style:{height:Object(H.a)(3.5),width:c}},u.a.createElement(b.i.Column,{style:{width:60}},u.a.createElement(b.e,{active:!0,inverted:!0},u.a.createElement(b.p,{inverted:!0,size:"mini"}))))};ne.defaultProps={itemId:void 0,nestedItem:void 0};var ae=Object(d.c)(Object($.createGetNestedItemById)({refresh:!1,shouldFetch:!1}))(ne),re={focusedIndex:0,focusedItemId:void 0,listItems:[],tableBatchFetchOptions:{}},ie=function(e,t){return u.a.createElement("div",{className:"ui padded grid",ref:t},e)},oe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).list=null,n.setListRef=function(e){n.list=e,n.scroll()},n.renderItem=n.renderItem.bind(Object(E.a)(n)),n.scroll=n.scroll.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.scroll()}},{key:"componentDidUpdate",value:function(e){this.scroll(e)}},{key:"scroll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,a=n.currentTableRowNumber,r=n.focusedItemId,i=t.currentTableRowNumber,o=t.focusedItemId;if(this.list&&(a!==i||r&&r!==o)){var c=this.list.getVisibleRange(),l=Object(X.a)(c,1)[0];void 0===l&&setTimeout(function(){return e.scroll()}),a<=l+1?this.list.scrollTo(a-1):this.list.scrollAround(a)}}},{key:"renderItem",value:function(e){var t=this.props,n=t.fetchItemById,a=t.focusedIndex,r=t.listItems,i=t.managerScope,o=t.resource,c=t.tableBatchFetchOptions,l=t.tableColumnSpecifications,s=t.width,d=(r[e]||{}).id,m=a===e?"#b5b5b5":e%2===0?"#e5e7e9":"#fff";void 0!==d&&n(d);var p=c.resolveRelationships,h=c.relationships;return u.a.createElement(ae,{background:m,itemId:d,key:d,namespace:i,onClickRow:this.props.onClickRow,relationships:h,resolveRelationships:p,resource:o,rowNumber:e+1,tableColumnSpecifications:l,width:s})}},{key:"render",value:function(){var e=this.props,t=e.listItems,n=e.width;return t&&t?u.a.createElement("div",{style:{width:n}},u.a.createElement(Z.a,{itemRenderer:this.renderItem,itemsRenderer:ie,length:t.length,ref:this.setListRef,type:"uniform"})):u.a.createElement(b.i,{padded:!0},u.a.createElement(b.i.Row,{style:{height:Object(H.a)(3.5),width:n}},u.a.createElement(b.i.Column,{style:{paddingTop:60,width:150}},u.a.createElement(b.e,{active:!0,inverted:!0},u.a.createElement(b.p,{content:"Loading",inverted:!0})))))}}]),t}(s.Component);oe.defaultProps=re;var ce=Object(d.c)(Object($.createBatchFetchItems)({includeFields:["id","attributes"]}))(oe),le=[{height:Object(H.a)(3.5),key:"infiniteTableHeader",style:{borderBottom:"1px solid #b5b5b5",position:"relative"}},{id:"tableScrollContainer",key:"tableScrollContainer",style:{overflow:"auto"}}],se=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).renderRow=n.renderRow.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderRow",value:function(e){var t=this.props,n=t.tableColumnSpecifications,a=t.resource,r=t.width;switch(e){case"infiniteTableHeader":return u.a.createElement(Y,{height:Object(H.a)(3.5),resource:a,tableColumnSpecifications:n,width:r});case"tableScrollContainer":var i=this.props,o=i.listItems,c=i.tableBatchFetchOptions;return 0===o.length?u.a.createElement(Q.d,null):u.a.createElement(ce,Object.assign({},this.props,c));default:throw new Error("Unknown row key: ".concat(e))}}},{key:"render",value:function(){return u.a.createElement(V.RowLayout,Object.assign({},this.props,{renderRow:this.renderRow,rows:le}))}}]),t}(s.PureComponent);se.defaultProps={tableBatchFetchOptions:{}};var ue=se,de=n(51),me={indentation:50,isExpandable:!1,itemId:"",itemTitle:void 0,level:0,nestedItem:void 0},pe=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.indentation,n=e.isExpandable,a=e.isExpanded,r=e.isFocused,i=e.itemId,o=e.itemTitle,c=e.level,l=e.nestedItem,s=e.onClickRow,d=e.onToggleRow,m=a?"down triangle":"right triangle",p=r?"#b5b5b5":"#fff";return!!l?u.a.createElement(b.i.Row,{onClick:function(e){e.preventDefault(),s(null,i)},style:{background:p,height:Object(H.a)(2.5),padding:Object(H.a)(.75)},verticalAlign:"middle"},u.a.createElement(b.i.Column,{key:"rowNumber",onClick:function(e){e.stopPropagation(),e.preventDefault(),n&&d(i)},style:{marginLeft:t*c,paddingRight:0,width:60},textAlign:"right"},n&&u.a.createElement(b.k,{name:m})),u.a.createElement(b.i.Column,{key:"name",style:{width:500},textAlign:"left"},o)):u.a.createElement(b.i.Row,{style:{height:Object(H.a)(2.5),padding:Object(H.a)(.75)}},u.a.createElement(b.i.Column,{key:"rowNumber",style:{marginLeft:t*c,paddingRight:0,width:60},textAlign:"right"},u.a.createElement(b.e,{active:!0,inverted:!0},u.a.createElement(b.p,{inverted:!0,size:"mini"}))))}}]),t}(s.Component);pe.defaultProps=me;var he=Object(d.c)(Object($.createGetNestedItemById)({refresh:!1,shouldFetch:!1}),Object(U.createInjectItemTitle)())(pe),fe={ItemTitle:void 0},ve=function(e,t){return u.a.createElement("div",{className:"ui padded grid",ref:t},e)},be=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).setListRef=function(e){n.list=e},n.renderItem=n.renderItem.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.baseItems,a=t.currentTableRowNumber,r=t.expandedIds,i=t.fetchItemById,o=t.itemsObject,c=t.managerScope,l=t.showAll,s=e.baseItems,u=e.expandedIds,d=e.itemsObject,m=e.showAll,p=e.currentTableRowNumber;if(n!==s||r!==u||o!==d||l!==m){var h=function(e){var t=e.baseItems,n=e.expandedIds,a=void 0===n?{}:n,r=e.fetchItemById,i=e.itemsObject,o=e.showAll,c=void 0!==o&&o,l=[];return function e(t){var n=t.level,o=void 0===n?0:n,s=t.items;(void 0===s?[]:s).forEach(function(t){var n=t.id,s=t.relationships&&t.relationships.children&&t.relationships.children.data,u=!(!s||!s.length);if(l.push({id:n,isExpandable:u,level:o}),(c||a[n])&&s){var d=s.map(function(e){var t=e.id,n=i[t];return n&&n.relationships&&n.relationships.children?n:(r(t),{loading:!0})});e({items:d,level:o+1})}})}({items:t}),l}({baseItems:n,expandedIds:r,fetchItemById:i,itemsObject:o,showAll:l});this.props.setListItems(h,{managerScope:c})}if(a!==p){var f=this.list.getVisibleRange();a<=Object(X.a)(f,1)[0]+1?this.list.scrollTo(a-1):this.list.scrollAround(a)}}},{key:"renderItem",value:function(e){var t=this.props,n=t.expandedIds,a=t.focusedIndex,r=t.itemFetchOptions,i=t.ItemTitle,o=t.listItems,c=t.managerScope,l=t.resource,s=o[e]||{},d=s.isExpandable,m=s.id,p=s.level,h=m&&!!n[m],f=a===e;return o&&o.length?u.a.createElement(he,Object.assign({isExpandable:d,isExpanded:h,isFocused:f,itemId:m,ItemTitle:i,key:m,level:p,namespace:c,onClickRow:this.props.onClickRow,onToggleRow:this.props.onToggleRow,resource:l},r)):u.a.createElement(b.i,{padded:!0},u.a.createElement(b.i.Row,{style:{height:Object(H.a)(3.5)}},u.a.createElement(b.i.Column,{style:{paddingTop:60,width:150}},u.a.createElement(b.e,{active:!0,inverted:!0},u.a.createElement(b.p,{content:"Loading",inverted:!0})))))}},{key:"render",value:function(){var e=this.props.listItems;return u.a.createElement(Z.a,{itemRenderer:this.renderItem,itemsRenderer:ve,length:e.length,ref:this.setListRef,type:"uniform"})}}]),t}(s.Component);be.defaultProps=fe;var ge=Object(d.c)(Object(m.b)(function(e,t){var n=t.resource;return{itemsObject:de.a[n].getItemsObject(e)}}),Object($.createBatchFetchItems)({relationships:["parent","children"]}))(be),ye=n(194),Oe=Object(d.c)(Object(ye.b)(),Object(ye.a)())(x),Ee=Object(d.c)(Object(ye.c)(),Object(ye.d)(),Object(ye.e)())(x),je=[{key:"itemCreateForm",style:{overflow:"auto"}},{height:Object(H.a)(4.625),key:"bottomBar"}],Te=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).renderRow=n.renderRow.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderRow",value:function(e){var t=this.props.resource;switch(e){case"itemCreateForm":var n=this.props,a=n.availableHeight;return(0,n.renderCreateForm)({availableHeight:a});case"bottomBar":var r=Object(z.a)({keys:["filterResourceCount","onInteraction","resource","transformOutput"],props:this.props}).extractedProps;return u.a.createElement(Oe,Object.assign({},r,{formName:"".concat(t,"Create")}));default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props.availableHeight;return u.a.createElement(V.RowLayout,{availableHeight:e,renderRow:this.renderRow,rows:je})}}]),t}(s.Component),Se=n(75),Ie={buildEditItemHeaders:function(e){return e?{itemHeader:e.name,itemSubHeader:Object(Se.capitalizeFirstLetter)(e.group)}:{}},loadingDelete:!1,nestedItem:void 0,relationshipsToCheckBeforeDelete:[]},Ce=[{key:"itemEditForm",style:{overflow:"auto"}},{height:Object(H.a)(4.625),key:"bottomBar"}],Ne=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).renderRow=n.renderRow.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderRow",value:function(e){var t=this.props,n=t.buildEditItemHeaders,a=t.nestedItem,r=t.resource,i=n(a),o=i.itemHeader,c=i.itemSubHeader;switch(e){case"itemEditForm":var s=this.props.renderEditForm,d=Object(z.a)({keys:["availableHeight","nestedItem"],props:this.props}).extractedProps;return s(Object(l.a)({},d,{itemHeader:o,itemSubHeader:c}));case"bottomBar":var m=Object(z.a)({keys:["fetchOneItemById","fetchRelationshipsBeforeDelete","filterResourceCount","itemId","loadingDelete","nestedItem","onInteraction","relationshipsToCheckBeforeDelete","resource","transformOutput"],props:this.props}).extractedProps;return u.a.createElement(Ee,Object.assign({},m,{formName:"".concat(r,"Edit"),itemHeader:o,itemSubHeader:c}));default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.itemId;return u.a.createElement(V.RowLayout,{availableHeight:t,itemId:n,renderRow:this.renderRow,rows:Ce})}}]),t}(s.Component);Ne.defaultProps=Ie;var ke=Object(d.c)(Object($.createGetNestedItemById)())(Ne),we={createGetNestedItemHocInput:{},fetchRelationshipsBeforeDelete:void 0,recordNavigationHeight:Object(H.a)(4.25),recordOptionsHeight:Object(H.a)(3.5625),transformOutput:void 0},xe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getRows=Object(B.a)(function(e,t,n,a,r,i,o,c){var l=[];return c||l.push({height:"".concat(i,"px"),key:"recordNavigationBar"}),l.push({height:"".concat(o,"px"),key:"resultOptionBar",style:{paddingLeft:"1rem",paddingRight:"1rem"}}),e&&l.push({key:"tableView",style:{overflow:"auto"}}),t&&l.push({key:"treeView",style:{overflow:"auto"}}),a&&l.push({key:"createItem",style:{overflow:"auto"}}),r&&l.push({key:"editItem",style:{overflow:"auto"}}),l}),n.renderRow=n.renderRow.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderRow",value:function(e){var t=this;switch(e){case"recordNavigationBar":var n=this.props,a=n.createItemActive,r=n.treeActive,i=["createItemActive","currentTableRowNumber","numberOfListItems","onSelectNextRecord","onSelectPreviousRecord","onSetCurrentTableRowNumber","onShowAllRecords","totalNumberOfRecords","treeActive"];a||i.push("onOpenNewRecordForm");var o=Object(z.a)({keys:i,props:this.props}).extractedProps;return u.a.createElement(_,Object.assign({},o,{disabled:r||a}));case"treeView":var c=Object(z.a)({keys:["baseItems","currentTableRowNumber","expandedIds","fetchTreeBase","focusedIndex","itemFetchOptions","ItemTitle","listItems","managerScope","onClickRow","onToggleRow","resource","setBaseItems","setFocusedIndex","setListItems","showAll"],props:this.props}).extractedProps,l=c.itemFetchOptions;return u.a.createElement(ge,Object.assign({},c,l));case"tableView":var s=this.props,d=s.recordNavigationHeight,m=s.recordOptionsHeight,p=s.tableColumnSpecifications,h=s.availableHeight,f=function(e){var t=e.includeColumns,n=void 0===t?null:t;return e.tableColumnSpecifications.reduce(function(e,t){var a=t.name,r=t.width;return!n||n.includes(a)?e+r:e},80)}({tableColumnSpecifications:p}),v=Object(z.a)({keys:["currentTableRowNumber","focusedIndex","focusedItemId","listItems","managerScope","onClickRow","resource","tableBatchFetchOptions","tableColumnSpecifications","tableSearch"],props:this.props}).extractedProps;return u.a.createElement(ue,Object.assign({},v,{availableHeight:h-d-m,width:f}));case"editItem":var b=this.props,g=b.availableHeight,y=b.createGetNestedItemHocInput,O=b.recordNavigationHeight,E=b.recordOptionsHeight,j=Object(z.a)({keys:["buildEditItemHeaders","fetchRelationshipsBeforeDelete","filterResourceCount","itemId","ItemTitle","onInteraction","relationshipsToCheckBeforeDelete","renderEditForm","resource","itemFetchOptions","transformOutput"],props:this.props}).extractedProps;return u.a.createElement(ke,Object.assign({},y,j,{availableHeight:g-O-E}));case"createItem":var T=this.props,S=T.availableHeight,I=T.recordNavigationHeight,C=T.recordOptionsHeight,N=T.transformOutput,k=Object(z.a)({keys:["onInteraction","filterResourceCount","resource","renderCreateForm"],props:this.props}).extractedProps;return u.a.createElement(Te,Object.assign({},k,{availableHeight:S-I-C,transformOutput:N}));case"resultOptionBar":var w=Object(z.a)({keys:["createItemActive","editItemActive","itemEnabled","onToggleFilters","tableActive","treeActive","treeEnabled"],props:this.props}).extractedProps;return u.a.createElement(q,Object.assign({},w,{onFormTabClick:this.props.onFormTabClick,onListTabClick:function(){t.props.onInteraction(G.NAVIGATE_LIST)},onTreeTabClick:function(){t.props.onInteraction(G.NAVIGATE_TREE)}}));default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.createItemActive,a=e.editItemActive,r=e.isPicker,i=e.recordNavigationHeight,o=e.recordOptionsHeight,c=e.tableActive,l=e.treeActive,s=e.treeEnabled,d=this.getRows(c,l,s,n,a,i,o,r),m=Object(z.a)({keys:["baseItems","currentTableRowNumber","expandedIds","focusedIndex","isPicker","itemId","listItems","showAll","tableActive","totalNumberOfRecords","treeActive"],props:this.props}).extractedProps;return u.a.createElement(V.RowLayout,Object.assign({},m,{availableHeight:t,renderRow:this.renderRow,rows:d}))}}]),t}(s.Component);xe.defaultProps=we;var Ae=Object(d.c)(D.injectWindowHeight)(xe),Re=n(58),Fe=n(911),Pe={isPicker:!1,values:void 0},Le=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.handleReset=n.handleReset.bind(Object(E.a)(n)),n.state={loading:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleReset",value:function(e){e.preventDefault();var t=this.props.isPicker;this.props.onShowAllRecords({isPicker:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.values;this.props.onUpdateFilterValues(t)}},{key:"render",value:function(){var e=this.props,t=e.invalid,n=e.isPicker,a=e.pristine;return u.a.createElement(b.i,{padded:!0},u.a.createElement(b.i.Column,null,u.a.createElement(b.b,{disabled:t,loading:this.state.loading,onClick:this.handleSubmit,size:n?"small":"large",style:{float:"left"}},"Search"),u.a.createElement(b.b,{basic:!0,disabled:a&&!n,onClick:this.handleReset,size:n?"small":"large",style:{float:"right"}},n?"Show all":"Clear all filters")))}}]),t}(s.PureComponent);Le.defaultProps=Pe;var Me=Object(d.c)(Object(m.b)(function(e,t){var n=t.resource,a="".concat(n,"Filter");return{formName:a,invalid:Object(h.a)(a)(e),pristine:Object(f.a)(a)(e),values:Object(Fe.a)(a)(e)}}))(Le),_e={filterHeader:"Filter",filterValues:void 0},De=[{height:Object(H.a)(4.25),key:"header"},{key:"filterForm"},{height:Object(H.a)(4.625),key:"bottomBar"}],Be=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).renderRow=n.renderRow.bind(Object(E.a)(n)),n.handleClose=n.handleClose.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(e){e.preventDefault(),this.props.onInteraction(G.CLOSE_ITEM_VIEW)}},{key:"renderRow",value:function(e){switch(e){case"header":var t=this.props.filterHeader;return u.a.createElement(Re.ColumnRowHeader,{text:t});case"filterForm":var n=this.props.filterValues,a=void 0===n?{}:n;return this.props.renderFilterForm({initialValues:a});case"bottomBar":var r=Object(z.a)({keys:["buildFilterQuery","isPicker","onInteraction","onUpdateFilterValues","onShowAllRecords","resource"],props:this.props}).extractedProps;return u.a.createElement(Me,r);default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props.availableHeight;return u.a.createElement(V.RowLayout,{availableHeight:e,renderRow:this.renderRow,rows:De})}}]),t}(s.Component);Be.defaultProps=_e;var Ve=Be,Ue=function(e){var t=e.onClosePicker,n=e.pickerTitle;return u.a.createElement(b.i,{padded:!0},u.a.createElement(b.i.Column,null,u.a.createElement(b.j,null,n,u.a.createElement(b.k,{name:"close",onClick:t,size:"small",style:{float:"right"}}))))};Ue.defaultProps={pickerTitle:"Picker"};var Ke=Ue,He=n(155),ze={itemTitle:void 0,nestedItem:void 0},Ge=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handlePickItem=n.handlePickItem.bind(Object(E.a)(n)),n.shortcuts=[{command:"space",description:"Picker: Select current item",onPress:n.handlePickItem}],n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handlePickItem",value:function(){var e=this.props,t=e.excludeRootNode,n=e.nestedItem;(n||{}).isRoot&&t||this.props.onPickItem(n.id,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.excludeRootNode,a=t.managerScope,r=t.nestedItem,i=t.itemTitle,o=(r||{}).isRoot;return u.a.createElement(u.a.Fragment,null,u.a.createElement(He.a,{activeInLayer:a,shortcuts:this.shortcuts}),u.a.createElement(b.i,{padded:!0},u.a.createElement(b.i.Column,null,u.a.createElement(b.j,null,u.a.createElement(b.b,{disabled:!r||n&&o,onClick:function(){return e.handlePickItem(r.id,r)},size:"large",type:"button"},"pick: ",i)))))}}]),t}(s.Component);Ge.defaultProps=ze;var qe=Object(d.c)(Object($.createGetNestedItemById)({refresh:!1,shouldFetch:!1}),Object(U.createInjectItemTitle)())(Ge),Qe=Object(H.a)(3.4375),We=Object(H.a)(10),Ye=Object(H.a)(3.5),Xe=Object(H.a)(5),Je={fetchRelationshipsBeforeDelete:void 0,focusedItemId:void 0,isPicker:!1,itemId:void 0,relationshipsToCheckBeforeDelete:void 0,rightSidebarWidth:Object(H.a)(25),transformOutput:void 0},Ze=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getColumns=Object(B.a)(function(e,t,n,a,r,i){var o=[{key:"mainColumn"}],c={background:"white",borderLeft:"1px solid #D4D4D5",zIndex:100};return a&&o.push({key:"filterColumn",style:c,width:"".concat(n,"px")}),r&&o.push({key:"rightSidebar",style:c,width:"".concat(i,"px")}),o}),n.getRows=Object(B.a)(function(e){return e?[{height:"".concat(Ye,"px"),key:"pickerHeader"},{key:"main"},{height:"".concat(Xe,"px"),key:"pickerActionBar"}]:[{key:"main"}]}),n.getColumns=n.getColumns.bind(Object(E.a)(n)),n.renderColumn=n.renderColumn.bind(Object(E.a)(n)),n.renderRow=n.renderRow.bind(Object(E.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"renderColumn",value:function(e){switch(e){case"mainColumn":var t=Object(z.a)({keys:["availableHeight","baseItems","buildEditItemHeaders","createGetNestedItemHocInput","createItemActive","currentTableRowNumber","editItemActive","expandedIds","fetchRelationshipsBeforeDelete","fetchTreeBase","filterActive","filterResourceCount","focusedIndex","isPicker","itemEnabled","itemFetchOptions","itemId","ItemTitle","listItems","managerScope","nextRowAvailable","numberOfListItems","onClickRow","onFormTabClick","onInteraction","onOpenNewRecordForm","onSelectNextRecord","onSelectPreviousRecord","onSetCurrentTableRowNumber","onShowAllRecords","onToggleCurrentRow","onToggleFilters","onToggleRow","prevRowAvailable","relationshipsToCheckBeforeDelete","renderCreateForm","renderEditForm","resource","setListItems","showAll","tableActive","tableBatchFetchOptions","tableColumnSpecifications","tableSearch","totalNumberOfRecords","treeActive","treeEnabled"],props:this.props}).extractedProps,n=this.props,a=n.columnHeight,r=n.transformOutput;return u.a.createElement(Ae,Object.assign({},t,{availableHeight:a,transformOutput:r}));case"filterColumn":var i=Object(z.a)({keys:["buildFilterQuery","filterHeader","filterValues","isPicker","onInteraction","onShowAllRecords","onUpdateFilterValues","renderFilterForm","resource"],props:this.props}).extractedProps,o=this.props.columnHeight;return u.a.createElement(Ve,Object.assign({},i,{availableHeight:o}));case"rightSidebar":return u.a.createElement(V.InformationSidebar,null);default:throw new Error("Unknown column: ".concat(e))}}},{key:"renderRow",value:function(e){switch(e){case"main":var t=this.props,n=t.createItemActive,a=t.editItemActive,r=t.filterColumnWidth,i=t.filterActive,o=t.rightSidebarIsOpen,c=t.rightSidebarWidth,l=this.getColumns(n,a,r,i,o,c);return u.a.createElement(V.ColumnLayout,Object.assign({},this.props,{columns:l,renderColumn:this.renderColumn}));case"pickerHeader":var s=Object(z.a)({keys:["onClosePicker","pickerTitle"],props:this.props}).extractedProps;return u.a.createElement(Ke,s);case"pickerActionBar":var d=Object(z.a)({keys:["excludeRootNode","ItemTitle","managerScope","onPickItem","resource"],props:this.props}).extractedProps,m=this.props,p=m.managerScope,h=m.itemFetchOptions;return u.a.createElement(qe,Object.assign({},d,h,{itemId:this.props.focusedItemId,namespace:"".concat(p,"Title")}));default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props.isPicker,t=this.getRows(e);return u.a.createElement(V.RowLayout,Object.assign({},this.props,{renderRow:this.renderRow,rows:t}))}}]),t}(s.Component);Ze.defaultProps=Je;var $e=Object(d.c)(Object(U.createResourceManagerWrapper)(),D.injectWindowHeight,Object(m.b)(function(e,t){var n=t.isPicker,a=t.windowHeight,r=n?a-We:a-Qe;return{availableHeight:r,columnHeight:n?r-Ye-Xe:r,filterColumnWidth:n?Object(H.a)(16):Object(H.a)(25),rightSidebarIsOpen:K.a.getRightSidebarIsOpen(e)}}))(Ze);n.d(t,"RecordActionBar",function(){return x}),n.d(t,"RecordNavigationBar",function(){return _}),n.d(t,"ResourceManager",function(){return $e})},112:function(e,t,n){"use strict";n.r(t),n.d(t,"BOOTSTRAP_REGISTER_MODULES",function(){return a}),n.d(t,"BOOTSTRAP_UNREGISTER_MODULES",function(){return r});var a="BOOTSTRAP_REGISTER_MODULES",r="BOOTSTRAP_UNREGISTER_MODULES"},115:function(e,t,n){"use strict";n.r(t);var a=n(61),r=n(273);function i(){return function(e,t,n){var i=n.apiClient;return e({type:a.USER_GET_USER_REQUEST}),i.call(r.GET_USER).then(function(t){return e({payload:t,type:a.USER_GET_USER_SUCCESS}),t},function(t){e({error:!0,payload:t,type:a.USER_GET_USER_FAIL})})}}var o=n(152),c=n(131);function l(){return function(e){return e({type:a.USER_GET_USER_PREFERENCES_REQUEST}),new Promise(function(e,t){var n;try{n=o.utils.getItem(c.USER_PREFERENCES_KEY)}catch(a){return t(a)}return e(n)}).then(function(t){return e({payload:t,type:a.USER_GET_USER_PREFERENCES_SUCCESS}),t}).catch(function(t){e({error:!0,payload:t,type:a.USER_GET_USER_PREFERENCES_FAIL})})}}var s=n(441),u=n(272),d=n(19),m=n(10);function p(e){return function(t){return t({type:a.USER_UPDATE_USER_PREFERENCES_REQUEST}),new Promise(function(n){return t(o.actionCreators.setItem(c.USER_PREFERENCES_KEY,e)),n(e)}).then(function(e){return t({payload:e,type:a.USER_UPDATE_USER_PREFERENCES_SUCCESS}),e}).catch(function(e){t({error:!0,payload:e,type:a.USER_UPDATE_USER_PREFERENCES_FAIL})})}}var h=n(66);function f(e,t){return function(n,a){var r=h.a.getUserPreferences(a())||{};return n(p(Object(m.a)({},r,Object(d.a)({},e,t))))}}n.d(t,"getUser",function(){return i}),n.d(t,"getUserPreferences",function(){return l}),n.d(t,"login",function(){return s.a}),n.d(t,"logout",function(){return u.a}),n.d(t,"updateUserPreference",function(){return f}),n.d(t,"updateUserPreferences",function(){return p})},116:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l});var a="allCollapsed",r="allExpanded",i="firstExpanded",o="commonUi",c="multi",l="single"},117:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l});var a=n(158),r=Object(a.a)({actionPrefix:"RESOURCE_MANAGER",keys:[":managerScope",":managerScope.baseItems",":managerScope.currentTableRowNumber",":managerScope.expandedIds",":managerScope.focusIdWhenLoaded",":managerScope.listFilterValues",":managerScope.listItems",":managerScope.showAll"],name:"resourceManager"}),i=r.actionCreators,o=r.actionTypes,c=(r.constants,r.globalSelectors),l=r.reducer},118:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});var a=n(158),r=Object(a.a)({actionPrefix:"MAMMALS",initialValues:{activeFormSectionIndex:null,filterColumnIsOpen:!1,mainColumnActiveTab:"resultTable",showAllFormSections:!1},keys:["activeFormSectionIndex","currentTableRowNumber","filterColumnIsOpen","focusedSpecimenId","mainColumnActiveTab","showAllFormSections","totalNumberOfRecords"],name:"collectionMammals"}),i=r.actionCreators,o=(r.actionTypes,r.constants,r.globalSelectors),c=r.reducer},121:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u});var a=n(158),r=n(452),i=Object(a.a)({keys:[":formName","sectionNavigation.:formName.sectionInvalidStatus","sectionNavigation.:formName.activeFormSectionIndex","sectionNavigation.:formName.showAllFormSections"],name:r.a}),o=i.actionCreators,c=i.actionTypes,l=i.constants,s=i.globalSelectors,u=(i.selectors,i.reducer)},126:function(e,t,n){"use strict";function a(e,t){return!!(e&&e.payload&&e.payload.modules&&e.payload.modules[t])}var r=n(19),i=n(10),o=n(20),c=n.n(o),l=n(38),s=n.n(l);function u(e){var t=e.action,n=e.customRegisterKey,a=e.ignoreModuleNames,o=void 0!==a&&a,l=e.property,u=e.scopeUnderModules,d=void 0!==u&&u,m=e.state;if(!t||!t.payload)return m;var p=d?"".concat(n||l,".modules"):n||l,h=c.a.get(m,p),f=t.payload.modules||{},v=Object.keys(f).reduce(function(e,t){var n=f[t];return n[l]?o?Object(i.a)({},e,n[l]):Object(i.a)({},e,Object(r.a)({},t,n[l])):e},h||{});return v===h?m:s.a.set(m,p,v)}function d(e){var t=e.action,n=e.state,a=function(e,t){return e&&e.payload&&e.payload.config&&e.payload.config[t]?e.payload.config[t]:{}}(t,e.moduleName);return a?Object(i.a)({},n,a):n}function m(e){var t=e.action,n=e.customRegisterKey,a=e.ignoreModuleNames,r=void 0!==a&&a,o=e.property,l=e.scopeUnderModules,u=void 0!==l&&l,d=e.state;if(!t||!t.payload)return d;var m=u?"".concat(n||o,".modules"):n||o,p=c.a.get(d,m);if(!p||!Object.keys(p).length)return d;var h=t.payload.modules||{},f=Object.keys(h).reduce(function(e,t){if(r&&h[t][o]){var n=Object(i.a)({},e);return Object.keys(h[t][o]).forEach(function(e){return delete n[e]}),n}if(!e[t])return e;var a=Object(i.a)({},e);return delete a[t],a},p);return f===p?d:s.a.set(d,m,f)}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return m})},130:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var a="layout",r=16,i="view",o="modal"},131:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"AUTH_TOKEN_KEY",function(){return r}),n.d(t,"USER_PREFERENCES_KEY",function(){return i});var a="user",r="session",i="userPreferences"},132:function(e,t,n){"use strict";n.r(t),n.d(t,"SIZE_SET_BREAKPOINT",function(){return a}),n.d(t,"SIZE_SET_HEIGHT",function(){return r}),n.d(t,"SIZE_SET_WIDTH",function(){return i});var a="SIZE_SET_BREAKPOINT",r="SIZE_SET_HEIGHT",i="SIZE_SET_WIDTH"},134:function(e,t,n){"use strict";var a=n(10),r=n(157),i=n(454),o=n(274),c=n(455),l=n(456),s=n(278),u=n(473),d=n(458),m=n(275),p=n(459),h=Object(r.a)({Checkbox:i.a,CustomData:p.a,Input:o.a,Radio:c.a,RadioBoolean:l.a,RangeDate:s.a,Remarks:u.a,SingleDate:d.a,TextArea:m.a}),f=n(19),v=n(13),b=n(39);var g=n(181),y=n(0),O=n.n(y),E=n(1),j=n(25),T={icon:void 0,id:void 0,size:void 0};function S(e){var t=e.id,n=e.icon,a=e.module,r=e.onClick,i=e.size,o=e.textKey;return O.a.createElement(E.b,{id:t,onClick:r,size:i},O.a.createElement(E.k,{name:n}),O.a.createElement(j.ModuleTranslate,{capitalize:!0,module:a,textKey:o}))}S.defaultProps=T;var I=S,C=n(4),N=n(6),k=n(8),w=n(5),x=n(7),A=n(16),R=n(50),F=n(290),P=n(84),L={includeSourceLink:!1,recordHistoryId:void 0,username:"Admin"},M=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.eventType,n=e.includeSourceLink,a=e.recordHistoryId,r=e.timestamp,i=e.username,o=Object(P.getYMDHMSFromTimestamp)(r),c=i?"".concat(t," ").concat(i," ").concat(o):"".concat(t," ").concat(o);return n&&(c=O.a.createElement("span",null,c," ",O.a.createElement("a",{href:"/dataViewer/sourceData/".concat(a),target:"_blank"},"Source data ",O.a.createElement(E.k,{name:"external alternate"})))),O.a.createElement(E.i.Column,{width:16},c)}}]),t}(y.PureComponent);M.defaultProps=L;var _=M,D={createdEvent:void 0,lastModifiedEvent:void 0},B=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.createdEvent,n=e.lastModifiedEvent,a=e.i18n.moduleTranslate,r=e.module,i=t||n,o=t&&t.username||"Admin (imported)";return O.a.createElement(O.a.Fragment,null,i&&O.a.createElement(F.a,{as:"h3",module:r,textKey:"headers.recordHistory"}),t&&O.a.createElement(_,{eventType:a({capitalize:!0,module:r,textKey:"other.createdBy"}),includeSourceLink:t.hasSourceData,recordHistoryId:t.id,timestamp:t.srcCreatedAt,username:o}),n&&O.a.createElement(_,{eventType:a({capitalize:!0,module:r,textKey:"other.lastModifiedBy"}),timestamp:n.srcUpdatedAt,username:n.username}))}}]),t}(y.PureComponent);B.defaultProps=D;var V,U=Object(v.c)(Object(R.withI18n)(),Object(A.b)(function(e,t){var n=t.resourceActivities;return n&&n.length?{createdEvent:n.find(function(e){return"create"===e.action}),lastModifiedEvent:n.find(function(e){return"update"===e.action})}:{}}))(B),K=n(494),H=(V={AddButton:g.a,IconButton:I,RecordHistoryEvents:U,TranslatedHeader:F.a,TranslatedHeaderWithHelpIcon:K.a},Object.keys(V).reduce(function(e,t){return Object(a.a)({},e,Object(f.a)({},t,Object(v.c)(b.wrapInColumn)(V[t])))},{})),z=Object(a.a)({},h,H);t.a=z},136:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(20),i=n.n(r),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){var n=Object(a.a)({},t);return e.forEach(function(e){var a=i.a.get(t,"".concat(e,".fullPath"));a&&i.a.set(n,e,{errorCode:"REQUIRED",fullPath:a})}),n}},c=function(e){var t=i.a.get(e,"parent"),n=i.a.get(e,"parent.id");return t||n?Object(a.a)({},e,{parent:{id:{errorCode:"REQUIRED",fullPath:"parent.id"}}}):e};n.d(t,"createMapRequiredStrings",function(){return o}),n.d(t,"mapParentError",function(){return c})},137:function(e,t,n){"use strict";function a(e,t){return t}n.d(t,"a",function(){return a})},138:function(e,t,n){"use strict";var a={name:"legacyData",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.legacyData"}},{componentName:"CustomData",componentProps:{type:"read-only"},name:"legacyData",wrapInField:!0}]},r={name:"recordHistoryEvents",parts:[{componentName:"RecordHistoryEvents",name:"resourceActivities"}]};n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},139:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"SIZE_SMALL",function(){return r}),n.d(t,"SIZE_MEDIUM",function(){return i}),n.d(t,"SIZE_LARGE",function(){return o});var a="size",r="small",i="medium",o="large"},140:function(e,t,n){"use strict";var a=n(17),r=n(38),i=n.n(r),o=n(20),c=n.n(o),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(n,r){if(r&&r.length&&":"===r[0]){if(r.length>1&&":"===r[1]){var i=r.slice(2);if(void 0===t[i])throw new Error("Parameter ".concat(i," missing for segments: [").concat(e.join(", "),"]"));return[].concat(Object(a.a)(n),[t[i].split(".").join("-")])}var o=r.slice(1);if(void 0===t[o])throw new Error("Parameter ".concat(o," missing for segments: [").concat(e.join(", "),"]"));return[].concat(Object(a.a)(n),[t[o]])}return[].concat(Object(a.a)(n),[r])},[]).filter(function(e){return void 0!==e&&null!==e&&""!==e}).join(".")},s=function(e){return function(t,n){var a=l(e,n);return c.a.get(t,a)}},u=function(e){return function(t,n,a){var r=l(e,void 0!==a?n:{});return i.a.set(t,r,void 0!==a?a:n)}},d=function(e){return function(t,n){for(var a=l(e,n),r=i.a.del(t,a),o=a.split(".");o.length;){o.pop();var s=o.join("."),u=c.a.get(r,s);if(!u||0!==Object.keys(u).length)break;r=i.a.del(t,s)}return r}},m=function(e,t){var n=t.newPath,a=t.oldPath;return i.a.del(i.a.set(e,n,c.a.get(e,a)),a)};n(10);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return m})},1434:function(e,t){},144:function(e,t,n){"use strict";var a=n(91),r=n(437);t.a=Object(a.a)(r)},1444:function(e,t){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),o=n(1),c=n(153),l=function(e){var t=e.arrowIcon,n=e.buttonClassNames,a=e.buttonText,i=e.changeFieldValue,l=e.copyField,s=e.copyValue,u=e.fluid,d=e.label,m=e.pasteField;return r.a.createElement(o.h.Field,{style:{position:"relative"}},d&&r.a.createElement(c.a,{htmlFor:"copy ".concat(l," to ").concat(m),label:d}),r.a.createElement(o.b,{className:n,fluid:u,icon:!0,labelPosition:a&&"right",onClick:function(e){e.preventDefault(),i(m,s)}},a,r.a.createElement(o.k,{name:"copy"}),t&&r.a.createElement(o.k,{name:t})))};l.defaultProps={arrowIcon:void 0,buttonClassNames:void 0,buttonText:void 0,copyValue:void 0,fluid:!1,label:void 0};var s=Object(i.b)(function(e,t){var n=t.copyField,a=t.newValueSelector,r=t.formValueSelector;return{copyValue:a&&a(e)||r&&r(e,n)}})(l),u=n(454),d=n(4),m=n(6),p=n(8),h=n(5),f=n(9),v=n(7),b={hideOnScroll:!0,iconName:void 0,size:void 0,text:void 0,type:"button"},g=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClosePopup=n.handleClosePopup.bind(Object(f.a)(n)),n.handleOpenPopup=n.handleOpenPopup.bind(Object(f.a)(n)),n.state={popupOpen:!1},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleClosePopup",value:function(){this.setState({popupOpen:!1})}},{key:"handleOpenPopup",value:function(){this.setState({popupOpen:!0})}},{key:"renderTrigger",value:function(){var e=this.props,t=e.iconName,n=e.size,a=e.text;switch(e.type){case"link":return r.a.createElement("a",null,a);case"icon":return r.a.createElement(o.k,{name:t,size:n,style:{cursor:"pointer"}});default:return r.a.createElement(o.b,{basic:!0,size:n,type:"button"},a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.cancelButtonText,a=t.header,i=t.hideOnScroll,c=t.onConfirm,l=t.confirmButtonText;return r.a.createElement(o.t,{hideOnScroll:i,on:"click",onClose:this.handleClosePopup,onOpen:this.handleOpenPopup,open:this.state.popupOpen,trigger:this.renderTrigger()},r.a.createElement(o.t.Header,null,a),r.a.createElement(o.t.Content,null,r.a.createElement(o.b,{onClick:function(t){t.preventDefault(),e.handleClosePopup(),c()},type:"button"},l),r.a.createElement(o.b,{basic:!0,onClick:this.handleClosePopup},n)))}}]),t}(a.PureComponent);g.defaultProps=b;var y=g,O=n(20),E=n.n(O),j=n(42),T=function(e,t){if(!e)return"";switch(t){case"S":case"W":return"-".concat(e);default:return e}},S={float:"left",paddingRight:"0.5em",width:"15em"},I={initialDirection:void 0,initialValue:void 0},C=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleDirectionChange=n.handleDirectionChange.bind(Object(f.a)(n)),n.handleNumberBlur=n.handleNumberBlur.bind(Object(f.a)(n)),n.handleNumberChange=n.handleNumberChange.bind(Object(f.a)(n)),n.state={direction:n.props.initialDirection,number:n.props.initialValue},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleNumberBlur",value:function(){var e=this.props.input;(0,e.onBlur)(e.value)}},{key:"handleDirectionChange",value:function(e,t){var n=t.value,a=this.props.input.onChange,r=this.state.number;return a(T(r,n)),this.setState({direction:n})}},{key:"handleNumberChange",value:function(e){var t=e.target.value,n=this.props.input.onChange,a=this.state.direction;return n(T(t,a)),this.setState({number:t})}},{key:"render",value:function(){var e=this.props,t=e.coordinateLabel,n=e.initialDirection,a=e.input,i=a.name,c=a.value,l=e.meta,s=e.module,u=e.options,d=c&&c.startsWith("-")?c.slice(1):c;return r.a.createElement("div",{style:S},r.a.createElement(j.a,{enableHelpNotifications:!1,float:"left",label:t,meta:l,module:s,name:i,subLabel:!0},r.a.createElement(o.m,{label:r.a.createElement(o.g,{defaultValue:n,onChange:this.handleDirectionChange,options:u}),labelPosition:"right",onBlur:this.handleNumberBlur,onChange:this.handleNumberChange,type:"text",value:d||""})))}}]),t}(a.Component);C.defaultProps=I;var N=C,k=[{key:"north",text:"N",value:"N"},{key:"south",text:"S",value:"S"}],w=[{key:"east",text:"E",value:"E"},{key:"west",text:"W",value:"W"}],x=function(e,t){var n=E.a.get(t,e)||"";return"latitude"===e?n.startsWith("-")?"S":"N":n.startsWith("-")?"W":"E"},A=function(e,t){var n=E.a.get(t,e)||"";return n.startsWith("-")?n.slice(1):n},R={label:void 0},F=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=t.name,a=t.value,i=e.label,c=e.latitudeLabel,l=e.longitudeLabel,s=e.module;return r.a.createElement(j.a,{float:"left",label:i,meta:{},module:s,name:n},r.a.createElement(o.i,{style:{display:"inline-block"}},r.a.createElement(o.i.Column,{style:{paddingTop:0},width:8},r.a.createElement(he.a,{component:N,coordinateLabel:c,initialDirection:x("latitude",a),initialValue:A("latitude",a),module:s,name:"".concat(n,".latitude"),options:k})),r.a.createElement(o.i.Column,{style:{paddingTop:0},width:8},r.a.createElement(he.a,{component:N,coordinateLabel:l,initialDirection:x("longitude",a),initialValue:A("longitude",a),module:s,name:"".concat(n,".longitude"),options:w}))))}}]),t}(a.Component);F.defaultProps=R;var P=F,L=n(459);var M=function(e){var t=e.title;return r.a.createElement("div",null,t)},_=n(36),D=n(21),B=n(13),V=n(10),U=n(180),K=n.n(U),H=n(37),z=K()(void 0),G={bottom:0,fontSize:"1rem",lineHeight:1,margin:"auto",position:"absolute",right:"2.5em",top:0,zIndex:1},q={display:"inline-block",position:"relative",width:"100%"},Q={autoComplete:void 0,disableClearValue:!1,disabled:!1,displayAsButton:!1,fluid:!0,focusOnMount:!1,icon:void 0,initialText:"",isLoading:!1,mountHidden:H.a.isTest,placeholder:void 0,searchQuery:"",selectedOption:void 0,text:void 0},W=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClear=n.handleClear.bind(Object(f.a)(n)),n.handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(f.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&!this.props.selectedOption&&this.input.handleFocus()}},{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery;this.props.onSearchChange({inputName:this.props.input.name,searchQuery:n})}},{key:"handleOnBlur",value:function(){this.props.input.onBlur(),this.handleSearchChange(null,{searchQuery:""})}},{key:"handleOnChange",value:function(e,t){var n=t.value;if(this.handleSearchChange(null,{searchQuery:""}),"dropdown-search-id-text"===this.props.type){var a=z(Object(V.a)({},this.props.input.value,n,{normalized:n.normalized,textI:n.textI}));this.props.input.onBlur(a)}else this.props.input.onBlur(n)}},{key:"handleClear",value:function(){"dropdown-search-id-text"===this.props.type?this.handleOnChange(void 0,{value:Object(V.a)({},this.props.input.value,{normalized:void 0,textI:void 0})}):this.handleOnChange(void 0,{value:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoComplete,a=t.disableClearValue,i=t.disabled,c=t.displayAsButton,l=t.fluid,s=t.icon,u=t.initialText,d=t.input,m=t.isLoading,p=t.mountHidden,h=t.options,f=t.placeholder,v=t.searchQuery,b=t.selectedOption,g=d.onChange,y="".concat(d.name,".hidden"),O=b&&b.text||u,E=c?{background:"white",borderRadius:0,fontWeight:"normal"}:void 0,j=b&&b.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:q},!a&&j&&r.a.createElement(o.k,{link:!0,name:"close",onClick:this.handleClear,style:G}),r.a.createElement(o.g,Object.assign({autoComplete:n,button:c,disabled:i,fluid:l,icon:s,loading:m,onSearchChange:this.handleSearchChange,options:h,placeholder:f,ref:function(t){e.input=t},search:!0,searchQuery:v,selection:!0,selectOnBlur:!1,selectOnNavigation:!1,text:v||O},d,{onBlur:this.handleOnBlur,onChange:this.handleOnChange,style:E,value:j||""}))),p&&r.a.createElement("input",Object.assign({className:"hidden"},d,{name:y,onChange:function(e){g(e,{value:e.target.value})},type:"hidden",value:d.value||""})))}}]),t}(a.Component);W.defaultProps=Q;var Y=W,X={getSelectedOption:void 0,initialText:void 0,searchQuery:"",selectedOption:null},J=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initialText,n=e.input,a=e.onSearchChange,i=e.options,o=e.searchQuery,c=e.selectedOption,l=Object(D.a)(e,["initialText","input","onSearchChange","options","searchQuery","selectedOption"]);return r.a.createElement(Y,Object.assign({initialText:t,input:n,onSearchChange:a,options:i,searchQuery:o,selectedOption:c},l))}}]),t}(a.Component);J.defaultProps=X;var Z=Object(B.c)(Object(i.b)(function(e,t){var n=t.getSearchQuery,a=t.getOptions,r=t.getSelectedOption,i=t.input,o=n(e,i.name),c=i.value&&r&&r(e,i.value)||null;return{options:a(e,o),searchQuery:o,selectedOption:c}}))(J),$=n(39),ee=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pathToIdInValue,n=e.pathToTextInValue,a=E.a.get(this.props,"input.value.".concat(t)),r=E.a.get(this.props,"input.value.".concat(n)),i=E.a.get(this.props,"input.value");!a&&!r||H.a.isTest||this.props.updateSelectedOption({id:a,requireEitherOr:!0,text:r,value:i})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.pathToIdInValue,a=t.pathToTextInValue,r=E.a.get(this.props,"selectedOption.value.".concat(n)),i=E.a.get(this.props,"input.value.".concat(n)),o=E.a.get(this.props,"selectedOption.value.".concat(a)),c=E.a.get(this.props,"input.value.".concat(a)),l=E.a.get(this.props,"input.value");r===i&&o===c||setTimeout(function(){e.props.updateSelectedOption({id:i,requireEitherOr:!0,text:c,value:l})})}},{key:"render",value:function(){return r.a.createElement(Y,Object.assign({icon:"search",limit:20},this.props))}}]),t}(a.PureComponent),te=Object(B.c)(Object($.injectSearchOptions)({enablePlainTextOption:!0}))(ee),ne=n(17),ae=n(34),re={filterOptions:void 0,initialText:void 0,isLoading:void 0,limit:10,parse:void 0,selectedOption:void 0},ie=function(e){return Object(ae.createSelector)(function(e){return e},function(t){return e.find(function(e){return e.value===t})||null})},oe=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={filteredOptions:n.getFilteredOptions(),searchQuery:""},n.handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n.getSelectedOption=n.getSelectedOption.bind(Object(f.a)(n)),n.optionSelector=ie(e.options),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=!this.props.options||!this.props.options.length,n=e.options&&e.options.length;t&&n&&(this.setState({filteredOptions:this.getFilteredOptions({nextOptions:e.options})}),this.optionSelector=ie(e.options))}},{key:"getFilteredOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchQuery,n=e.nextOptions,a=this.props,r=a.filterOptions,i=a.options,o=a.limit,c=n||i,l=Object(ne.a)(c);if(r)return r({options:c,searchQuery:t});if(t){var s=t.toLowerCase(),u=c.filter(function(e){return 0===e.text.toLowerCase().indexOf(s)}),d=c.filter(function(e){return e.text.toLowerCase().indexOf(s)>0});l=[].concat(Object(ne.a)(u),Object(ne.a)(d))}return o?l.splice(0,o):l}},{key:"getSelectedOption",value:function(){var e=this.props.input;return void 0===e.value?null:this.optionSelector(e.value)}},{key:"handleSearchChange",value:function(e){var t=e.searchQuery;this.setState({filteredOptions:this.getFilteredOptions({searchQuery:t}),searchQuery:t})}},{key:"render",value:function(){var e=this.props,t=e.initialText,n=e.input,a=e.isLoading,i=e.parse,o=e.selectedOption,c=Object(D.a)(e,["initialText","input","isLoading","parse","selectedOption"]),l=this.state,s=l.filteredOptions,u=l.searchQuery;return r.a.createElement(Y,Object.assign({initialText:t,input:n,isLoading:a,onSearchChange:this.handleSearchChange,options:s,parse:i,searchQuery:u,selectedOption:o||this.getSelectedOption()},c))}}]),t}(a.Component);oe.defaultProps=re;var ce=oe,le={baseFilter:void 0,extractValue:function(e){return e&&e.attributes&&e.attributes.name},filterFunctionName:"nameSearch",include:void 0,includeFields:["id","attributes.name"],limit:10,nestItems:!1,onSearchQueryChange:void 0,pathToIdInValue:"",relationships:void 0,resolveRelationships:void 0,searchWithQuery:!1,selectedOption:void 0},se=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.pathToIdInValue,t=E.a.get(this.props,e?"input.value.".concat(e):"input.value");t&&!H.a.isTest&&this.props.updateSelectedOption({id:t})}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.pathToIdInValue,n=E.a.get(this.props,t?"selectedOption.value.".concat(t):"selectedOption.value"),a=E.a.get(this.props,t?"input.value.".concat(t):"input.value");n!==a&&setTimeout(function(){e.props.updateSelectedOption({id:a})})}},{key:"render",value:function(){return r.a.createElement(Y,Object.assign({icon:"search"},this.props))}}]),t}(a.Component);se.defaultProps=le;var ue=Object(B.c)(Object($.injectSearchOptions)())(se),de={leftButton:void 0,rightButton:void 0};function me(e){var t,n=e.input,a=e.leftButton,i=e.meta,c=e.rightButton,l=e.type;switch(l){case"dropdown-search-connect":t=Z;break;case"dropdown-search-id-text":t=te;break;case"dropdown-search-local":t=ce;break;case"dropdown-search-resource":t=ue;break;default:throw new Error("Type: ".concat(l," is not supported"))}var s=Object(_.a)({keys:j.c,props:e}),u=s.extractedProps,d=s.rest,m=!(!a&&!c);return r.a.createElement(j.a,Object.assign({},u,{name:n.name}),m?r.a.createElement(o.b.Group,{style:{width:"100%"}},a,r.a.createElement(t,Object.assign({displayAsButton:m},d,{input:n,meta:i})),c):r.a.createElement(t,Object.assign({},d,{input:n,meta:i})))}me.defaultProps=de;var pe=me,he=n(99),fe=n(121),ve=n(302),be={setFormSpec:fe.a.set[":formName"]},ge={getAllowTransition:void 0,setFormRef:void 0,unsavedChangesMessage:void 0},ye=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.formName,n=e.setFormSpec,a=e.sectionSpecs;n(Object(ve.c)(a),{formName:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onSubmit,a=e.setFormRef;return r.a.createElement("form",{className:"ui form",onSubmit:n,ref:a},t)}}]),t}(a.PureComponent);ye.defaultProps=ge;var Oe=Object(B.c)(Object($.withUnsubmittedFormConfirmation)({unsavedChangesMessage:"You have unsaved changes, are you sure you want to leave?"}),Object(i.b)(void 0,be))(ye),Ee=n(40),je=n(58),Te={onClose:void 0},Se=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).renderModal=n.renderModal.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"renderModal",value:function(){var e=this.props,t=e.children,n=Object(D.a)(e,["children"]);return r.a.createElement(je.LayerModal,Object.assign({className:"ui form"},n),t)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.open;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.c,{message:function(){return setTimeout(t),!1},when:n}),this.renderModal()):this.renderModal()}}]),t}(a.PureComponent);Se.defaultProps=Te;var Ie=Se,Ce=n(70),Ne=n(100);var ke=n(22),we=n(63),xe=n(30),Ae=n(12),Re=n.n(Ae),Fe=n(25),Pe={activeFormSectionIndex:void 0},Le=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeFormSectionIndex,n=e.index,a=e.module,i=e.onSetActiveFormSection,c=e.sectionName,l=e.sectionIsInvalid;return r.a.createElement(o.y,{active:n===t,className:l?"error":void 0,key:n,onClick:function(e){return i(e,n)},style:{width:Object(xe.a)(21.875)}},r.a.createElement(o.y.Content,null,r.a.createElement(o.y.Title,null,r.a.createElement(Fe.ModuleTranslate,{capitalize:!0,module:a,textKey:"formSectionTitles.".concat(c)})),r.a.createElement(o.y.Description,null,r.a.createElement(Fe.ModuleTranslate,{capitalize:!0,module:a,textKey:"formSectionDescriptions.".concat(c)}))))}}]),t}(a.Component);Le.defaultProps=Pe;var Me=Object(B.c)(Object(i.b)(function(e,t){var n=t.activeFormSectionIndex,a=t.formName,r=t.index,i=t.sectionName;return H.a.isTest?{sectionIsInvalid:!1}:{sectionIsInvalid:r===n?Ne.a.computeSectionIsInvalid(e,{formName:a,sectionName:i}):Ne.a.getSectionIsInvalid(e,{formName:a,sectionName:i})}}))(Le),_e={backgroundColor:"rgb(245, 245, 244)",borderColor:"#1e8c45",cursor:"pointer",margin:0},De={background:"none",borderColor:"#fff",cursor:"pointer",margin:0},Be={activeFormSectionIndex:Re.a.number,availableHeight:Re.a.number.isRequired,formName:Re.a.string.isRequired,header:Re.a.node.isRequired,loading:Re.a.bool,module:Re.a.string.isRequired,onSetActiveFormSection:Re.a.func.isRequired,onShowAllFormSections:Re.a.func.isRequired,sectionSpecs:Re.a.arrayOf(Re.a.shape({name:Re.a.string.isRequired}).isRequired).isRequired,showAllFormSections:Re.a.bool,showSectionsInNavigation:Re.a.bool,subHeader:Re.a.node},Ve={activeFormSectionIndex:void 0,loading:!1,showAllFormSections:!1,showSectionsInNavigation:!1,subHeader:void 0},Ue=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeFormSectionIndex,n=e.availableHeight,a=e.formName,i=e.header,c=e.loading,l=e.module,s=e.onSetActiveFormSection,u=e.onShowAllFormSections,d=e.sectionSpecs,m=e.showAllFormSections,p=e.showSectionsInNavigation,h=e.subHeader;return r.a.createElement(o.i,{padded:!0,style:{height:n,overflow:"auto"}},r.a.createElement(o.i.Column,null,r.a.createElement(o.j,{as:"h1",block:!0,style:{background:"none",borderColor:"#fff"}},c&&r.a.createElement(o.p,{active:!0,inline:!0,size:"tiny"}),!c&&i,!c&&h&&r.a.createElement(o.j.Subheader,{size:"large"},r.a.createElement("em",null,h))),p&&r.a.createElement(o.y.Group,{size:"small",style:{marginTop:"-10px"},vertical:!0},d.map(function(e,n){var i=e.name;return r.a.createElement(Me,{activeFormSectionIndex:t,formName:a,index:n,key:i,module:l,onSetActiveFormSection:s,sectionName:i})})),p&&u&&r.a.createElement(o.j,{block:!0,onClick:u,size:"small",style:m?_e:De,sub:!0},"Expand all sections")))}}]),t}(a.PureComponent);Ue.defaultProps=Ve;var Ke=Ue,He=n(134),ze={baseValues:void 0,changeFieldValue:void 0,customParts:{},formValueSelector:void 0,initiallyHiddenFieldsHaveValue:void 0,removeArrayFieldByIndex:void 0},Ge=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={showInitiallyHiddenParts:!1},n.showInitiallyHiddenParts=n.showInitiallyHiddenParts.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.initiallyHiddenFieldsHaveValue&&this.showInitiallyHiddenParts()}},{key:"componentWillReceiveProps",value:function(e){!this.props.initiallyHiddenFieldsHaveValue&&e.initiallyHiddenFieldsHaveValue&&this.showInitiallyHiddenParts()}},{key:"showInitiallyHiddenParts",value:function(){this.setState({showInitiallyHiddenParts:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.changeFieldValue,a=t.customParts,i=t.formName,c=t.formValueSelector,l=t.moduleName,s=t.removeArrayFieldByIndex,u=t.unitSpec,d=Object(D.a)(t,["changeFieldValue","customParts","formName","formValueSelector","moduleName","removeArrayFieldByIndex","unitSpec"]),m=this.state.showInitiallyHiddenParts,p=Object(V.a)({},He.a,a);return r.a.createElement(o.i.Row,{className:"relaxed"},u.parts.map(function(t,a){var o=t.componentName,u=t.componentProps,h=t.containsReduxFormField,f=t.initiallyHidden,v=t.initiallyShown,b=t.name,g=t.wrapInField,y=Object(D.a)(t,["componentName","componentProps","containsReduxFormField","initiallyHidden","initiallyShown","name","wrapInField"]),O=p[o];if(!O)throw new Error("Missing component for part ".concat(o));return f&&!m||v&&m?null:h?r.a.createElement(O,Object.assign({},d,{changeFieldValue:n,formName:i,formValueSelector:c,key:"".concat(o,"-").concat(a),module:l,name:b,onClick:e.showInitiallyHiddenParts,removeArrayFieldByIndex:s},u,y)):g?r.a.createElement(he.a,Object.assign({},d,{autoComplete:"off",component:O,key:b,module:l,name:b},u,y)):r.a.createElement(O,Object.assign({},d,{formValueSelector:c,key:"".concat(o,"-").concat(a),module:l,name:b,onClick:e.showInitiallyHiddenParts},u,y))}))}}]),t}(a.PureComponent);Ge.defaultProps=ze;var qe=Object(B.c)(Object(i.b)(function(e,t){var n=t.baseValues,a=t.formName,r=t.formValueSelector,i=t.unitSpec,o=i.compareInitiallyHiddenWithBaseValues,c=i.name;return{initiallyHiddenFieldsHaveValue:Ne.a.getInitiallyHiddenFieldsHaveValue(e,{baseValues:n,compareInitiallyHiddenWithBaseValues:o,formName:a,formValueSelector:r,unit:c})}}))(Ge),Qe={baseValues:void 0,changeFieldValue:void 0,customParts:void 0,formValueSelector:void 0,removeArrayFieldByIndex:void 0},We=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.baseValues,n=e.changeFieldValue,a=e.customParts,i=e.formName,c=e.formValueSelector,l=e.moduleName,s=e.removeArrayFieldByIndex,u=e.sectionSpec,d=Object(D.a)(e,["baseValues","changeFieldValue","customParts","formName","formValueSelector","moduleName","removeArrayFieldByIndex","sectionSpec"]);return r.a.createElement(o.w,{color:"green"},r.a.createElement(o.i,{textAlign:"left",verticalAlign:"bottom"},u.units.map(function(e){return r.a.createElement(qe,Object.assign({},d,{baseValues:t,changeFieldValue:n,customParts:a,formName:i,formValueSelector:c,key:e.name,moduleName:l,name:e.name,removeArrayFieldByIndex:s,unitSpec:e}))})))}}]),t}(a.PureComponent);We.defaultProps=Qe;var Ye=Object(B.c)()(We),Xe={activeFormSectionIndex:Re.a.number,availableHeight:Re.a.number.isRequired,baseValues:Re.a.object,changeFieldValue:Re.a.func,customParts:Re.a.objectOf(Re.a.func.isRequired),formName:Re.a.string.isRequired,formValueSelector:Re.a.func,moduleName:Re.a.string.isRequired,onGoToNextSection:Re.a.func.isRequired,onGoToPreviousSection:Re.a.func.isRequired,removeArrayFieldByIndex:Re.a.func,sectionSpecs:Re.a.arrayOf(Re.a.shape({name:Re.a.string.isRequired}).isRequired).isRequired,showAllFormSections:Re.a.bool,showSectionsInNavigation:Re.a.bool.isRequired},Je={activeFormSectionIndex:void 0,baseValues:void 0,changeFieldValue:void 0,customParts:void 0,formValueSelector:void 0,removeArrayFieldByIndex:void 0,showAllFormSections:void 0},Ze=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).renderActiveSection=n.renderActiveSection.bind(Object(f.a)(n)),n.renderAllSections=n.renderAllSections.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"renderActiveSection",value:function(){var e=this.props,t=e.activeFormSectionIndex,n=e.baseValues,a=e.changeFieldValue,i=e.customParts,c=e.formName,l=e.formValueSelector,s=e.moduleName,u=e.removeArrayFieldByIndex,d=e.sectionSpecs,m=e.showSectionsInNavigation,p=Object(D.a)(e,["activeFormSectionIndex","baseValues","changeFieldValue","customParts","formName","formValueSelector","moduleName","removeArrayFieldByIndex","sectionSpecs","showSectionsInNavigation"]),h=m?t:0,f=d[h];if(!f)throw new Error("Missing form section with index ".concat(h));var v=f.name;if(!f.units)throw new Error("Missing units for form section with index ".concat(t," with name ").concat(v));return r.a.createElement(o.i.Column,{width:16},r.a.createElement(Ye,Object.assign({},p,{baseValues:n,changeFieldValue:a,customParts:i,formName:c,formValueSelector:l,module:s,moduleName:s,name:v,removeArrayFieldByIndex:u,sectionSpec:f})))}},{key:"renderAllSections",value:function(){var e=this.props,t=e.changeFieldValue,n=e.customParts,a=e.formName,i=e.formValueSelector,c=e.moduleName,l=e.removeArrayFieldByIndex,s=e.sectionSpecs,u=Object(D.a)(e,["changeFieldValue","customParts","formName","formValueSelector","moduleName","removeArrayFieldByIndex","sectionSpecs"]);return r.a.createElement(r.a.Fragment,null,s.map(function(e){var s=e.name;if(!e.units)throw new Error("Missing unitSpecs for form section name ".concat(s));return r.a.createElement(o.i.Column,{key:s,width:16},r.a.createElement(Ye,Object.assign({},u,{changeFieldValue:t,customParts:n,formName:a,formValueSelector:i,module:c,moduleName:c,name:s,removeArrayFieldByIndex:l,sectionSpec:e})))}))}},{key:"render",value:function(){var e=this.props,t=e.activeFormSectionIndex,n=e.availableHeight,a=e.onGoToNextSection,i=e.onGoToPreviousSection,c=e.sectionSpecs,l=e.showAllFormSections,s=e.showSectionsInNavigation;return r.a.createElement("div",{className:"ui fluid dina background",style:{height:n}},r.a.createElement(o.i,{className:"text",container:!0,padded:!0},l?this.renderAllSections():this.renderActiveSection(),s&&!l&&r.a.createElement(o.i.Column,{textAlign:"right",width:16},r.a.createElement(o.b,{disabled:0===t,icon:!0,labelPosition:"left",onClick:i,type:"button"},r.a.createElement(o.k,{name:"left arrow"}),"Previous"),r.a.createElement(o.b,{disabled:t===c.length-1,icon:!0,labelPosition:"right",onClick:a,type:"button"},"Next",r.a.createElement(o.k,{name:"right arrow"})))))}}]),t}(a.PureComponent);Ze.defaultProps=Je;var $e=Ze,et=Object(ke.a)("coreModules/form/components/FormRow"),tt=[{key:"formSectionNavigation",width:Object(xe.a)(25)},{key:"formSectionView",style:{overflow:"auto"}}],nt={push:Ce.d,setActiveFormSectionIndex:fe.a.set["sectionNavigation.:formName.activeFormSectionIndex"],setShowAllFormSections:fe.a.set["sectionNavigation.:formName.showAllFormSections"],validateSections:function(e){var t=e.formName;return function(e,n){var a=n(),r=Ne.a.getSectionFieldNamesMap(a,{formName:t}),i=Object.keys(r),o={};return i.forEach(function(e){o[e]=Ne.a.computeSectionIsInvalid(a,{formName:t,sectionName:e})}),e(fe.a.set["sectionNavigation.:formName.sectionInvalidStatus"](o,{formName:t}))}}},at={activeFormSectionIndex:void 0,customParts:void 0,itemSubHeader:void 0,passthroughProps:["resourceActivities"],resourceIdPathParamKey:"itemId",sectionId:void 0,showAllFormSections:void 0,showSectionsInNavigation:!1},rt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSectionIdUpdate=n.handleSectionIdUpdate.bind(Object(f.a)(n)),n.handleSetActiveFormSection=n.handleSetActiveFormSection.bind(Object(f.a)(n)),n.handleGoToNextSection=n.handleGoToNextSection.bind(Object(f.a)(n)),n.handleGoToPreviousSection=n.handleGoToPreviousSection.bind(Object(f.a)(n)),n.handleShowAllFormSections=n.handleShowAllFormSections.bind(Object(f.a)(n)),n.renderColumn=n.renderColumn.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.handleSectionIdUpdate()}},{key:"componentWillReceiveProps",value:function(e){this.props.sectionId!==e.sectionId&&this.handleSectionIdUpdate(e)}},{key:"handleSectionIdUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.formName,a=t.sectionId,r=Number(a);Number.isInteger(r)?(this.props.setActiveFormSectionIndex(r,{formName:n}),this.props.setShowAllFormSections(!1,{formName:n})):"all"===a&&(this.props.setActiveFormSectionIndex(null,{formName:n}),this.props.setShowAllFormSections(!0,{formName:n})),setTimeout(function(){return e.props.validateSections({formName:t.formName})})}},{key:"handleSetActiveFormSection",value:function(e,t){e&&e.preventDefault();var n=this.props.resourceIdPathParamKey,a=this.props.match,r=a.path,i=a.params,o=r.replace(":".concat(n),i[n]).replace(":sectionId",t);this.props.push(o)}},{key:"handleGoToNextSection",value:function(e){var t=this.props,n=t.activeFormSectionIndex;n<t.sectionSpecs.length-1&&this.handleSetActiveFormSection(e,n+1)}},{key:"handleGoToPreviousSection",value:function(e){var t=this.props.activeFormSectionIndex;t>0&&this.handleSetActiveFormSection(e,t-1)}},{key:"handleShowAllFormSections",value:function(e){this.handleSetActiveFormSection(e,"all")}},{key:"renderColumn",value:function(e,t){switch(e){case"formSectionNavigation":var n=Object(_.a)({keys:[].concat(Object(ne.a)(Object.keys(Be)),Object(ne.a)(this.props.passthroughProps)),props:t}).extractedProps,a=this.props,i=a.itemHeader,o=a.itemSubHeader;return r.a.createElement(Ke,Object.assign({},n,{header:i,subHeader:o}));case"formSectionView":var c=Object(_.a)({keys:["itemHeader","itemSubHeader"].concat(Object(ne.a)(Object.keys(Xe)),Object(ne.a)(this.props.passthroughProps)),props:t}).extractedProps;return r.a.createElement($e,c);default:throw new Error("Unknown column: ".concat(e))}}},{key:"render",value:function(){et.render();var e=this.props,t=e.activeFormSectionIndex,n=e.customParts,a=e.match,i=e.moduleName,o=e.sectionSpecs,c=e.showAllFormSections,l=e.showSectionsInNavigation,s=Object(D.a)(e,["activeFormSectionIndex","customParts","match","moduleName","sectionSpecs","showAllFormSections","showSectionsInNavigation"]);return l&&void 0===t&&void 0===c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(we.ColumnLayout,Object.assign({},s,{activeFormSectionIndex:t,columns:tt,customParts:n,moduleName:i,onGoToNextSection:this.handleGoToNextSection,onGoToPreviousSection:this.handleGoToPreviousSection,onRemoteSubmit:this.handleRemoteSubmit,onSetActiveFormSection:this.handleSetActiveFormSection,onShowAllFormSections:this.handleShowAllFormSections,renderColumn:this.renderColumn,sectionSpecs:o,showAllFormSections:c,showSectionsInNavigation:l,specimenId:a.params.specimenId})))}}]),t}(a.PureComponent);rt.defaultProps=at;var it=Object(B.c)(Ee.g,Object(i.b)(function(e,t){var n=t.formName,a=t.match;return{activeFormSectionIndex:fe.d.get["sectionNavigation.:formName.activeFormSectionIndex"](e,{formName:n}),sectionId:E.a.get(a,"params.sectionId"),showAllFormSections:fe.d.get["sectionNavigation.:formName.showAllFormSections"](e,{formName:n})}},nt))(rt),ot=function(e){var t=e.columnHeaderTextKeys;return r.a.createElement(o.z.Row,null,t.map(function(e){return r.a.createElement(o.z.HeaderCell,{key:e},r.a.createElement(Fe.Translate,{textKey:e}))}))},ct=Object(ke.a)("modules:form:components:FormTable"),lt={footer:void 0,numberOfItemsToSkip:0},st=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.numberOfRows!==e.numberOfRows}},{key:"render",value:function(){for(var e=this.props,t=e.columnHeaderTextKeys,n=e.footer,a=e.numberOfItemsToSkip,i=e.numberOfRows,c=e.renderRow,l=[],s=0;s<i;s+=1)l.push(s);return l=l.slice(a),ct.render("Render"),r.a.createElement(o.z,{celled:!0,compact:!0,striped:!0},r.a.createElement(o.z.Header,null,r.a.createElement(ot,{columnHeaderTextKeys:t})),r.a.createElement(o.z.Body,null,l.map(function(e){return c({index:e,numberOfRows:i})})),n&&n)}}]),t}(a.Component);st.defaultProps=lt;var ut=st,dt=n(451),mt=n(274),pt=n(154),ht={errorScope:void 0,helpNotificationProps:void 0,helpText:void 0,isLoading:!1,label:void 0,module:void 0,required:!1,resultRenderer:void 0};function ft(e){var t=e.errorScope,n=e.handleResultSelect,a=e.handleSearchChange,i=e.helpNotificationProps,l=e.helpText,s=e.isLoading,u=e.input,d=e.label,m=e.meta,p=m.error,h=m.touched,f=e.module,v=e.required,b=e.resultRenderer,g=e.results,y=h&&!!p,O="".concat(u.name,".hidden");return r.a.createElement(o.h.Field,{error:y,required:v,style:{position:"relative"}},(d||i)&&r.a.createElement(c.a,{helpNotificationProps:i,helpText:l,htmlFor:u.name,label:d}),l&&r.a.createElement("p",null,l),r.a.createElement(o.v,Object.assign({loading:s,onResultSelect:n,onSearchChange:a,resultRenderer:b,results:g},u)),r.a.createElement("input",Object.assign({hidden:!0},u,{name:O,onChange:function(e){var t=e.target.value;n(e,{result:{title:t}})}})),y&&r.a.createElement(pt.FormFieldError,{error:p,module:f,scope:t||u.name}))}ft.defaultProps=ht;for(var vt=ft,bt=[],gt=[],yt=[],Ot=(new Date).getFullYear(),Et=1;Et<=31;Et+=1)bt.push(String(Et));for(var jt=1;jt<=12;jt+=1)gt.push(String(jt));for(var Tt=1500;Tt<=Ot;Tt+=1)yt.push(String(Tt));var St=n(65),It=function(e){return{key:e,title:e}},Ct=function(e,t){var n=function(e){return function(t){return 0===String(t).indexOf(String(e))}}(t);switch(e){case St.a:return bt.filter(n).map(It);case St.d:return gt.filter(n).map(It);case St.g:return yt.filter(n).slice(0,10).map(It);default:return[]}},Nt={errorScope:void 0,helpText:void 0,label:void 0,required:!1},kt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleResultSelect=n.handleResultSelect.bind(Object(f.a)(n)),n.handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleResultSelect",value:function(e,t){var n=t.result;n&&n.title&&this.props.input.onBlur(Number(n.title))}},{key:"handleSearchChange",value:function(e,t){var n=t.value;this.props.input.onChange(Number(n))}},{key:"render",value:function(){var e=this.props,t=e.datePart,n=e.errorScope,a=e.helpText,i=e.input,o=e.label,c=e.meta,l=e.required,s=i.value;return r.a.createElement(vt,{errorScope:n,handleResultSelect:this.handleResultSelect,handleSearchChange:this.handleSearchChange,helpText:a,icon:null,input:{name:i.name,value:s},label:o,meta:c,required:l,resultRenderer:M,results:Ct(t,s)})}}]),t}(a.Component);kt.defaultProps=Nt;var wt=kt,xt=n(251),At={display:"inline-block",position:"relative",width:"100%"},Rt={autoComplete:void 0,displayAsButton:!1,icon:"dropdown",initialText:"",isLoading:!1,mountHidden:H.a.isTest,noResultsMessage:"No results found.",searchQuery:"",selectedOptions:[],text:void 0},Ft=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(f.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleSearchChange",value:function(e,t){var n=t.searchQuery;this.props.onSearchChange({inputName:this.props.input.name,searchQuery:n})}},{key:"handleOnChange",value:function(e,t){var n=t.value;this.props.input.onBlur(n),this.handleSearchChange(null,{searchQuery:""})}},{key:"handleOnBlur",value:function(e,t){var n=t.value;this.props.searchQuery&&!n.includes(this.props.searchQuery)?this.props.input.onBlur([].concat(Object(ne.a)(n),[this.props.searchQuery])):this.props.input.onBlur(n),this.handleSearchChange(null,{searchQuery:""})}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,n=e.displayAsButton,a=e.icon,i=e.initialText,c=e.input,l=e.isLoading,s=(e.mountHidden,e.noResultsMessage),u=e.options,d=void 0===u?[]:u,m=e.searchQuery,p=e.selectedOptions,h=void 0===p?[]:p,f=[].concat(Object(ne.a)(d),Object(ne.a)(h)),v=c.onChange,b="".concat(c.name,".hidden"),g=n?{background:"white",borderRadius:0,fontWeight:"normal",widht:"100%"}:void 0;return r.a.createElement("div",{style:At},r.a.createElement(o.g,Object.assign({autoComplete:t,button:n,fluid:!0,icon:a,loading:l,multiple:!0,noResultsMessage:s,onSearchChange:this.handleSearchChange,options:f,placeholder:i,search:function(e){return e},searchQuery:m,selection:!0,selectOnBlur:!1,selectOnNavigation:!1},c,{onBlur:this.handleOnBlur,onChange:this.handleOnChange,style:g,value:h&&h.map(function(e){return e.value})})),r.a.createElement("input",Object.assign({className:"hidden"},c,{name:b,onChange:function(e){var t=e.target.value;v(e,{value:t})},type:"hidden",value:c.value||""})))}}]),t}(a.Component);Ft.defaultProps=Rt;var Pt=Ft,Lt={getSelectedOption:void 0,initialText:void 0,multiple:!1,searchQuery:"",selectedOptions:void 0},Mt=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.initialText,n=e.onSearchChange,a=e.options,i=e.searchQuery,o=e.selectedOptions,c=Object(D.a)(e,["initialText","onSearchChange","options","searchQuery","selectedOptions"]);return r.a.createElement(Pt,Object.assign({initialText:t,onSearchChange:n,options:a,searchQuery:i,selectedOptions:o},c))}}]),t}(a.Component);Mt.defaultProps=Lt;var _t=Object(B.c)(Object(i.b)(function(e,t){var n=t.getSearchQuery,a=t.getOptions,r=t.getSelectedOptions,i=t.input,o=n(e,i.name),c=i.value&&r&&r(e,i.value)||void 0;return{options:a(e,o),searchQuery:o,selectedOptions:c}}))(Mt),Dt={filterOptions:void 0,initialText:void 0,isLoading:void 0,limit:10,parse:void 0},Bt=function(e){return Object(ae.createSelector)(function(e){return e},function(t){return t&&t.map(function(t){return e.find(function(e){return e.value===t})})})},Vt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={filteredOptions:n.getFilteredOptions(),searchQuery:""},n.handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n.getSelectedOptions=n.getSelectedOptions.bind(Object(f.a)(n)),n.optionSelector=Bt(e.options),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=!this.props.options||!this.props.options.length,n=e.options&&e.options.length;t&&n&&(this.setState({filteredOptions:this.getFilteredOptions({nextOptions:e.options})}),this.optionSelector=Bt(e.options))}},{key:"getFilteredOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchQuery,n=e.nextOptions,a=this.props,r=a.filterOptions,i=a.options,o=a.limit,c=n||i,l=Object(ne.a)(c);if(r)return r({options:c,searchQuery:t});if(t){var s=t.toLowerCase(),u=c.filter(function(e){return 0===e.text.toLowerCase().indexOf(s)}),d=c.filter(function(e){return e.text.toLowerCase().indexOf(s)>0});l=[].concat(Object(ne.a)(u),Object(ne.a)(d))}return o?l.splice(0,o):l}},{key:"getSelectedOptions",value:function(){var e=this.props.input;return void 0===e.value?[]:this.optionSelector(e.value)}},{key:"handleSearchChange",value:function(e){var t=e.searchQuery;this.setState({filteredOptions:this.getFilteredOptions({searchQuery:t}),searchQuery:t})}},{key:"render",value:function(){var e=this.props,t=e.initialText,n=e.input,a=e.isLoading,i=e.parse,o=this.state,c=o.filteredOptions,l=o.searchQuery;return r.a.createElement(Pt,{initialText:t,input:n,isLoading:a,onSearchChange:this.handleSearchChange,options:c,parse:i,searchQuery:l,selectedOptions:this.getSelectedOptions()})}}]),t}(a.Component);Vt.defaultProps=Dt;var Ut=Vt,Kt={leftButton:void 0,rightButton:void 0};function Ht(e){var t,n=e.type,a=e.leftButton,i=e.rightButton,c=e.input;switch(n){case"multiple-search-selection-dropdown-connect":t=_t;break;case"multiple-search-selection-dropdown-local":t=Ut;break;default:throw new Error("Type: ".concat(n," is not supported"))}var l=Object(_.a)({keys:j.c,props:e}),s=l.extractedProps,u=l.rest,d=!(!a&&!i);return r.a.createElement(j.a,Object.assign({},s,{name:c.name}),d?r.a.createElement(o.b.Group,{style:{width:"100%"}},a,r.a.createElement(t,Object.assign({displayAsButton:d},u,{input:c})),i):r.a.createElement(t,Object.assign({},u,{input:c})))}Ht.defaultProps=Kt;var zt=Ht,Gt=n(455),qt=n(456),Qt=n(278),Wt=n(473);var Yt=function(e){var t=e.text;return r.a.createElement("div",null,t)},Xt={isLoading:!1,mountHidden:H.a.isTest,resultRenderer:Yt,searchQuery:null,selectedOption:null},Jt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleResultSelect=n.handleResultSelect.bind(Object(f.a)(n)),n.handleSearchChange=n.handleSearchChange.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"handleSearchChange",value:function(e,t){var n=t.value;this.props.onSearchChange({inputName:this.props.input.name,searchQuery:n}),this.props.input.value&&this.props.input.onChange("")}},{key:"handleResultSelect",value:function(e,t){var n=t.result.value;this.handleSearchChange(null,{value:""}),this.props.input.onBlur(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.isLoading,i=t.resultRenderer,c=t.mountHidden,l=t.options,s=t.searchQuery,u=t.selectedOption,d="".concat(n.name,".hidden");return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.v,Object.assign({loading:a,onResultSelect:this.handleResultSelect,onSearchChange:this.handleSearchChange,resultRenderer:i,results:l},n,{onBlur:void 0,value:s||u&&u.text||""})),c&&r.a.createElement("input",Object.assign({hidden:!0},n,{name:d,onChange:function(t){e.handleResultSelect(t,{result:{value:t.target.value}})}})))}}]),t}(a.Component);Jt.defaultProps=Xt;var Zt=Jt,$t=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.options,a=e.searchQuery,i=e.selectedOption,o=Object(D.a)(e,["isLoading","options","searchQuery","selectedOption"]);return r.a.createElement(Zt,Object.assign({isLoading:t,options:n,searchQuery:a,selectedOption:i},o))}}]),t}(a.Component);$t.defaultProps={isLoading:!0,searchQuery:null,selectedOption:null};var en=Object(B.c)(Object(i.b)(function(e,t){var n=t.getOptions,a=t.getSearchQuery,r=t.getSearchLoading,i=t.getSelectedOption,o=t.input,c=a(e,o.name),l=o.value&&i(e,o.value)||null;return{isLoading:r(e),options:n(e,c),searchQuery:c,selectedOption:l}}))($t);var tn=function(e){var t,n=e.input,a=e.type;switch(a){case"search-connect":t=en;break;default:throw new Error("Type: ".concat(a," is not supported"))}var i=Object(_.a)({keys:j.c,props:e}),o=i.extractedProps,c=i.rest;return r.a.createElement(j.a,Object.assign({},o,{name:n.name}),r.a.createElement(t,c))},nn=n(458),an=n(275),rn=n(457),on=n(279),cn=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e))).renderInput=n.renderInput.bind(Object(f.a)(n)),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"renderInput",value:function(e){return r.a.createElement(pe,Object.assign({},this.props,e))}},{key:"render",value:function(){return r.a.createElement(on.a,Object.assign({},this.props,{renderInput:this.renderInput}))}}]),t}(a.PureComponent);n.d(t,"ButtonCopyPasteField",function(){return s}),n.d(t,"Checkbox",function(){return u.a}),n.d(t,"ConfirmationPopup",function(){return y}),n.d(t,"Coordinates",function(){return P}),n.d(t,"CustomData",function(){return L.a}),n.d(t,"DisplaySearchResult",function(){return M}),n.d(t,"DropdownSearch",function(){return pe}),n.d(t,"Field",function(){return he.a}),n.d(t,"FieldLabel",function(){return c.a}),n.d(t,"FieldTemplate",function(){return j.a}),n.d(t,"Form",function(){return Oe}),n.d(t,"FormModal",function(){return Ie}),n.d(t,"FormRow",function(){return it}),n.d(t,"FormTable",function(){return ut}),n.d(t,"HelpTextNotification",function(){return dt.a}),n.d(t,"Input",function(){return mt.a}),n.d(t,"InputDatePart",function(){return wt}),n.d(t,"InputText",function(){return xt.a}),n.d(t,"MultipleSearchSelectionDropdown",function(){return zt}),n.d(t,"Radio",function(){return Gt.a}),n.d(t,"RadioBoolean",function(){return qt.a}),n.d(t,"RangeDate",function(){return Qt.a}),n.d(t,"Remarks",function(){return Wt.a}),n.d(t,"Search",function(){return tn}),n.d(t,"Section",function(){return Ye}),n.d(t,"SingleDate",function(){return nn.a}),n.d(t,"TextArea",function(){return an.a}),n.d(t,"TextAreaInput",function(){return rn.a}),n.d(t,"TogglableDropdownSearch",function(){return cn}),n.d(t,"TogglableField",function(){return on.a}),n.d(t,"Unit",function(){return qe})},153:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(25),o=n(88),c=n(443),l=n(449),s=function(e){var t=e.helpNotificationProps,n=e.helpText,a=e.htmlFor,c=e.label,l=e.labelKey,s=e.required,u=e.subLabel?{display:"inline-block",fontSize:"0.9em",fontStyle:"italic",fontWeight:400,margin:0}:{display:"inline-block"},d=s?{display:"inline-block",marginLeft:"0.25em"}:{display:"inline-block"},m=c||r.a.createElement(i.Translate,{capitalize:!0,textKey:l});return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a,style:u},m,n&&" (",n&&n,n&&")",t&&" "),t&&r.a.createElement("div",{style:d},r.a.createElement(o.FormFieldHelpIcon,{helpNotificationProps:t})))};s.defaultProps={helpNotificationProps:void 0,helpText:void 0,htmlFor:void 0,label:void 0,labelKey:void 0,required:!1,subLabel:!1},t.a=Object(l.a)(Object(c.a)(s))},154:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),o=n(908),c=n(1),l=n(25),s=function(e){var t=e.errors,n=e.scope;return r.a.createElement(c.r,{negative:!0},r.a.createElement(c.n.Group,{color:"red",size:"tiny"},t.map(function(e){var t=JSON.stringify({errorCode:e.errorCode||{},params:e.params||{}});return r.a.createElement(c.n,{key:t},r.a.createElement(l.ModuleTranslate,{capitalize:!0,module:"error",params:e.params,scope:n,textKey:e.errorCode}))})))};s.defaultProps={scope:"schemaErrors"};var u=s,d=function(e){var t=e.errors;return t&&t.length>0?r.a.createElement(u,{errors:t}):null};d.defaultProps={errors:void 0};var m=Object(i.b)(function(e,t){var n=t.form,a=Object(o.a)(n)(e);return{errors:a&&a.schemaErrors}})(d),p=n(4),h=n(6),f=n(8),v=n(5),b=n(7),g=n(954),y={error:void 0,info:void 0},O=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.info;return r.a.createElement(c.i,{columns:1,container:!0,style:{padding:"2em"},textAlign:"left"},r.a.createElement(c.i.Column,null,r.a.createElement(c.j,{as:"h1"},"There is an error loading this page"),r.a.createElement("p",null,"There is a technical problem that prevents this page from loading. Try reloading the page.")),r.a.createElement(c.i.Column,null,r.a.createElement(c.b,{onClick:function(){return window.location.reload()},primary:!0},"Reload this page")),r.a.createElement(c.i.Column,null,r.a.createElement(c.w,{secondary:!0},r.a.createElement(c.j,{sub:!0},"Information about the error"),r.a.createElement("br",null),r.a.createElement("strong",null,t&&t.toString()),r.a.createElement("br",null),r.a.createElement("br",null),n&&n)))}}]),t}(a.Component);O.defaultProps=y;var E=O,j={FallbackComponent:void 0},T=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={hasError:!1},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidCatch",value:function(e,t){try{var n=e&&e.toString(),a=t&&"object"===typeof t?JSON.stringify(t,null,2):t;this.setState({error:n,hasError:!0,info:a}),window&&window.navigator&&window.navigator.sendBeacon&&window.navigator.sendBeacon(g.URL,JSON.stringify({source:window.location.href,stack:"".concat(n," - ").concat(a)}))}catch(r){this.setState({hasError:!0})}}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.hasError,a=e.info;if(n){var i=this.props.FallbackComponent;return i?r.a.createElement(i,null):r.a.createElement(E,{error:t,info:a})}return this.props.children}}]),t}(a.Component);T.defaultProps=j;var S=T,I=function(e){var t=e.scope,n=e.error,a=e.module,i=e.style,o=e.textKeys,c=e.warning;if(o.length)return r.a.createElement("span",{className:"ui red tiny label",style:i},r.a.createElement(l.ModuleTranslate,{capitalize:!0,params:n.params,textKeys:o}));var s=c?"ui orange tiny label":"ui red tiny label";return r.a.createElement("span",{className:s,style:i},a?r.a.createElement(l.ModuleTranslate,{capitalize:!0,modules:[a,"error"],params:n.params,scope:t,textKey:n.errorCode}):r.a.createElement(l.ModuleTranslate,{capitalize:!0,module:"error",params:n.params,scope:t,textKey:n.errorCode}))};I.defaultProps={module:"",scope:void 0,style:{bottom:0,left:0,position:"absolute",textAlign:"left",transform:"translateY(100%)",zIndex:20},textKeys:[],warning:!1};var C=I;n.d(t,"ConnectedFormSchemaError",function(){return m}),n.d(t,"ErrorBoundary",function(){return S}),n.d(t,"FormFieldError",function(){return C}),n.d(t,"FormSchemaError",function(){return u})},155:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(9),s=n(7),u=n(0),d=n.n(u),m=n(12),p=n.n(m),h=n(16),f=n(70),v=n(646),b=n.n(v),g=n(22),y=n(191),O=n(166),E=Object(g.a)("modules:keyboardShortcuts:DisplayShortcuts"),j={push:f.d,registerKeyboardShortcut:O.registerKeyboardShortcut,unregisterKeyboardShortcut:O.unregisterKeyboardShortcut},T={activeInLayer:p.a.string,children:p.a.node,layer:p.a.string,onPress:p.a.func,push:p.a.func.isRequired,registerKeyboardShortcut:p.a.func.isRequired,shortcuts:p.a.arrayOf(p.a.shape({activeInLayer:p.a.string,command:p.a.string.isRequired,description:p.a.string.isRequired,onPress:p.a.func}).isRequired).isRequired,unregisterKeyboardShortcut:p.a.func.isRequired},S={activeInLayer:void 0,children:void 0,layer:void 0,onPress:void 0},I=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).getHandler=n.getHandler.bind(Object(l.a)(n)),n.getParamsHandler=n.getParamsHandler.bind(Object(l.a)(n)),n.registerKeyboardShortcut=n.registerKeyboardShortcut.bind(Object(l.a)(n)),n.unregisterKeyboardShortcut=n.unregisterKeyboardShortcut.bind(Object(l.a)(n)),n.addShortcuts=n.addShortcuts.bind(Object(l.a)(n)),n.removeShortcuts=n.removeShortcuts.bind(Object(l.a)(n)),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.addShortcuts()}},{key:"componentWillReceiveProps",value:function(e){this.props.layer!==e.layer&&this.props.activeInLayer===e.layer&&this.addShortcuts(e)}},{key:"componentWillUnmount",value:function(){this.removeShortcuts()}},{key:"getHandler",value:function(e){var t=this,n=this.props,a=n.activeInLayer,r=n.onPress,i=e.activeInLayer,o=e.onPress,c=i||a,l=o||r||this.getParamsHandler(e);return c?function(){return t.props.layer!==c?null:l.apply(void 0,arguments)}:l}},{key:"getParamsHandler",value:function(e){var t=this,n=e.command,a=e.params;switch(e.type){case"push":return function(){return t.props.push(a.path)};default:return console.error("Missing params handler for keyboard shortcut: ".concat(n)),function(){}}}},{key:"addShortcuts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.activeInLayer,r=t.shortcuts;if(!r||!r.length)throw new Error("Missing shortcuts");r.forEach(function(t){var r=t.activeInLayer,i=t.command,o=r||n;return Array.isArray(i)?i.forEach(function(n){e.registerKeyboardShortcut(Object(a.a)({},t,{activeInLayer:o,command:n}))}):e.registerKeyboardShortcut(Object(a.a)({activeInLayer:o},t))})}},{key:"removeShortcuts",value:function(){var e=this;this.props.shortcuts.forEach(function(t){var n=t.command;return e.unregisterKeyboardShortcut(n)})}},{key:"registerKeyboardShortcut",value:function(e){var t=e.command;b.a.bind(t,this.getHandler(e)),this.props.registerKeyboardShortcut(e)}},{key:"unregisterKeyboardShortcut",value:function(e){b.a.unbind(e),this.props.unregisterKeyboardShortcut(e)}},{key:"render",value:function(){if(E.render(),!this.props.children)return null;var e=Object(a.a)({},this.props);return Object.keys(T).forEach(function(t){delete e[t]}),u.Children.map(this.props.children,function(t){return Object(u.cloneElement)(t,e)})}}]),t}(u.Component);I.defaultProps=S;var C=Object(h.b)(function(e){return{layer:y.a.getLayer(e)}},j)(I),N=n(13),k=n(58),w=n(1),x=n(37),A=n(25),R=Object(g.a)("modules:keyboardShortcuts:DisplayShortcuts"),F=Object(A.createModuleTranslate)("keyboardShortcuts"),P=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),L=P?"command":"ctrl",M=P?"option":"alt",_={setShortcutsModalHidden:O.setShortcutsModalHidden,setShortcutsModalVisible:O.setShortcutsModalVisible,toggleShortcutsModal:O.toggleShortcutsModal},D=Object(N.c)(Object(h.b)(function(e){return{shortcutsList:y.a.getShortcutsList(e),showShortcutInfo:y.a.getShowInfo(e)}},_))(function(e){var t=e.setShortcutsModalHidden,n=e.shortcutsList,a=e.showShortcutInfo,r=e.toggleShortcutsModal;return R.render(),d.a.createElement(C,{shortcuts:[{command:"d d",description:"Show/hide list of active shortcuts",onPress:r}]},d.a.createElement(k.LayerModal,{closeOnDocumentClick:!0,onClick:t,onClose:t,open:a&&!x.a.isTest},d.a.createElement(w.s.Header,null,d.a.createElement(F,{textKey:"ShortcutsDisplay.header"})),d.a.createElement(w.s.Content,null,d.a.createElement(w.s.Description,null,d.a.createElement(w.z,{celled:!0,color:"green"},d.a.createElement(w.z.Header,null,d.a.createElement(w.z.Row,null,d.a.createElement(w.z.HeaderCell,null,d.a.createElement(w.k,{name:"keyboard"}),d.a.createElement(F,{textKey:"ShortcutsDisplay.table.header.code"})),d.a.createElement(w.z.HeaderCell,null,d.a.createElement(w.k,{name:"info"}),d.a.createElement(F,{textKey:"ShortcutsDisplay.table.header.description"})))),d.a.createElement(w.z.Body,null,n.map(function(e){var t=e.command,n=e.description;return d.a.createElement(w.z.Row,{key:t},d.a.createElement(w.z.Cell,null,t.replace("mod",L).replace("alt",M)),d.a.createElement(w.z.Cell,null,n))})))))))});n.d(t,"a",function(){return C}),n.d(t,"b",function(){return D})},157:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(19),r=n(10),i=n(13),o=n(39);function c(e){return Object.keys(e).reduce(function(t,n){return Object(r.a)({},t,Object(a.a)({},n,Object(i.c)(o.wrapInColumn)(e[n])))},{})}},158:function(e,t,n){"use strict";var a=n(19),r=n(10),i=n(167),o=function(e){return Object.keys(e).reduce(function(t,n){var o=function(e){var t=e.actionType,n=e.parameters,o=void 0===n?[]:n,c=!!o.length,l=c?1:0;return function(){for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var d=Array.from(s),m=d.length;if(m!==l)throw new Error("Unexpected number of arguments: ".concat(m," for del ").concat(e.key,". Expected to be called with: ").concat(c?"(params)":"()"));var p=Object(i.a)(d,1)[0];if(c&&"object"!==typeof p)throw new Error("Unexpected type of params: ".concat(typeof p," for del ").concat(e.key," Expected object with keys: ").concat(o.join(", ")));return{payload:{parameters:o.reduce(function(e,t){return Object(r.a)({},e,Object(a.a)({},t,p[t]))},{})},type:t}}}(e[n]);return Object(r.a)({},t,Object(a.a)({},n,o))},{})},c=function(e){return Object.keys(e).reduce(function(t,n){var o=function(e){var t=e.actionType,n=e.parameters,o=void 0===n?[]:n,c=!!o.length,l=c?2:1;return function(){for(var n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var d=Array.from(s),m=d.length;if(m!==l)throw new Error("Unexpected number of arguments: ".concat(m," for set ").concat(e.key,". Expected to be called with: ").concat(c?"(value, params)":"(value)"));var p=Object(i.a)(d,2),h=p[0],f=p[1];if(c&&"object"!==typeof f)throw new Error("Unexpected type of params: ".concat(typeof f," for set ").concat(e.key," Expected object with keys: ").concat(o.join(", ")));return{payload:{parameters:c?o.reduce(function(e,t){return Object(r.a)({},e,Object(a.a)({},t,f[t]))},{}):{},value:h},type:t}}}(e[n]);return Object(r.a)({},t,Object(a.a)({},n,o))},{})};var l=n(91);var s=n(17),u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/:/g,"")},d=function(e){var t=e.actionPrefix,n=e.actionVerb,a=e.key;return"".concat(t,"_").concat(n,"_").concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(e).toUpperCase().replace(/\./g,"_")}(a))},m=function(e){var t=e.actionPrefix,n=e.actionVerb,a=e.key,r=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(".").reduce(function(e,t){if(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf(":")>-1}(t)){var n=u(t);return[].concat(Object(s.a)(e),[n])}return e},[])}(a),i=u(a);return{actionType:d({actionPrefix:t,actionVerb:n,key:a}),cleanKey:i,key:a,parameters:r}},p=function(e){var t=e.actionPrefix,n=e.actionVerb;return e.keys.reduce(function(e,i){var o=m({actionPrefix:t,actionVerb:n,key:i});return Object(r.a)({},e,Object(a.a)({},i,o))},{})};var h=n(140),f=function(e){return Object.keys(e).reduce(function(t,n){var i=e[n],o=function(e){var t=e.key.split("."),n=Object(h.a)(t);return function(e,t){var a=(t.payload||{}).parameters,r=n(e,void 0===a?void 0:a);return void 0===r?{}:r}}(i),c=i.actionType;return Object(r.a)({},t,Object(a.a)({},c,o))},{})},v=function(e){return Object.keys(e).reduce(function(t,n){var i=e[n],o=function(e){var t=e.key.split("."),n=Object(h.c)(t);return function(e,t){var a=t.payload||{},r=a.value,i=a.parameters;return n(e,void 0===i?void 0:i,r)}}(i),c=i.actionType;return Object(r.a)({},t,Object(a.a)({},c,o))},{})};function b(e){var t=e.keySpecifications,n=e.initialValues,a=void 0===n?{}:n,i=f(t.del),o=v(t.set),c=Object(r.a)({},i,o);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:JSON.parse(JSON.stringify(a)),t=arguments.length>1?arguments[1]:void 0,n=t.type;return c[n]?c[n](e,t):e}}var g=function(e,t){var n=e.key,a=t?[t].concat(Object(s.a)(n.split("."))):n.split("."),r=Object(h.b)(a);return function(e,t){return r(e,t)}};t.a=function(e){var t=e.actionPrefix,n=e.initialValues,i=e.keys,s=void 0===i?[]:i,u=e.name,d=e.reducerKey,m=t||u.toUpperCase(),h=function(e){return{MODULE_NAME:e.name}}({name:u}),f=function(e){var t=e.actionPrefix,n=e.keys;return{del:p({actionPrefix:t,actionVerb:"DEL",keys:n}),set:p({actionPrefix:t,actionVerb:"SET",keys:n})}}({actionPrefix:m,keys:s}),v=function(e){var t=e.keySpecifications;return{del:o(t.del),set:c(t.set)}}({keySpecifications:f}),y=b({initialValues:n,keySpecifications:f}),O=function(e){var t=e.keySpecifications,n=e.name,i=e.reducerKey;return{get:Object.keys(t.set).reduce(function(e,n){var o=t.set[n],c=g(o,i);return Object(r.a)({},e,Object(a.a)({},n,c))},{}),getLocalState:function(e){return e[n]}}}({keySpecifications:f,name:u,reducerKey:d});return{actionCreators:v,actionTypes:function(e){var t=e.keySpecifications,n={};return Object.keys(t).forEach(function(e){Object.keys(t[e]).forEach(function(a){var r=t[e][a].actionType;n[r]=r,n[e]=n[e]||{},n[e][a]=r})}),n}({keySpecifications:f}),constants:h,globalSelectors:function(e){return{get:Object(l.a)(Object(r.a)({getLocalState:e.getLocalState},e.get)),getLocalState:e.getLocalState}}(O),reducer:y,selectors:O}}},165:function(e,t,n){"use strict";n.r(t),n.d(t,"NOTIFICATIONS_CREATE_NOTIFICATION",function(){return a}),n.d(t,"NOTIFICATIONS_REMOVE_NOTIFICATION",function(){return r});var a="NOTIFICATIONS_CREATE_NOTIFICATION",r="NOTIFICATIONS_REMOVE_NOTIFICATION"},1654:function(e,t){},166:function(e,t,n){"use strict";n.r(t);var a=n(94);function r(e){return{payload:{activeInLayer:e.activeInLayer,command:e.command,description:e.description},type:a.KEYBOARD_SHORTCUTS_REGISTER}}function i(e){return{payload:e,type:a.KEYBOARD_SHORTCUTS_SET_LAYER}}function o(){return{type:a.KEYBOARD_SHORTCUTS_SET_MODAL_HIDDEN}}function c(){return{type:a.KEYBOARD_SHORTCUTS_SET_MODAL_VISIBLE}}var l=n(191);function s(){return function(e,t){return l.a.getShowInfo(t())?e(o()):e(c())}}function u(e){return{payload:{command:e},type:a.KEYBOARD_SHORTCUTS_UNREGISTER}}n.d(t,"registerKeyboardShortcut",function(){return r}),n.d(t,"setLayer",function(){return i}),n.d(t,"setShortcutsModalHidden",function(){return o}),n.d(t,"setShortcutsModalVisible",function(){return c}),n.d(t,"toggleShortcutsModal",function(){return s}),n.d(t,"unregisterKeyboardShortcut",function(){return u})},168:function(e,t,n){var a=n(1318),r=n(1319);e.exports=r({createApiClientValidator:a,importFaker:function(){return n.e(3).then(n.t.bind(null,1728,7))}})},1726:function(e,t,n){"use strict";n.r(t);n(989);var a=n(37),r=(n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(498)),i=n(25),o=n(88),c=n(0),l=n.n(c),s=n(248),u=n.n(s),d=n(40),m=n(70),p=n(16),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var v=n(154),b=n(196),g=n(653),y=Object(b.a)({modules:function(){return[Promise.resolve().then(n.bind(null,506)),Promise.resolve().then(n.bind(null,961))]},name:g.MODULE_NAME,view:function(){return n.e(5).then(n.bind(null,2890))}}),O=n(654),E=Object(b.a)({modules:function(){return[Promise.resolve().then(n.bind(null,506)),Promise.resolve().then(n.bind(null,961))]},name:O.MODULE_NAME,view:function(){return n.e(8).then(n.bind(null,2892))}}),j=n(655),T=Object(b.a)({name:j.MODULE_NAME,view:function(){return n.e(11).then(n.bind(null,2893))}}),S=n(477),I=n.n(S)()(),C={api:{enableEndpointMocks:a.a.mock,validateInput:!1,validateOutput:!1},devToolsExtension:a.a.isDevelopment&&"function"===typeof devToolsExtension,i18n:{availableLanguages:["en","sv"],defaultLanguage:"en",language:"en",translations:{common:{yes:{en:"yes",sv:"ja"}}}},logger:{collapsed:!0,diff:!0},routing:I,size:{breakpoints:[{maxWidth:768,size:"small"},{maxWidth:1200,size:"medium"},{size:"large"}]}},N=[n(511),n(510),n(488),n(504),n(503),n(507),n(513),n(502),n(500),n(501),n(247),n(491),n(492),n(493)],k=n(658),w=Object(b.a)({name:k.MODULE_NAME,view:function(){return n.e(7).then(n.bind(null,2891))}}),x=Object(r.a)({config:C,modules:N,viewOrder:["public","start","app","dataViewer","specimensMammals","home","manageAgents","manageLocalities","manageStorageLocations","manageTaxonomy","manageTaxonNames","sourceData","login","settings","docs","pageNotFound"]});u.a.render(l.a.createElement(p.a,{store:x},l.a.createElement(m.a,{history:C.routing},l.a.createElement(i.I18nProvider,null,l.a.createElement(v.ErrorBoundary,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(d.f,null,l.a.createElement(d.e,{component:E,path:"/dataViewer"}),l.a.createElement(d.e,{component:y,path:"/app"}),l.a.createElement(d.e,{component:T,path:"/docs"}),l.a.createElement(d.e,{component:w})),l.a.createElement(o.NotificationDisplay,{displayType:"fixed"})))))),document.getElementById("root")),a.a.enableServiceWorker&&function(){if(a.a.isProduction&&"serviceWorker"in navigator){if(new URL(a.a.publicUrl,window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat(a.a.publicUrl,"/service-worker.js");h?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):f(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):f(e)})}}()},175:function(e,t,n){"use strict";n.r(t);var a=n(282),r=n(453),i=n(461),o=n(13),c=n(47),l=n(499),s=Object(o.c)(Object(c.createQueryState)(),Object(c.createNavigationState)())(l.a),u=n(460);n.d(t,"AgentDropdownPickerSearch",function(){return a.a}),n.d(t,"AgentDropdownSearch",function(){return r.a}),n.d(t,"AgentIdTextResult",function(){return i.a}),n.d(t,"AgentManager",function(){return s}),n.d(t,"TogglableAgentDropdownPickerSearch",function(){return u.a})},176:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(15),m=n(43),p={taxonNameType:m.SCIENTIFIC},h=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.taxonNameType,r=Object(a.a)(t,["taxonNameType"]);switch(n){case m.ALL:break;case"neitherAcceptedNorSynonymToTaxon":e={filterFunctionName:"neitherAcceptedNorSynonymToTaxon",value:!0};break;case m.SCIENTIFIC:e={filterFunctionName:"taxonNameType",value:m.SCIENTIFIC};break;case m.VERNACULAR:e={filterFunctionName:"taxonNameType",value:m.VERNACULAR};break;default:throw new Error("Unknown taxonNameType: ".concat(n))}return u.a.createElement(d.DropdownSearch,Object.assign({},r,{baseFilter:e,resource:"taxonName",type:"dropdown-search-resource"}))}}]),t}(s.Component);h.defaultProps=p,t.a=h},181:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n(25),c={id:void 0,module:"collectionMammals"};function l(e){var t=e.id,n=e.onClick,a=e.module,c=e.textKey;return r.a.createElement(i.b,{basic:!0,className:"shadowless",color:"blue",id:t,onClick:n},"+ ",r.a.createElement(o.ModuleTranslate,{capitalize:!0,module:a,textKey:c}))}l.defaultProps=c,t.a=l},182:function(e,t,n){"use strict";var a=n(22),r=n(10),i=n(19),o=n(59),c=n(52),l=n(218),s=n.n(l);var u=new o.a({getActionActionType:function(e){var t=e.actionType,n=e.operationType,a=e.resource,r=e.resourceActionTypes;if(!r||!r[n])throw new Error("Resource: ".concat(a," dont have actionTypes for operationType: ").concat(n));if(!r[n][t])throw new Error("Resource: ".concat(a," dont have actionType ").concat(t," for operationType: ").concat(n));return r[n][t]}});function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationType,n=e.resource,a=e.resourceActionTypes;return{fail:u.getActionActionType({actionType:c.API_ACTION_TYPE_FAIL,operationType:t,resource:n,resourceActionTypes:a}),request:u.getActionActionType({actionType:c.API_ACTION_TYPE_REQUEST,operationType:t,resource:n,resourceActionTypes:a}),success:u.getActionActionType({actionType:c.API_ACTION_TYPE_SUCCESS,operationType:t,resource:n,resourceActionTypes:a})}}var m=new o.a({getActionActionTypes:d}),p=Object(a.a)("coreModules:crud:actionCreators:create");var h=new o.a({getActionActionTypes:d}),f=Object(a.a)("coreModules:crud:actionCreators:create");var v=n(957),b=n(17),g=function(e){var t={};return e.forEach(function(e){var n=e.type;t[n]=t[n]?[].concat(Object(b.a)(t[n]),[e]):[e]}),t};function y(e){var t=e.actionTypes,n=e.dispatch,a=e.included,r=g(a);Object.keys(r).forEach(function(e){var a=r[e],i=t[e]&&t[e].setIncluded;i?n({payload:a,type:i}):console.warn("included type: ".concat(e," not defined in crud module"))})}var O=new o.a({getActionActionTypes:d}),E=Object(a.a)("coreModules:crud:actionCreators:getMany");var j=new o.a({getActionActionTypes:d}),T=Object(a.a)("coreModules:crud:actionCreators:getOne");function S(e){var t,n=e.aggregations,a=e.batchLimit,i=void 0===a?3e3:a,o=e.batchNumber,c=void 0===o?0:o,l=e.excludeFields,s=e.idsInMeta,u=e.includeDeactivated,d=e.includeFields,m=e.lastBatchOffset,p=void 0===m?0:m,h=e.limit,f=e.multipleBatches,v=e.options,b=e.query,g=e.scrollId,y=e.sort,O=e.useScroll,E=0;return f?(t=Math.min(h,i),O||c>0&&(E=Math.min(h,p+i))):t=h,Object(r.a)({},v,{body:{data:{attributes:{aggregations:n,excludeFields:l,idsInMeta:s,includeDeactivated:u,includeFields:d,limit:t,offset:E,query:b,scroll:f,scrollId:g,sort:y}}}})}var I=new o.a({getActionActionTypes:d}),C=Object(a.a)("coreModules:crud:actionCreators:query");var N,k=new o.a({getActionActionTypes:d}),w=Object(a.a)("coreModules:crud:actionCreators:update");var x=(N={},Object(i.a)(N,c.OPERATION_TYPE_CREATE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationId,n=e.operationType,a=e.options,i=void 0===a?{}:a,o=e.resource,c=e.resourceActionTypes,l=m.getActionActionTypes({operationType:n,resource:o,resourceActionTypes:c});if(!o)throw new Error("resource is required");if(!t)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,n=e.nested,a=void 0!==n&&n,c=e.throwError,u=void 0===c||c,d=e.options,m=void 0===d?{}:d;p.debug("".concat(o,".create called"),{item:t,throwError:u});var h=a?s()({item:t,type:o}):t;return function(e,t,n){var a=n.apiClient;if(!h)throw new Error("Item is required");var c={data:Object(r.a)({},h,{type:o})},s=Object(r.a)({},i,m,{body:c});return e({meta:s,type:l.request}),a.create(o,s).then(function(t){return e({meta:s,payload:t.data,type:l.success}),t.data},function(t){if(e({error:!0,meta:s,payload:t,type:l.fail}),u)throw t;return t})}}}),Object(i.a)(N,c.OPERATION_TYPE_DEL,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationId,n=e.operationType,a=e.resource,r=e.resourceActionTypes,i=h.getActionActionTypes({operationType:n,resource:a,resourceActionTypes:r});if(!a)throw new Error("resource is required");if(!t)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.throwError,r=void 0===n||n;return f.debug("".concat(a,".del called"),{id:t}),function(e,n,o){var c=o.apiClient;if(void 0===t)throw new Error("Id is required");var l={body:{},pathParams:{id:t}};return e({meta:l,type:i.request}),c.del(a,l).then(function(t){return e({meta:l,payload:t.data,type:i.success}),t.data},function(t){if(e({error:!0,meta:l,payload:t,type:i.fail}),r)throw t;return t})}}}),Object(i.a)(N,c.OPERATION_TYPE_GET_MANY,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actionTypes,n=e.operationId,a=e.operationType,i=e.resource,o=e.resourceActionTypes,c=O.getActionActionTypes({operationType:a,resource:i,resourceActionTypes:o});if(!i)throw new Error("resource is required");if(!n)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.ids,a=e.include,o=e.isLookup,l=e.limit,s=e.numberOfEntriesEachBatch,u=void 0===s?5e3:s,d=e.queryParams,m=void 0===d?{}:d,p=e.relationships,h=e.removeFromState,f=void 0!==h&&h,b=e.storeInState,g=void 0===b||b,O=e.throwError,j=void 0===O||O;if(f&&(a||p))throw new Error("Not supported to remove from state with includes or relationship");E.debug("".concat(i,".getMany called"),{queryParamsInput:m,relationships:p,throwError:j});var T=Object(r.a)({limit:l||1e3},m);p&&(T=Object(r.a)({},T,{relationships:p})),a&&(T=Object(r.a)({},T,{include:a})),n&&(T=Object(r.a)({},T,{filter:{ids:n}}));var S={isLookup:o,queryParams:T};return function(e,n,a){var o,l,s,d=a.apiClient;e({meta:S,type:c.request});var m=!1;return Object(v.execute)({createBatch:function(e){var t=e.batchNumber,n=e.numberOfBatchEntries,a=e.startCount;return s=Object(r.a)({},S,{batchNumber:t,queryParams:Object(r.a)({},S.queryParams,{limit:n,offset:a})}),d.getMany(i,s).then(function(e){return o=e.included,l=e.data,m=l&&l.length!==n,l})},execute:function(n){return o&&y({actionTypes:t,dispatch:e,included:o}),e({meta:Object(r.a)({},s,{isLastBatch:m,removeFromState:f,storeInState:g}),payload:n,type:c.success}),n},maxNumberOfBatches:100,numberOfEntries:T.limit,numberOfEntriesEachBatch:u}).then(function(){return l},function(t){if(e({error:!0,meta:S,payload:t,type:c.fail}),j)throw t;return t})}}}),Object(i.a)(N,c.OPERATION_TYPE_GET_ONE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actionTypes,n=e.operationId,a=e.operationType,i=e.resource,o=e.resourceActionTypes,c=j.getActionActionTypes({operationType:a,resource:i,resourceActionTypes:o});if(!i)throw new Error("resource is required");if(!n)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,a=e.include,o=e.relationships,l=void 0===o?["all"]:o,s=e.throwError,u=void 0===s||s,d=e.storeInState,m=void 0===d||d,p=e.queryParams,h=void 0===p?{}:p;return T.debug("".concat(i,".getOne called"),{id:n,relationships:l,throwError:u}),function(e,o,s){var d=s.apiClient;if(!n)throw new Error("Id is required");var p={id:n},f=h;l&&l.length&&(f=Object(r.a)({},f,{relationships:l})),a&&(f=Object(r.a)({},f,{include:a}));var v={pathParams:p,queryParams:f},b=Object(r.a)({storeInState:m},v);return e({meta:b,type:c.request}),d.getOne(i,v).then(function(n){return n.included&&y({actionTypes:t,dispatch:e,included:n.included}),e({meta:b,payload:n.data,type:c.success}),n.data},function(t){if(e({error:!0,meta:b,payload:t,type:c.fail}),u)throw t;return t})}}}),Object(i.a)(N,c.OPERATION_TYPE_QUERY,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationId,n=e.operationType,a=e.options,i=void 0===a?{}:a,o=e.resource,c=e.resourceActionTypes,l=I.getActionActionTypes({operationType:n,resource:o,resourceActionTypes:c});if(!o)throw new Error("resource is required");if(!t)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.aggregations,a=e.batchLimit,c=e.excludeFields,s=e.idsInMeta,u=e.includeDeactivated,d=e.includeFields,m=e.limit,p=void 0===m?1e3:m,h=e.offset,f=void 0===h?0:h,v=e.query,g=e.sort,y=e.throwError,O=void 0!==y&&y,E=e.useScroll,j=p+f>2e3;return C.debug("".concat(o,".create called"),{aggregations:n,excludeFields:c,idsInMeta:s,includeDeactivated:u,includeFields:d,limit:p,multipleBatches:j,offset:f,query:v,sort:g,useScroll:E}),function(e,o,m){var h=m.apiClient,y=S({aggregations:n,excludeFields:c,idsInMeta:s,includeDeactivated:u,includeFields:d,limit:p,multipleBatches:j,offset:f,options:i,query:v,sort:g,useScroll:E});return e({meta:y,type:l.request}),function(e){var t,n,a=e.apiClient,i=e.callParams,o=e.limit,c=e.multipleBatches,l=e.operationId,s=e.options,u=e.useScroll,d=0,m=0,p=0,h=[];return function e(){return Promise.resolve().then(function(){return n=S(Object(r.a)({},i.body.data.attributes,{batchNumber:m,lastBatchOffset:d,limit:o,multipleBatches:c,options:s,scrollId:t,useScroll:u})),d=n.body.data.attributes.offset,a.call(l,n).then(function(a){var i=a&&a.meta||{},l=i.scrollId,s=i.nResponseItems,d=void 0===s?0:s,f=i.nTotalItems,v=void 0===f?0:f;t=l;var g=n.body.data.attributes,y=g.offset,O=g.limit,E=g.idsInMeta;p+=d;var j=[];j=E&&a.meta.ids?a.meta.ids.map(function(e){return{id:e}}):a.data,h.push.apply(h,Object(b.a)(j));var T=!1;return c&&(T=u?t&&0!==d&&p<v&&p<o:y<o&&0!==d&&d===O),T?(m+=1,e()):Object(r.a)({},a,{data:h})})})}()}({apiClient:h,batchLimit:a,callParams:y,limit:p,multipleBatches:j,operationId:t,options:i,useScroll:E}).then(function(t){return e({meta:y,payload:t.data,type:l.success}),t.data},function(t){if(e({error:!0,meta:y,payload:t,type:l.fail}),O)throw t;return t})}}}),Object(i.a)(N,c.OPERATION_TYPE_UPDATE,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationId,n=e.operationType,a=e.options,i=void 0===a?{}:a,o=e.resource,c=e.resourceActionTypes,l=k.getActionActionTypes({operationType:n,resource:o,resourceActionTypes:c});if(!o)throw new Error("resource is required");if(!t)throw new Error("operationId is required");return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,n=e.nested,a=void 0!==n&&n,c=e.throwError,u=void 0===c||c,d=e.options,m=void 0===d?{}:d;w.debug("".concat(o,".update called"),{item:t,throwError:u});var p=a?s()({item:t,type:o}):t;return function(e,t,n){var a=n.apiClient;if(!p)throw new Error("Item is required");var c=p.id;if(!c)throw new Error("Id is required");var s=Object(r.a)({},i,m,{body:{data:Object(r.a)({},p,{type:o})},pathParams:{id:c}});return e({meta:s,type:l.request}),a.update(o,s).then(function(t){return e({meta:s,payload:t.data,type:l.success}),t.data},function(t){if(e({error:!0,meta:s,payload:t,type:l.fail}),u)throw t;return t})}}}),N),A=new o.a({factoryMap:x}),R=Object(a.a)("coreModules:crud:actionCreators");var F=n(38),P=n.n(F);var L=new o.a({assign:P.a.assign,createItemUpdatePath:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id;return void 0===e?null:"items.".concat(e)}}),M=Object(a.a)("coreModules:crud:actionHandlers:updateStateWithOneFactory");var _=Object(a.a)("coreModules:crud:actionHandlers:updateStateWithManyFactory");var D=Object(a.a)("coreModules:crud:actionHandlers:updateStateRemoveOneFactory");var B=new o.a({updateStateRemoveOneFactory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationType,n=e.resource;return function(e,a){if(!(a&&a.payload&&a.payload.id))return D.debug("Received action ".concat(a&&a.type," for ").concat(n,".").concat(t,". Aborting")),e;D.debug("Received action ".concat(a.type," for ").concat(n,".").concat(t,". Updating state from action: "),a);var i=Object(r.a)({},e.items);return delete i[a.payload.id],Object(r.a)({},e,{items:i})}},updateStateWithManyFactory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationType,n=e.resource;return function(e,a){if(!(a&&a.payload&&Array.isArray(a.payload)))return _.debug("Received action ".concat(a&&a.type," for ").concat(n,".").concat(t,". Aborting")),e;_.debug("Received action ".concat(a.type," for ").concat(n,".").concat(t,". Updating state from action: "),a);var i=a.meta||{},o=i.removeFromState,c=i.storeInState;if(void 0!==c&&!c)return e;if(o){var l=Object(r.a)({},e.items);return a.payload.forEach(function(e){var t=e.id;t&&delete l[t]}),Object(r.a)({},e,{items:l})}var s={};return a.payload.forEach(function(t){var n=t.id;if(n){var a=e.items[n];a&&a.relationships?s[n]=Object(r.a)({},t,{relationships:Object(r.a)({},a.relationships,t.relationships||{})}):s[n]=t}}),Object(r.a)({},e,{items:Object(r.a)({},e.items,s)})}},updateStateWithOneFactory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.operationType,n=e.resource;return function(e,a){if(!(a&&a.payload&&a.payload.id))return M.debug("Received action ".concat(a&&a.type," for ").concat(n,".").concat(t,". Aborting")),e;M.debug("Received action ".concat(a.type," for ").concat(n,".").concat(t,". Updating state from action: "),a);var i=a.payload.id,o=a.meta||{},c=o.removeFromState,l=o.storeInState;if(c){var s=Object(r.a)({},e.items);return delete s[i],Object(r.a)({},e,{items:s})}if(!1===l)return e;var u=L.createItemUpdatePath({id:i}),d=e.items&&e.items[i];return d&&d.relationships?L.assign(e,u,Object(r.a)({},a.payload,{relationships:Object(r.a)({},d.relationships,a.payload.relationships||{})})):L.assign(e,u,a.payload)}}}),V=Object(a.a)("coreModules:crud:actionHandlers");var U=n(75);var K=new o.a({createActionType:function(e){var t=e.apiActionType,n=void 0===t?"":t,a=e.operationType,r=void 0===a?"":a,i=e.resource,o=void 0===i?"":i;return[Object(U.camelCaseToUpperSnakeCase)(r),Object(U.camelCaseToUpperSnakeCase)(o),n.toUpperCase()].join("_")}}),H=Object(a.a)("coreModules:crud:actionTypes");function z(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resourceSpecification,t=void 0===e?{}:e,n=t.resource,a=t.operations;if(!n)return{};var o=Object(i.a)({},c.ACTION_KEY_SET_INCLUDED,function(e){var t=e.resource,n=void 0===t?"":t;return["SET_INCLUDED",Object(U.camelCaseToUpperSnakeCase)(n)].join("_")}({resource:n}));if(!a||!a.length)return o;var l=a.reduce(function(e,t){var a=t.type;if(!a)return e;var o=Object.keys(c.apiActionTypes).sort().reduce(function(e,t){var o=c.apiActionTypes[t];return Object(r.a)({},e,Object(i.a)({},o,K.createActionType({apiActionType:o,operationType:a,resource:n})))},{});return H.info("Adding actionTypes for ".concat(n,".").concat(a,": ").concat(JSON.stringify(o))),Object(r.a)({},e,Object(i.a)({},a,o))},{});return Object(r.a)({},o,l)}var G=n(13),q=new o.a({combineReducers:G.b});var Q=n(91),W=n(96);var Y=new o.a({wrapSelectors:Q.a});function X(e){var t=e.resourceSelectors,n=void 0===t?{}:t,a=e.getGlobalSelectors,i=Y.wrapSelectors(n),o=function(e){var t=e.resourceBaseGlobalSelectors,n=e.getGlobalSelectors;return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.itemId,i=a.relationKey,o=t.getOne(e,r);if(o){var c=Object(W.e)({item:o,relationKey:i})||{},l=c.id,s=c.type;if(void 0!==l&&s){var u=n(),d=u&&u[s];if(d)return d.getOne(e,l)}}}}({getGlobalSelectors:a,resourceBaseGlobalSelectors:i}),c=function(e){var t=e.resourceBaseGlobalSelectors,n=e.getGlobalSelectors;return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.itemId,i=a.relationKey,o=t.getOne(e,r);if(o){var c=Object(W.g)({item:o,relationKey:i});if(c.length){var l=c[0].type,s=n(),u=s&&s[l];if(u)return c.map(function(t){return u.getOne(e,t.id)})}}}}({getGlobalSelectors:a,resourceBaseGlobalSelectors:i}),l=function(e){var t=e.getRelationshipItem,n=e.getRelationshipItems,a=e.resourceBaseGlobalSelectors;return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.itemId,o=r.relationKey,c=a.getOne(e,i);if(c){var l=Object(W.d)({item:c,relationKey:o});if(l)return"array"===l?n(e,{itemId:i,relationKey:o}):t(e,{itemId:i,relationKey:o})}}}({getRelationshipItem:o,getRelationshipItems:c,resourceBaseGlobalSelectors:i});return Object(r.a)({},i,{getRelationshipItem:o,getRelationshipItemOrItems:l,getRelationshipItems:c})}var J=Object(a.a)("coreModules:crud:resourceReducer");var Z=n(34),$=n(20),ee=n.n($),te=n(137),ne=function(e){var t,n,a=e.customSelectorInput,r=e.resourceSelectors,i=a.type;if(!c.ALL_CUSTOM_SELECTOR_TYPES.includes(i))throw new Error("Unknown custom selector type: ".concat(i));switch(i){case c.SELECTOR_TYPE_GET_ALL_AS_OPTIONS:t=function(e){var t=e.customSelectorInput,n=e.resourceSelectors,a=t.text,r=a.doNotCapitalize,i=a.defaultLanguage,o=void 0===i?"en":i,c=a.parameter,l=a.translated;return Object(Z.createSelector)([n.getAll,te.a],function(e,t){return e.map(function(e){var n=e.id,a=e.key,i=ee.a.get(e,c),s=l?i[t]||i[o]||a:i;return{key:n,text:r?s:Object(U.capitalizeFirstLetter)(s),value:n}})})}({customSelectorInput:a,resourceSelectors:r}),n=c.SELECTOR_TYPE_GET_ALL_AS_OPTIONS;break;default:throw new Error("Custom selector with type: ".concat(i," is not implemented"))}return{key:n,selector:t}};var ae=new o.a({createCustomSelectors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customSelectorsInput,n=void 0===t?[]:t,a=e.resourceSelectors;return n.reduce(function(e,t){var n=ne({customSelectorInput:t,resourceSelectors:a}),o=n.selector,c=n.key;return Object(r.a)({},e,Object(i.a)({},c,o))},{})},getLocalState:function(e){return e[c.MODULE_NAME]&&e[c.MODULE_NAME][c.RESOURCES_NAMESPACE]}}),re=Object(a.a)("coreModules:crud:selectors");var ie=Object(a.a)("coreModules:crud:dux");function oe(e){var t={},n={},a={},o={},l={},s={},u=function(){return n};Object.values(e&&e.resources||{}).forEach(function(e){var t=e.resource;ie.info("Setting up resource: ".concat(t," actionTypes"));var n=z({resourceSpecification:e});a[t]=n}),Object.values(e&&e.resources||{}).forEach(function(e){var d=e.resource;ie.info("Setting up resource: ".concat(d));var m=a[d],p=function(e){var t=e.resourceActionTypes,n=e.resourceSpecification,a=void 0===n?{}:n,o=a.resource,l=a.operations;if(!o)throw new Error("resource is required");var s={};if(t&&t.setIncluded&&(s=Object(i.a)({},t.setIncluded,B.updateStateWithManyFactory({resource:o,resourceActionTypes:t}))),!l||!l.length)return s;var u=l.reduce(function(e,n){var a=n.type;if(!a)return e;var l,s=t&&t[a]&&t[a][c.API_ACTION_TYPE_SUCCESS];if(!s)throw new Error("actionType not found in resourceActionTypes for resource: ".concat(o," and operationType: ").concat(a));switch(a){case c.OPERATION_TYPE_CREATE:case c.OPERATION_TYPE_GET_ONE:case c.OPERATION_TYPE_UPDATE:l=B.updateStateWithOneFactory({operationType:a,resource:o,resourceActionTypes:t});break;case c.OPERATION_TYPE_GET_MANY:l=B.updateStateWithManyFactory({operationType:a,resource:o,resourceActionTypes:t});break;case c.OPERATION_TYPE_DEL:l=B.updateStateRemoveOneFactory({operationType:a,resource:o,resourceActionTypes:t});break;case c.OPERATION_TYPE_QUERY:break;default:throw new Error("Unknown operationType: ".concat(a))}return V.info("Adding actionHandler: ".concat(o,".").concat(a," for actionType: ").concat(s)),Object(r.a)({},e,Object(i.a)({},s,l))},{});return Object(r.a)({},s,u)}({resourceActionTypes:m,resourceSpecification:e}),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actionTypes,n=e.resourceActionTypes,a=e.resourceSpecification,o=void 0===a?{}:a,c=o.resource,l=o.operations;if(!c)throw new Error("resource is required");return l&&l.length?l.reduce(function(e,a){var o=a.options,l=a.type,s=a.operationId;if(!l)return e;var u=A.factoryMap[l];if(!u)throw new Error("Unknown operation type: ".concat(l));var d=u({actionTypes:t,operationId:s,operationType:l,options:o,resource:c,resourceActionTypes:n});return R.info("Adding actionCreator: ".concat(c,".").concat(l)),Object(r.a)({},e,Object(i.a)({},l,d))},{}):{}}({actionTypes:a,resourceActionTypes:m,resourceSpecification:e}),f=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resourceSpecification,t=e.resource;if(!t)throw new Error("resource required");var n=e.customSelectors,a=function(e){return e[t]},i=function(e){return a(e).items},o=Object(Z.createSelector)(i,function(e){return Object.values(e)}),c={getAll:o,getItemsObject:i,getLocalResourceState:a,getLocalState:ae.getLocalState,getOne:function(e,t){return i(e)[t]||null},getOneByLid:function(e,t){return(o(e)||[]).find(function(e){var n=e.attributes;return n&&n.lid===t})||null}};if(n){var l=ae.createCustomSelectors({customSelectorsInput:n,resourceSelectors:c});c=Object(r.a)({},c,l)}return Object.keys(c).forEach(function(e){re.info("Adding selector ".concat(t,".").concat(e))}),c}({resourceSpecification:e}),v=X({getGlobalSelectors:u,resourceSelectors:f}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resourceActionHandlers,n=void 0===t?{}:t,a=e.resourceSpecification,r=(void 0===a?{}:a).resource,i={items:{}};return J.info("Creating reducer for resource: ".concat(r," with initialState:"),i),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n[t.type];return a?a(e,t):e}}({resourceActionHandlers:p,resourceSpecification:e});l[d]=h,o[d]=p,n[d]=v,s[d]=b,t[d]=f});var d=function(e){var t=e.resourceReducers;return q.combineReducers(t)}({resourceReducers:s});return{actionCreators:l,actionHandlers:o,actionTypes:a,globalSelectors:n,reducer:d,selectors:t}}var ce=new o.a({createOperationSpecification:function(e){var t=e.operationConfig,n=e.resourceName,a=t.type,r=t.operationId,i=t.options;if(!r)throw new Error("Operation for resource: ".concat(n," with type: ").concat(a," is missing operationId"));switch(a){case c.OPERATION_TYPE_CREATE:case c.OPERATION_TYPE_DEL:case c.OPERATION_TYPE_GET_MANY:case c.OPERATION_TYPE_GET_ONE:case c.OPERATION_TYPE_QUERY:case c.OPERATION_TYPE_UPDATE:return{operationId:r,options:i,type:a};default:throw new Error("Unknown type: ".concat(a))}}});var le=new o.a({createResourceSpecification:function(e){var t=e.resourceName,n=e.resourceConfig;if(!t)throw new Error("Missing required resourceName");if(!n)throw new Error("Missing required resourceConfig");var a=(n.operations||[]).map(function(e){return ce.createOperationSpecification({operationConfig:e,resourceName:t})});return Object(r.a)({},n,{operations:a,resource:t})}});var se=oe(function(e){if(!e||!e.resources)return{};var t=Object(r.a)({},e,{resources:{}});return Object.keys(e.resources).forEach(function(n){t.resources[n]=le.createResourceSpecification({resourceConfig:e.resources[n],resourceName:n})}),t}({resources:{causeOfDeathType:{customSelectors:[{text:{parameter:"attributes.name",translated:!0},type:"getAllAsOptions"}],operations:[{operationId:"causeOfDeathTypeGetOne",type:"getOne"},{operationId:"causeOfDeathTypeGetMany",type:"getMany"}]},customTaxonNameType:{customSelectors:[{text:{parameter:"attributes.name",translated:!0},type:"getAllAsOptions"}],operations:[{operationId:"customTaxonNameTypeGetOne",type:"getOne"},{operationId:"customTaxonNameTypeGetMany",type:"getMany"}]},establishmentMeansType:{customSelectors:[{text:{parameter:"attributes.name",translated:!0},type:"getAllAsOptions"}],operations:[{operationId:"establishmentMeansTypeGetOne",type:"getOne"},{operationId:"establishmentMeansTypeGetMany",type:"getMany"}]},exportJob:{operations:[{operationId:"exportJobGetOne",type:"getOne"},{operationId:"exportJobGetMany",type:"getMany"},{operationId:"exportJobCreate",type:"create"}]},featureType:{operations:[{operationId:"featureTypeGetOne",type:"getOne"},{operationId:"featureTypeGetMany",type:"getMany"}]},identifierType:{customSelectors:[{text:{parameter:"attributes.name",translated:!1},type:"getAllAsOptions"}],operations:[{operationId:"identifierTypeGetOne",type:"getOne"},{operationId:"identifierTypeGetMany",type:"getMany"}]},normalizedAgent:{operations:[{operationId:"normalizedAgentDel",type:"del"},{operationId:"normalizedAgentGetOne",type:"getOne"},{operationId:"normalizedAgentCreate",options:{relationshipsToModify:[]},type:"create"},{operationId:"normalizedAgentGetMany",type:"getMany"},{operationId:"normalizedAgentUpdate",options:{relationshipsToModify:[]},type:"update"},{operationId:"normalizedAgentQuery",type:"query"}]},physicalObject:{operations:[{operationId:"physicalObjectGetOne",type:"getOne"},{operationId:"physicalObjectCreate",options:{relationshipsToModify:["storageLocation"]},type:"create"},{operationId:"physicalObjectGetMany",type:"getMany"},{operationId:"physicalObjectUpdate",options:{relationshipsToModify:["storageLocation"]},type:"update"}]},place:{operations:[{operationId:"placeDel",type:"del"},{operationId:"placeGetOne",type:"getOne"},{operationId:"placeCreate",options:{relationshipsToModify:["parent"]},type:"create"},{operationId:"placeGetMany",type:"getMany"},{operationId:"placeUpdate",options:{relationshipsToModify:["parent"]},type:"update"},{operationId:"placeQuery",type:"query"}]},preparationType:{customSelectors:[{text:{parameter:"attributes.name",translated:!0},type:"getAllAsOptions"}],operations:[{operationId:"preparationTypeGetOne",type:"getOne"},{operationId:"preparationTypeGetMany",type:"getMany"}]},resourceActivity:{operations:[{operationId:"resourceActivityGetOne",type:"getOne"},{operationId:"resourceActivityGetMany",type:"getMany"}]},searchSpecimen:{operations:[{operationId:"searchSpecimenGetOne",type:"getOne"},{operationId:"searchSpecimenGetMany",type:"getMany"},{operationId:"searchSpecimenQuery",type:"query"}]},specimen:{operations:[{operationId:"specimenDel",type:"del"},{operationId:"specimenUpdate",options:{includesToModify:["physicalObjects"],relationshipsToModify:["causeOfDeathTypes","establishmentMeansTypes","featureTypes","identifierTypes","normalizedAgents","physicalObjects.storageLocation","places","preparationTypes","taxa","taxonNames"]},type:"update"},{operationId:"specimenCreate",options:{includesToModify:["physicalObjects"],relationshipsToModify:["causeOfDeathTypes","establishmentMeansTypes","featureTypes","identifierTypes","normalizedAgents","physicalObjects.storageLocation","places","preparationTypes","taxa","taxonNames"]},type:"create"},{operationId:"specimenGetOne",type:"getOne"},{operationId:"specimenGetMany",type:"getMany"}]},storageLocation:{operations:[{operationId:"storageLocationDel",type:"del"},{operationId:"storageLocationGetOne",type:"getOne"},{operationId:"storageLocationCreate",options:{relationshipsToModify:["parent"]},type:"create"},{operationId:"storageLocationGetMany",type:"getMany"},{operationId:"storageLocationUpdate",options:{relationshipsToModify:["parent"]},type:"update"},{operationId:"storageLocationQuery",type:"query"}]},taxon:{operations:[{operationId:"taxonDel",type:"del"},{operationId:"taxonGetOne",type:"getOne"},{operationId:"taxonCreate",options:{includesToModify:["vernacularNames"],relationshipsToModify:["acceptedTaxonName","parent","synonyms","vernacularNames"]},type:"create"},{operationId:"taxonGetMany",type:"getMany"},{operationId:"taxonUpdate",options:{includesToModify:["vernacularNames"],relationshipsToModify:["acceptedTaxonName","parent","synonyms","vernacularNames"]},type:"update"},{operationId:"taxonQuery",type:"query"}]},taxonName:{operations:[{operationId:"taxonNameDel",type:"del"},{operationId:"taxonNameGetOne",type:"getOne"},{operationId:"taxonNameCreate",options:{relationshipsToModify:[]},type:"create"},{operationId:"taxonNameGetMany",type:"getMany"},{operationId:"taxonNameUpdate",options:{relationshipsToModify:[]},type:"update"},{operationId:"taxonNameQuery",type:"query"}]},typeSpecimenType:{customSelectors:[{text:{parameter:"attributes.name",translated:!0},type:"getAllAsOptions"}],operations:[{operationId:"typeSpecimenTypeGetOne",type:"getOne"},{operationId:"typeSpecimenTypeGetMany",type:"getMany"}]},user:{customSelectors:[{text:{doNotCapitalize:!0,parameter:"attributes.username",translated:!1},type:"getAllAsOptions"}],operations:[{operationId:"userGetOne",type:"getOne"},{operationId:"userGetMany",type:"getMany"}]}}}));t.a=se},183:function(e,t,n){"use strict";n.r(t);var a=n(246),r=n(165);function i(e){return{payload:{sequentialId:e.sequentialId},type:r.NOTIFICATIONS_REMOVE_NOTIFICATION}}n.d(t,"createNotification",function(){return a.a}),n.d(t,"removeNotification",function(){return i})},191:function(e,t,n){"use strict";var a=n(91),r=n(440);t.a=Object(a.a)(r)},193:function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseName,n=e.buttonTextKey,a=void 0===n?"other.interpretThisName":n,r=e.initiallyHidden,i=e.model,o=e.module,c=void 0===o?"collectionMammals":o;return[{componentName:"Input",componentProps:{columnProps:{width:8},fluid:!0,model:i,type:"text"},initiallyHidden:r,name:"".concat(t,".textV"),wrapInField:!0},{componentName:"TogglableAgentDropdownPickerSearch",componentProps:{buttonTextKey:a,columnProps:{width:8},displayEmptyStateLabel:!1,displayResultLabel:!1},initiallyHidden:r,module:c,name:"".concat(t),relativeNames:["textI","normalized.id"],wrapInField:!0}]}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseName,n=e.displayDateTypeRadios,a=e.displayEndDateLabel,r=e.displayLabel,i=e.displayStartDateLabel,o=e.displaySubLabels,c=e.endDateLabel,l=e.initialDateType,s=e.initiallyHidden;return[{componentName:"RangeDate",componentProps:{displayDateTypeRadios:n,displayEndDateLabel:a,displayLabel:r,displayStartDateLabel:i,displaySubLabels:o,endDateLabel:c,initialDateType:l,stack:e.stack,startDateLabel:e.startDateLabel},initiallyHidden:s,name:t,wrapInField:!0}]}var i=n(17);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseName,n=e.displayDateTypeRadios,a=e.displayEndDateLabel,o=e.displayLabel,c=e.displayStartDateLabel,l=e.displaySubLabels,s=e.emptyStateTextKey,u=e.endDateLabel,d=e.initialDateType,m=e.initiallyHidden,p=e.model,h=e.resultPrefixTextKey,f=e.stack,v=e.startDateLabel;return[].concat(Object(i.a)(r({baseName:t,displayDateTypeRadios:n,displayEndDateLabel:a,displayLabel:o,displayStartDateLabel:c,displaySubLabels:l,endDateLabel:u,initialDateType:d,initiallyHidden:m,stack:f,startDateLabel:v})),[{componentName:"Remarks",componentProps:{emptyStateTextKey:s,model:p,resultPrefixTextKey:h},initiallyHidden:m,name:"".concat(t,".remarks"),wrapInField:!0}])}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{componentName:"SingleDate",initiallyHidden:e.initiallyHidden,name:e.name,wrapInField:!0}]}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c})},194:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(49),m=function(){return function(e){return function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).handleCancelCreate=t.handleCancelCreate.bind(Object(c.a)(t)),t}return Object(l.a)(n,t),Object(r.a)(n,[{key:"handleCancelCreate",value:function(e){e.preventDefault(),this.props.onInteraction(d.CREATE_CANCEL)}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{onCancelCreate:this.handleCancelCreate}))}}]),n}(s.Component)}},p=n(13),h=n(16),f=n(911),v=n(31),b=n(72),g=n(46),y=n(35),O=function(e,t){var n=t.formName;return{values:Object(f.a)(n)(e)}},E={reset:v.g,startSubmit:v.h,stopSubmit:v.i},j={transformOutput:void 0,values:void 0},T=function(){return function(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(c.a)(t)),t}return Object(l.a)(n,t),Object(r.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.dispatch,a=t.fetchResourceCount,r=t.formName,i=t.onInteraction,o=t.resource,c=t.startSubmit,l=t.stopSubmit,s=t.transformOutput,u=t.values;return c(r),n((g.a[o]&&g.a[o].create)({item:s?s(u):u,nested:!0})).then(function(e){var t=e.id;a(),i(d.CREATE_SUCCESS,{itemId:t}),l(r)}).catch(b.handleReduxFormSubmitError).catch(function(e){l(r,e.errors)})}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{onSubmit:this.handleSubmit}))}}]),n}(s.Component);return t.defaultProps=j,Object(p.c)(Object(y.createGetResourceCount)(),Object(h.b)(O,E),Object(h.b)(null))(t)}},S=n(56),I=n(183),C=n(1),N=n(58),k=n(20),w=n.n(k),x=n(25),A=function(e){var t=e.id,n=e.resource;switch(n){case"normalizedAgent":return"/app/agents?itemId=".concat(t,"&mainColumn=edit");case"place":return"/app/localities?itemId=".concat(t,"&mainColumn=edit");case"specimen":return"/app/specimens/mammals/".concat(t,"/edit/sections/0");case"storageLocation":return"/app/storageLocations?itemId=".concat(t,"&mainColumn=edit");case"taxon":return"/app/taxa?itemId=".concat(t,"&mainColumn=edit");case"taxonName":return"/app/taxonNames?itemId=".concat(t,"&mainColumn=edit");default:throw new Error("Unknown resource: ".concat(n))}},R=Object(p.c)(Object(y.createGetItemById)({idPath:"id",refresh:!1,shouldFetch:!1}))(function(e){var t=e.id,n=e.resource;return u.a.createElement(C.o.Item,{as:"a",href:A({id:t,resource:n}),rel:"noopener noreferrer",target:"_blank"},u.a.createElement(C.o.Content,{floated:"left"},t),u.a.createElement(C.o.Content,{floated:"right"},u.a.createElement(C.b,{icon:"external alternate"})))}),F=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.fetchItemById,a=Array.isArray(t);return u.a.createElement(C.o,{divided:!0,selection:!0,verticalAlign:"middle"},(a?t:[t]).slice(0,30).map(function(e){var t=e.id,a=e.type;return n(t),u.a.createElement(R,{id:t,key:t,resource:a})}))}}]),t}(s.PureComponent);F.defaultProps={data:{}};var P=Object(y.createBatchFetchItems)({includeFields:["id","attributes"]})(F),L=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.relationships,t=Object.keys(e).sort();return u.a.createElement(C.s.Content,null,u.a.createElement(C.i,null,u.a.createElement(C.i.Row,{className:"relaxed",columns:1},t.map(function(t){var n=w.a.get(e,"".concat(t,".data")),a=Array.isArray(n);if(!n||a&&!n.length)return null;var r=w.a.get(e,"".concat(t,".customNumberOfItems")),i=a?r||n.length:1,o=(a?n[0]:n).type;return u.a.createElement(u.a.Fragment,{key:t},u.a.createElement(C.i.Column,null,u.a.createElement(C.j,null,u.a.createElement(x.ModuleTranslate,{capitalize:!0,module:"resourceManager",textKey:"relationshipKey.".concat(t)})," ","(",i," ",u.a.createElement(x.ModuleTranslate,{module:"resourceManager",textKey:"relations"}),")",i>30&&u.a.createElement(C.j.Subheader,null,"Below are 30 of the relations. To see all ".concat(i," relations, please use the search for "),u.a.createElement(x.ModuleTranslate,{module:"resourceManager",textKey:"resourcePlural.".concat(o)}),"."))),u.a.createElement(C.i.Column,null,u.a.createElement(P,{data:n,resource:o})))}))))}}]),t}(s.PureComponent);L.defaultProps={relationships:{}};var M=L,_=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.recordHeader,a=e.relationships;return u.a.createElement(N.LayerModal,{onClose:t,open:!0,size:"small"},u.a.createElement(C.s.Header,null,"Relations for: ".concat(n)),u.a.createElement(M,{relationships:a}),u.a.createElement(C.s.Actions,{style:{textAlign:"left"}},u.a.createElement(C.b,{onClick:t,primary:!0},"Close")))}}]),t}(s.PureComponent);_.defaultProps={relationships:{}};var D=_,B={createNotification:I.createNotification},V={fetchRelationshipsBeforeDelete:void 0,itemHeader:void 0,itemId:void 0,itemSubHeader:void 0,onInteraction:void 0,relationshipsToCheckBeforeDelete:[]},U=function(){return function(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).deleteItemOrShowRelationships=t.deleteItemOrShowRelationships.bind(Object(c.a)(t)),t.handleDelete=t.handleDelete.bind(Object(c.a)(t)),t.handleModalClose=t.handleModalClose.bind(Object(c.a)(t)),t.handleModalOpen=t.handleModalOpen.bind(Object(c.a)(t)),t.state={loadingDelete:!1,open:!1,relationships:void 0},t}return Object(l.a)(n,t),Object(r.a)(n,[{key:"handleDelete",value:function(){var e=this,t=this.props,n=t.dispatch,a=t.fetchRelationshipsBeforeDelete,r=t.itemId,i=t.relationshipsToCheckBeforeDelete,o=t.resource,c=g.a[o].getOne;return this.setState({loadingDelete:!0}),a?a().then(function(t){return e.setState({loadingDelete:!1}),e.deleteItemOrShowRelationships(t)}):n(c({id:r,includeDeactivated:!1,relationships:i})).then(function(t){var n=(t||{}).relationships;return e.deleteItemOrShowRelationships(n)})}},{key:"deleteItemOrShowRelationships",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,a=n.createNotification,r=n.dispatch,i=n.fetchResourceCount,o=n.itemId,c=n.onInteraction,l=n.resource,s=Object.keys(t);return s.length&&!s.reduce(function(e,n){return!!e&&Object(S.isEmpty)(t[n].data)},!0)?(this.setState({loadingDelete:!1,relationships:t}),a({componentProps:{description:u.a.createElement(u.a.Fragment,null,"It couldn't be deleted since it has related records. You can ",u.a.createElement("a",{onClick:this.handleModalOpen},"inspect relations here"),"."),header:"The record was not deleted"},type:"ERROR"})):r((0,g.a[l].del)({id:o})).then(function(){a("specimen"===l?{componentProps:{description:"Please wait while the table is updated...",header:"The specimen was deleted"},ttl:3e3,type:"SUCCESS"}:{componentProps:{header:"The record was deleted"},type:"SUCCESS"}),i(),setTimeout(function(){e.setState({loadingDelete:!1})},2e3),c&&c(d.DEL_SUCCESS)})}},{key:"handleModalClose",value:function(){this.setState({open:!1})}},{key:"handleModalOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var t=this.props,n=t.itemHeader,a=t.itemSubHeader,r=this.state,i=r.loadingDelete,o=r.open,c=r.relationships;return u.a.createElement(u.a.Fragment,null,u.a.createElement(e,Object.assign({},this.props,{loadingDelete:i,onDelete:this.handleDelete})),o&&u.a.createElement(D,{onClose:this.handleModalClose,recordHeader:"".concat(n).concat(a?" (".concat(a.toLowerCase(),")"):""),relationships:c}))}}]),n}(s.Component);return t.defaultProps=V,Object(p.c)(Object(y.createGetResourceCount)(),Object(h.b)(void 0,B),Object(h.b)(null))(t)}},K=n(10),H=function(e,t){var n=t.formName;return{values:Object(f.a)(n)(e)}},z={reset:v.g,startSubmit:v.h,stopSubmit:v.i},G={itemId:void 0,transformOutput:void 0,values:void 0},q=function(){return function(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(c.a)(t)),t}return Object(l.a)(n,t),Object(r.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props,a=n.dispatch,r=n.fetchOneItemById,i=n.formName,o=n.itemId,c=n.resource,l=n.startSubmit,s=n.stopSubmit,u=n.transformOutput,m=n.values,p=g.a[c]&&g.a[c].update;return l(i),a(p({item:Object(K.a)({id:o},u?u(m):m),nested:!0})).then(function(){r(o),t.props.onInteraction(d.EDIT_SUCCESS),s(i)}).catch(b.handleReduxFormSubmitError).catch(function(e){s(i,e.errors)})}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{onSubmit:this.handleSubmit}))}}]),n}(s.Component);return t.defaultProps=G,Object(p.c)(Object(h.b)(H,z),Object(h.b)(null))(t)}},Q={reset:v.g},W=function(){return function(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).handleUndoChanges=t.handleUndoChanges.bind(Object(c.a)(t)),t}return Object(l.a)(n,t),Object(r.a)(n,[{key:"handleUndoChanges",value:function(e){e.preventDefault();var t=this.props.formName;this.props.reset(t)}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{onUndoChanges:this.handleUndoChanges}))}}]),n}(s.Component);return Object(p.c)(Object(h.b)(void 0,Q))(t)}};n.d(t,"a",function(){return m}),n.d(t,"b",function(){return T}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return q}),n.d(t,"e",function(){return W})},196:function(e,t,n){"use strict";var a=n(17),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(12),m=n.n(d),p=n(22),h=n(297);function f(e){var t=e.Loader,n=void 0===t?h.DefaultLoader:t,d=e.LoadingError,f=void 0===d?h.DefaultLoadingError:d,v=e.modules,b=e.name,g=e.view,y=e.Wrapper,O=void 0===y?h.DefaultWrapper:y,E=Object(p.a)("modules:bootstrap:createAsyncView:".concat(b)),j=function(){return v?Promise.resolve().then(function(){return Promise.all(v()).then(function(e){return g().then(function(t){return{modules:e,view:t}})})}):g().then(function(e){return{modules:[],view:e}})},T={store:m.a.object},S=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={FetchedComponent:null,loading:!0,loadingError:null,loadingFailed:!1},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounting=!0,E.mount("Start"),j().then(function(t){var n=t.view,r=t.modules;e.context.store.registerModules([n].concat(Object(a.a)(r))),e.mounting&&(e.setState({FetchedComponent:n.Component,loading:!1}),E.mount("Done"))}).catch(function(t){e.setState({loading:!1,loadingError:t,loadingFailed:!0})})}},{key:"componentWillUnmount",value:function(){var e=this;this.mounting=!1,E.unmount("Start"),j().then(function(t){var n=t.view,r=t.modules;e.context.store.unregisterModules([n].concat(Object(a.a)(r))),E.unmount("Done")})}},{key:"render",value:function(){E.render("Render");var e=this.state,t=e.FetchedComponent,a=e.loading,r=e.loadingError,i=e.loadingFailed;return u.a.createElement(O,null,i&&u.a.createElement(f,{error:r}),t&&u.a.createElement(t,this.props),u.a.createElement(n,{loading:a}))}}]),t}(s.Component);return S.contextTypes=T,S}n.d(t,"a",function(){return f})},210:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(101),d=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={html:null},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.markdown;Object(u.d)(t).then(function(t){e.setState({html:t})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.markdown!==this.props.markdown&&(this.setState({html:null}),Object(u.d)(e.markdown).then(function(e){t.setState({html:e})}))}},{key:"render",value:function(){return this.state.html?s.a.createElement("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:this.state.html}}):s.a.createElement("div",null)}}]),t}(l.Component);t.a=d},211:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(10),r=n(0),i=n.n(r),o=n(36),c=n(42),l=n(153),s=n(72),u=Object(a.a)({inline:!1},c.b);function d(e){var t=function(t){var n=t.displayLabel,a=t.enableHelpNotifications,r=t.helpNotificationProps,u=t.helpText,d=t.inline,m=t.input,p=t.label,h=t.meta,f=t.model,v=t.module,b=t.parameterKeyInput||Object(s.createParameterKey)({model:f,name:m.name}),g=d?i.a.createElement(l.a,{enableHelpNotifications:a,helpNotificationProps:r,helpText:u,htmlFor:m.name,label:p,module:v,parameterKey:b}):void 0,y=Object(o.a)({keys:c.c,props:t}),O=y.extractedProps,E=y.rest;return i.a.createElement(c.a,Object.assign({},O,{displayLabel:!g&&n,label:g?void 0:p,meta:h,name:m.name}),i.a.createElement(e,Object.assign({},E,{meta:h,module:v})))};return t.defaultProps=u,t}},212:function(e,t,n){"use strict";var a=n(156),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(15),m=["acceptedTaxonName"],p=["acceptedTaxonName"],h=["taxonName"],f=function(e){var t=e&&e.acceptedTaxonName;return t?"".concat(t.name," [").concat(t.rank,"]"):""},v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=Object(a.a)({},this.props);return u.a.createElement(d.DropdownSearch,Object.assign({},e,{extractText:f,include:m,nestItems:!0,relationships:p,resolveRelationships:h,resource:"taxon",type:"dropdown-search-resource"}))}}]),t}(s.Component);t.a=v},214:function(e,t,n){"use strict";var a=n(144),r=n(92),i=n(130),o=function(e){return!!a.a.getPrioritizedNotificationByDisplayType(e,"inline")};t.a={getApplicationInModalLayer:function(e){return r.d.get.applicationLayer(e)===i.a},getApplicationInViewLayer:function(e){return r.d.get.applicationLayer(e)===i.b},getRightSidebarIsClosed:function(e){return!o(e)},getRightSidebarIsOpen:o}},22:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(19),r=n(10),i=n(638),o=n.n(i),c={alert:"LOG_ALERT",crit:"LOG_CRIT",debug:"LOG_DEBUG",emerg:"LOG_EMERG",err:"LOG_ERR",info:"LOG_INFO",notice:"LOG_NOTICE",warning:"LOG_WARNING"},l={mount:"REACT:MOUNT",render:"REACT:RENDER",unmount:"REACT:UNMOUNT"},s=function(e){var t=e.context,n=e.shortcut,a=0,r=o()("".concat("DINA",":").concat(n,":").concat(t));return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="Count: ".concat(a,". ").concat(e),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r.apply(void 0,[t].concat(i)),a+=1}},u=function(e){var t=e.context,n=e.priority;return o()("".concat("DINA",":").concat(n,":").concat(t))};function d(e){var t=Object.keys(c).reduce(function(t,n){var i=c[n];return Object(r.a)({},t,Object(a.a)({},n,u({context:e,priority:i})))},{}),n=Object.keys(l).reduce(function(t,n){var i=l[n];return Object(r.a)({},t,Object(a.a)({},n,s({context:e,shortcut:i})))},{});return Object(r.a)({},t,n)}},245:function(e,t,n){"use strict";n.d(t,"b",function(){return v});var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(58),p=n(47),h=n(212),f=null;function v(e){f=e}var b={fieldSearchQuery:void 0,fieldValue:void 0},g=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldSearchQuery,n=e.fieldValue,r=e.onClose,i=e.onInteraction,o=e.onPickerButtonClick,c=e.pickerActive,l=Object(a.a)(e,["fieldSearchQuery","fieldValue","onClose","onInteraction","onPickerButtonClick","pickerActive"]);if(c){var s=t?{name:t}:void 0;return u.a.createElement(m.LayerModal,{onClose:r,open:!0,style:{overflow:"hidden"}},u.a.createElement(d.s.Content,null,u.a.createElement(f,{initialFilterValues:s,initialItemId:n,isPicker:!0,onInteraction:i,pickerTitle:"Pick taxon",treeEnabled:!0})))}var p=u.a.createElement(d.b,{onClick:o},"Pick");return u.a.createElement(h.a,Object.assign({rightButton:p},l))}}]),t}(s.Component);g.defaultProps=b,t.a=Object(p.createPickerWrapper)({})(g)},246:function(e,t,n){"use strict";var a=n(10),r=n(21),i=n(165),o=n(144),c=0,l={priority:10},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c+=1,Object(a.a)({},l,e,{sequentialId:c})},u=(n(952),n(77));u.COLLISION_REPLACE,u.COLLISION_STACK;function d(e){var t=e.type,n=Object(r.a)(e,["type"]);return function(e,r){var c=o.a.getSpecificationByType(r(),t);return e({payload:s(Object(a.a)({},c,n)),type:i.NOTIFICATIONS_CREATE_NOTIFICATION})}}n.d(t,"a",function(){return d})},247:function(e,t,n){"use strict";n.r(t),n.d(t,"enhancer",function(){return i}),n.d(t,"name",function(){return r});var a=n(37),r="devToolsExtension",i=function(){if(a.a.isDevelopment){var e=window.devToolsExtension;if("function"===typeof e)return e}return null}()},25:function(e,t,n){"use strict";n.r(t);var a=n(156),r=n(0),i=n.n(r),o=n(21),c=n(12),l=n.n(c),s=n(37),u=n(101),d={language:l.a.string.isRequired,markdown:l.a.object.isRequired,translations:l.a.object.isRequired},m={capitalize:!1,fallback:void 0,fallbackLanguage:void 0,params:null,textKey:"",textKeys:[]},p=function(e,t){var n=e.capitalize,a=e.fallback,r=e.fallbackLanguage,o=e.params,c=e.textKey,l=e.textKeys,d=t.language,m=t.markdown,p=t.translations,h=Object(u.c)(m,{fallbackLanguage:r,language:d,textKey:c,textKeys:l});if(h&&!Object(u.e)({output:h,textKey:c,textKeys:l}))return i.a.createElement("div",{dangerouslySetInnerHTML:{__html:h}});var f=Object(u.c)(p,{language:d,params:o,textKey:c,textKeys:l}),v=n&&f?Object(u.b)(f):f;return v&&!Object(u.e)({output:v,textKey:c,textKeys:l})||s.a.isTest||console.warn("Translation not found for path: ".concat(c||l&&l.join(", ")),p),Object(u.e)({output:v,textKey:c,textKeys:l})&&void 0!==a?i.a.createElement("span",null,a):i.a.createElement("span",null,v||c)};p.contextTypes=d,p.defaultProps=m;var h=p,f=function(e){var t=e.module,n=e.modules,a=e.textKey,r=e.scope,c=Object(o.a)(e,["module","modules","textKey","scope"]),l=n&&n.length?n:[t],s=Object(u.a)({modules:l,scope:r,textKey:a});return i.a.createElement(h,Object.assign({textKeys:s},c))};f.defaultProps={module:"",modules:[],scope:""};var v=f;function b(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scope,n=void 0===t?"":t;return function(t){var r=Object(a.a)({},t);return i.a.createElement(v,Object.assign({scope:n},r,{module:e}))}}var g=n(430),y=n(16),O=n(1),E=n(107),j={setLanguage:n(281).setLanguage},T=function(e){var t=e.availableLanguages,n=e.color,a=e.language,r=e.onChange,o=e.setLanguage,c=t.map(function(e){return{key:e,text:e,value:e}});return i.a.createElement(O.g,{button:!0,className:n?"icon ".concat(n):"icon",floating:!0,icon:"world",labeled:!0,onChange:function(e,t){o(t.value),r&&r(t.value)},options:c,renderLabel:function(e){return e.text},value:a})};T.defaultProps={color:"",onChange:null};var S=Object(y.b)(function(e){return{availableLanguages:E.a.getAvailableLanguages(e),language:E.a.getLanguage(e)}},j)(T),I={language:l.a.string.isRequired,markdown:l.a.object.isRequired},C={fallbackLanguage:void 0,textKey:"",textKeys:[]},N=function(e,t){var n=e.textKey,a=e.textKeys,r=e.fallbackLanguage,o=t.language,c=t.markdown,l=Object(u.c)(c,{fallbackLanguage:r,language:o,textKey:n,textKeys:a});return l&&l!==n||console.warn("Translation not found for path: ".concat(n),c),i.a.createElement("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:l}})};N.contextTypes=I,N.defaultProps=C;var k=N,w=n(210);n.d(t,"createModuleTranslate",function(){return b}),n.d(t,"I18nProvider",function(){return g.a}),n.d(t,"LanguageSelect",function(){return S}),n.d(t,"Markdown",function(){return k}),n.d(t,"MarkdownToHtmlAsync",function(){return w.a}),n.d(t,"ModuleTranslate",function(){return v}),n.d(t,"Translate",function(){return h})},250:function(e,t,n){"use strict";function a(e){var t=e.version,n=void 0===t?1:t,a=e.modelName;return"/docs/".concat(n,"/models/").concat(a)}n.d(t,"a",function(){return a})},251:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(1),d=n(37),m={autoComplete:void 0,disabled:!1,fluid:!1,focusOnMount:!1,icon:void 0,iconPosition:"left",max:void 0,min:void 0,placeholder:void 0,size:void 0,style:void 0,type:"text"},p=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&!d.a.isTest&&this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoComplete,a=t.disabled,r=t.fluid,i=t.icon,o=t.iconPosition,c=t.input,l=t.max,d=t.min,m=t.placeholder,p=t.size,h=t.style,f=t.type;return s.a.createElement(u.m,Object.assign({autoComplete:n,disabled:a,fluid:r,icon:i,iconPosition:i&&o,max:l,min:d,placeholder:m,ref:function(t){e.input=t},type:f},c,{size:p,style:h}))}}]),t}(l.PureComponent);p.defaultProps=m,t.a=p},271:function(e,t,n){"use strict";n.r(t),n.d(t,"I18N_SET_LANGUAGE",function(){return a}),n.d(t,"I18N_SET_TRANSLATIONS",function(){return r});var a="I18N_SET_LANGUAGE",r="I18N_SET_TRANSLATIONS"},272:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(152),r=n(61),i=n(131);function o(){return function(e){e(a.actionCreators.removeItem(i.AUTH_TOKEN_KEY)),setTimeout(function(){e({type:r.USER_LOG_OUT_SUCCESS})})}}},273:function(e,t,n){"use strict";n.r(t),n.d(t,"LOG_IN",function(){return o}),n.d(t,"GET_USER",function(){return c});var a=n(168),r=n.n(a),i=n(140),o=r()({mapResponse:function(e){return Object(i.d)(e,{newPath:"accessToken",oldPath:"access_token"})},methodName:"formPost",operationId:"loginUser"}),c=r()({mapResponse:function(e){return Object(i.d)(e,{newPath:"username",oldPath:"preferred_username"})},operationId:"userInfoGetOne",pathname:"/auth/realms/dina/protocol/openid-connect/userinfo"})},274:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(36),o=n(251),c=n(42);t.a=function(e){var t,n,a=e.input,l=e.type;switch(l){case"input-text":case"text":t=o.a,n="text";break;case"number":t=o.a,n="number";break;case"password":t=o.a,n="password";break;default:throw new Error("Type: ".concat(l," is not supported"))}var s=a.name,u=Object(i.a)({keys:c.c,props:e}),d=u.extractedProps,m=u.rest;return r.a.createElement(c.a,Object.assign({},d,{name:s}),r.a.createElement(t,Object.assign({},m,{input:a,type:n})))}},275:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(36),o=n(457),c=n(42);t.a=function(e){var t=e.input,n=Object(i.a)({keys:c.c,props:e}),a=n.extractedProps,l=n.rest;return r.a.createElement(c.a,Object.assign({},a,{name:t.name}),r.a.createElement(o.a,l))}},276:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(15),m=["parent"],p=["place"],h=function(e){if(!e)return"";var t=e.name,n=e.group,a=e.parent;return a?"".concat(t," [").concat(n," in ").concat(a.name,"]"):"".concat(t," [").concat(n,"]")},f=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.excludeRootNode,n=Object(a.a)(e,["excludeRootNode"]);return u.a.createElement(d.DropdownSearch,Object.assign({},n,{excludeRootNode:t,extractText:h,include:m,nestItems:!0,relationships:m,resolveRelationships:p,resource:"place",type:"dropdown-search-resource"}))}}]),t}(s.Component);f.defaultProps={excludeRootNode:!0},t.a=f},277:function(e,t,n){"use strict";var a=n(19),r=n(10),i=n(17),o=n(34),c=n(75),l=n(51),s=n(137),u=n(81),d=l.a.preparationType.getAll,m=l.a.featureType,p=m.getAll,h=m.getItemsObject,f=function(e,t){return Object(o.createSelector)([d,s.a],function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=a.toLowerCase(),o=n.filter(function(t){var n=t.attributes;return"all"===e||n.category===e}).map(function(e){var t=e.id,n=e.attributes;return{key:t,text:Object(c.capitalizeFirstLetter)(n.name.en),value:t}}),l=o.filter(function(e){var t=e.text;return!a||t&&0===t.toLowerCase().indexOf(r)}),s=o.filter(function(e){var t=e.text;return!!a&&(t&&t.toLowerCase().indexOf(r)>0)});return[].concat(Object(i.a)(l),Object(i.a)(s)).slice(0,t)})},v=f(u.SKELETON),b=f(u.SKIN),g=f(u.WET_PREPARATION),y=f(u.OTHER_PREPARATION),O=Object(o.createSelector)(p,function(e){return e.reduce(function(e,t){var n=t.id,o=t.attributes.group;return Object(r.a)({},e,Object(a.a)({},o,e[o]?[].concat(Object(i.a)(e[o]),[n]):[n]))},{})}),E=Object(o.createSelector)([h,O,function(e,t){return t?t.join():""}],function(e,t,n){return n.split(",").reduce(function(n,a){var r=t[a],o=r&&r.map(function(t){return e[t]});return o?[].concat(Object(i.a)(n),Object(i.a)(o)):n},[])}),j=Object(o.createSelector)(E,function(e){return e.length});t.a={getDropdownSkeletonOptions:v,getDropdownSkinOptions:b,getDropdownWetPreparationOptions:g,getFeatureTypesInGroups:E,getGroupedFeatureTypeIds:O,getNumberOfFeatureTypesInGroups:j,getPreparationTypeOptions:function(e,t){switch(t){case u.SKELETON:return v(e);case u.SKIN:return b(e);case u.WET_PREPARATION:return g(e);case u.OTHER_PREPARATION:return y(e);default:throw new Error("unknown preparationType category: ".concat(t))}}}},278:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(20),m=n.n(d),p=n(37),h=n(36),f=n(65),v=n(30),b=n(42),g=n(19),y=n(10),O=n(1),E=n(84),j=n(180),T=n.n(j),S=T()(""),I=T()(void 0),C={float:"left",paddingRight:"0.2em",width:"4.5em"},N={float:"left",paddingLeft:"0.2em",paddingRight:"0.2em",width:"3.5em"},k={float:"left",paddingLeft:"0.2em",width:"3.5em"},w={disabled:!1,displayLabel:void 0,displaySubLabel:void 0,enableHelpNotifications:void 0,hidden:!1,isEndDate:!1,isStartDate:!1,label:void 0,module:void 0,name:void 0,setYearInputRef:void 0},x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleOnChange=n.handleOnChange.bind(Object(c.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(c.a)(n)),n.handleOnFocus=n.handleOnFocus.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleOnBlur",value:function(){var e=this.props.input.onBlur;return e?e(this.props.input.value):null}},{key:"handleOnChange",value:function(e){var t=e.event,n=e.field,a=this.props,r=a.input,i=r.onChange,o=r.value,c=a.isEndDate,l=a.isStartDate;if(!i)return null;var s=Object(y.a)({},o||{},Object(g.a)({},n,t.target.value&&Number(t.target.value))),u=Object(E.getTimestampFromYMD)(Object(y.a)({isEndDate:c,isStartDate:l},s));return i(I(S(Object(y.a)({},s,{interpretedTimestamp:u}))))}},{key:"handleOnFocus",value:function(){var e=this.props.input.onFocus;return e?e(this.props.input.value):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.disabled,a=t.displayLabel,r=t.displaySubLabel,i=t.label,o=t.enableHelpNotifications,c=t.hidden,l=t.input.value,s=t.module,d=t.name,m=t.setYearInputRef,p=l||{},h=p.day,f=p.month,v=p.year;return u.a.createElement(b.a,{displayLabel:void 0!==i&&a,enableHelpNotifications:o,float:"left",label:i,meta:{},module:s,name:d,style:{display:c?"none":void 0,width:"initial"}},u.a.createElement("div",null,u.a.createElement("div",{style:C},u.a.createElement(b.a,{displayLabel:r,enableHelpNotifications:!1,float:"left",label:"Year",meta:{},name:"year",subLabel:!0},u.a.createElement(O.m,{className:"arrowless right aligned",disabled:n,fluid:!0,onBlur:function(t){e.handleOnBlur({event:t,field:"year"})},onChange:function(t){e.handleOnChange({event:t,field:"year"})},onFocus:function(t){e.handleOnFocus({event:t,field:"year"})},ref:m,type:"number",value:v||""}))),u.a.createElement("div",{style:N},u.a.createElement(b.a,{displayLabel:r,enableHelpNotifications:!1,float:"left",label:"Month",meta:{},name:"month",subLabel:!0},u.a.createElement(O.m,{className:"arrowless right aligned",disabled:n,fluid:!0,max:12,min:1,onBlur:function(t){e.handleOnBlur({event:t,field:"month"})},onChange:function(t){e.handleOnChange({event:t,field:"month"})},onFocus:function(t){e.handleOnFocus({event:t,field:"month"})},type:"number",value:f||""}))),u.a.createElement("div",{style:k},u.a.createElement(b.a,{displayLabel:r,enableHelpNotifications:!1,float:"left",label:"Day",meta:{},name:"day",subLabel:!0},u.a.createElement(O.m,{className:"arrowless right aligned",disabled:n,fluid:!0,max:31,min:1,onBlur:function(t){e.handleOnBlur({event:t,field:"day"})},onChange:function(t){e.handleOnChange({event:t,field:"day"})},onFocus:function(t){e.handleOnFocus({event:t,field:"day"})},type:"number",value:h||""})))))}}]),t}(s.Component);x.defaultProps=w;var A=x,R=function(e){var t=e.dateType,n=e.dateTypes,a=e.enableHelpNotifications,r=e.module,i=e.name,o=e.onDateTypeChange;return u.a.createElement(b.a,{enableHelpNotifications:a,label:"Date type",meta:{},module:r,name:i,style:{marginBottom:"0.5em",width:"100%"},subLabel:!0},u.a.createElement("div",null,n.map(function(e){return u.a.createElement(O.u,{checked:t===e,className:"inline group",key:e,label:e,name:"radioGroup",onChange:o,value:e})})))};R.defaultProps={enableHelpNotifications:void 0,module:void 0,name:void 0};var F=R,P=[f.f,f.e,f.b],L={marginBottom:Object(v.a)(3.75)},M={left:-Object(v.a)(11.5),position:"relative",top:Object(v.a)(3.75),width:Object(v.a)(11.5)},_={width:Object(v.a)(25)},D={float:"left",width:"11.5em"},B={float:"left",marginTop:"1.75em",textAlign:"center",width:"2em"},V={componentErrors:{},displayDateTypeRadios:!1,displayEndDateLabel:!1,displayLabel:!1,displayStartDateLabel:!1,displaySubLabels:!0,enableHelpNotifications:void 0,endDateLabel:void 0,initialDateType:"single",module:"form",mountHidden:p.a.isTest,stack:!1,startDateLabel:void 0},U=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getFieldInput=n.getFieldInput.bind(Object(c.a)(n)),n.setStartYearInputRef=n.setStartYearInputRef.bind(Object(c.a)(n)),n.setEndYearInputRef=n.setEndYearInputRef.bind(Object(c.a)(n)),n.handleFocusEndYear=n.handleFocusEndYear.bind(Object(c.a)(n)),n.handleFocusStartYear=n.handleFocusStartYear.bind(Object(c.a)(n)),n.handleDateTypeChange=n.handleDateTypeChange.bind(Object(c.a)(n)),n.handleOnChange=n.handleOnChange.bind(Object(c.a)(n)),n.handleOnBlur=n.handleOnBlur.bind(Object(c.a)(n)),n.handleOnFocus=n.handleOnFocus.bind(Object(c.a)(n)),n.state={dateType:m.a.get(e,"input.value.dateType")||e.initialDateType},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=m.a.get(e,"input.value.dateType");t&&this.state.dateType!==t&&this.setState({dateType:t})}},{key:"getFieldInput",value:function(e){var t=this,n=this.props.input;return{name:"".concat(n.name,".").concat(e),onBlur:function(n){t.handleOnBlur({datePartName:e,value:n})},onChange:function(n){t.handleOnChange({datePartName:e,value:n})},onFocus:function(n){t.handleOnFocus({datePartName:e,value:n})},value:n.value[e]||{}}}},{key:"setStartYearInputRef",value:function(e){this.startYearInput=e}},{key:"setEndYearInputRef",value:function(e){this.endYearInput=e}},{key:"handleFocusEndYear",value:function(){this.endYearInput&&this.endYearInput.focus()}},{key:"handleFocusStartYear",value:function(){this.startYearInput&&this.startYearInput.focus()}},{key:"handleDateTypeChange",value:function(e,t){var n=this,a=t.value;e.preventDefault();var r=this.props.input.value;this.setState(function(e){var t=e.dateType,i=function(e){var t=e.currentRangeValue,n=e.nextDateType,a=e.previousDateType,r=Object(y.a)({},t,{dateType:n});return a===f.b&&n===f.e?r.startDate={}:a===f.b&&n===f.f?(r.startDate={},r.endDate={}):a===f.e&&n===f.b?t.endDate&&t.endDate.interpretedTimestamp?r.startDate={interpretedTimestamp:Object(E.getEarliestTimestamp)()}:(r.endDate={},r.startDate={}):a===f.e&&n===f.f?t.startDate&&t.startDate.interpretedTimestamp?r.endDate=Object(y.a)({},r.startDate,{interpretedTimestamp:Object(E.getTimestampFromYMD)(Object(y.a)({},r.startDate,{isEndDate:!0}))}):(r.endDate={},r.startDate={}):a===f.f&&n===f.b?t.startDate&&t.startDate.interpretedTimestamp?(r.endDate=Object(y.a)({},r.startDate,{interpretedTimestamp:Object(E.getTimestampFromYMD)(Object(y.a)({},r.startDate,{isEndDate:!0}))}),r.startDate={interpretedTimestamp:Object(E.getEarliestTimestamp)()}):(r.startDate={},r.endDate={}):a===f.f&&f.e,r}({currentRangeValue:r,nextDateType:a,previousDateType:t});return n.props.input.onChange(i),a===f.b?setTimeout(function(){return n.handleFocusEndYear()}):setTimeout(function(){return n.handleFocusStartYear()}),{dateType:a}})}},{key:"handleOnBlur",value:function(){this.props.input.onBlur(this.props.input.value)}},{key:"handleOnChange",value:function(e){var t=e.datePartName,n=e.value,a=function(e){var t,n=e.currentRangeValue,a=e.dateType,r=e.updatedDatePartName,i=e.updatedDatePartValue;return(t=a===f.b&&"endDate"===r?{dateType:a,endDate:i,startDate:i&&Object.keys(i).length?{interpretedTimestamp:Object(E.getEarliestTimestamp)()}:{}}:a===f.f&&"startDate"===r?{dateType:a,endDate:i&&Object.keys(i).length?Object(y.a)({},i,{interpretedTimestamp:Object(E.getTimestampFromYMD)(Object(y.a)({},i,{isEndDate:!0}))}):{},startDate:i}:Object(y.a)({},n,Object(g.a)({dateType:a},r,i))).endDate&&!Object.keys(t.endDate).length&&delete t.endDate,t.startDate&&!Object.keys(t.startDate).length&&delete t.startDate,t.endDate||t.startDate?t:{}}({currentRangeValue:this.props.input.value,dateType:this.state.dateType,updatedDatePartName:t,updatedDatePartValue:n});this.props.input.onChange(a)}},{key:"handleOnFocus",value:function(){this.props.input.onFocus(this.props.input.value)}},{key:"render",value:function(){var e=this.props,t=e.displayDateTypeRadios,n=e.displayEndDateLabel,a=e.displayStartDateLabel,r=e.displaySubLabels,i=e.enableHelpNotifications,o=e.endDateLabel,c=e.input,l=e.meta,s=e.module,d=e.mountHidden,m=e.stack,p=e.startDateLabel,v=this.state.dateType,g=l.touched&&!!l.error,y=Object(h.a)({keys:b.c,props:this.props}).extractedProps;return u.a.createElement(b.a,Object.assign({},y,{displayError:g,enableHelpNotifications:i,errorStyle:v===f.f?M:_,name:c.name,style:g&&v===f.f?L:void 0}),t&&u.a.createElement(F,{dateType:v,dateTypes:P,enableHelpNotifications:!1,module:s,name:c.name,onDateTypeChange:this.handleDateTypeChange}),!m&&u.a.createElement("div",null,u.a.createElement("div",{style:D},u.a.createElement(A,{disabled:v===f.b,displayLabel:a,displaySubLabel:r,enableHelpNotifications:i&&a,input:this.getFieldInput("startDate"),isStartDate:!0,label:p,meta:{},module:s,name:"".concat(c.name,".startDate"),setYearInputRef:this.setStartYearInputRef})),v!==f.f&&u.a.createElement("div",{style:B}," \u2013 "),u.a.createElement("div",{style:D},u.a.createElement(A,{displayLabel:n,displaySubLabel:r,enableHelpNotifications:i&&n,hidden:v===f.f,input:this.getFieldInput("endDate"),isEndDate:!0,label:o,meta:{},module:s,name:"".concat(c.name,".endDate"),setYearInputRef:this.setEndYearInputRef}))),m&&u.a.createElement("div",null,u.a.createElement("div",{style:{float:"left",marginBottom:"0.8em",width:"100%"}},u.a.createElement(A,{disabled:v===f.b,displayLabel:a,displaySubLabel:r,enableHelpNotifications:i&&a,input:this.getFieldInput("startDate"),isStartDate:!0,label:p,meta:{},module:s,name:"".concat(c.name,".startDate"),setYearInputRef:this.setStartYearInputRef})),u.a.createElement("div",{style:{float:"left",width:"100%"}},u.a.createElement(A,{displayLabel:n,displaySubLabel:r,enableHelpNotifications:i&&n,hidden:v===f.f,input:this.getFieldInput("endDate"),isEndDate:!0,label:o,meta:{},module:s,name:"".concat(c.name,".endDate"),setYearInputRef:this.setEndYearInputRef}))),d&&u.a.createElement("input",Object.assign({className:"hidden"},c,{name:"".concat(c.name,".hidden"),onChange:this.props.input.onChange,type:"hidden",value:c.value||""})))}}]),t}(s.Component);U.defaultProps=V;t.a=U},279:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(39),d=n(1),m=n(36),p=n(25),h=n(42),f=function(e){var t=e.buttonText,n=e.buttonTextKey,a=e.displayLabel,r=e.isLatestActiveField,i=e.input.name,o=e.module,c=e.setAsLatestActiveField,l=Object(m.a)({keys:Object.keys(h.d),props:e}).extractedProps,u=t||n;return s.a.createElement(h.a,Object.assign({},l,{displayLabel:a||!u,name:i}),s.a.createElement("div",{style:{position:"relative"}},s.a.createElement(d.b,{onClick:r?void 0:c},u&&(t||s.a.createElement(p.ModuleTranslate,{capitalize:!0,module:o,textKey:n})),!u&&s.a.createElement(p.ModuleTranslate,{capitalize:!0,module:"form",textKey:"clickToAdd"}))))};f.defaultProps={buttonText:void 0,buttonTextKey:void 0,displayLabel:!1,module:void 0};var v={forceRenderInput:!1,forceRenderResult:!1,getHasValue:function(e){return e&&e.value},renderEmptyState:f,renderResult:function(e){var t=e.isLatestActiveField,n=e.input,a=n.name,r=n.value,i=e.setAsLatestActiveField,o=Object(m.a)({keys:Object.keys(h.d),props:e}).extractedProps;return s.a.createElement(h.a,Object.assign({},o,{name:a}),s.a.createElement("div",{style:{position:"relative"}},s.a.createElement("strong",null,r," "),s.a.createElement(d.b,{icon:!0,onClick:t?void 0:i,style:{marginLeft:"5px"}},s.a.createElement(d.k,{name:"edit"}))))}},b=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.forceRenderInput,n=e.forceRenderResult,a=e.getHasValue,r=e.input,i=e.isLatestActiveField,o=e.renderInput,c=e.renderResult,l=e.renderEmptyState;return t||i&&!n?o(this.props):i&&n||a(r)?c(this.props):l(this.props)}}]),t}(l.PureComponent);b.defaultProps=v;t.a=Object(u.injectIsLatestActiveField)(b)},280:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(12),d=n.n(u),m=n(13),p=n(16),h=n(40),f=n(34),v=n(50),b=n(137),g=n(439),y=function(e){return function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return s.a.createElement(e,Object.assign({},this.props,{navigationItems:g.NAVIGATION_ITEMS}))}}]),n}(l.Component)},O=Object(f.createSelector)(function(e){return e},b.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.find(function(e){return t===e.path});return n?n.name:e.reduce(function(e,n){return t.startsWith(n.path)?n.name:e},void 0)}),E=function(e){d.a.string,d.a.shape({moduleTranslate:d.a.func.isRequired}).isRequired,d.a.shape({pathname:d.a.string.isRequired}).isRequired,d.a.arrayOf(d.a.shape({exact:d.a.bool,icon:d.a.string,name:d.a.string,path:d.a.string.isRequired}).isRequired);var t={activeLocationTitleKey:void 0,navigationItems:[]},n=function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){var t=this.props,n=t.activeLocationTitleKey,a=t.i18n.moduleTranslate;return s.a.createElement(e,Object.assign({},this.props,{activeLocationSubtitle:"start"!==n&&a({capitalize:!0,fallback:"pageSubtitle",textKey:"pageSubtitle"}),activeLocationTitle:n&&a({capitalize:!0,fallback:n,textKey:n})}))}}]),n}(l.Component);return n.defaultProps=t,Object(m.c)(Object(v.withI18n)({module:"commonUi",scope:"routes"}),y,h.g,Object(p.b)(function(e,t){var n=t.navigationItems,a=t.location.pathname;return{activeLocationTitleKey:O(n,a)}}))(n)};n.d(t,"injectActiveLocationDescription",function(){return E}),n.d(t,"injectNavigationItems",function(){return y})},281:function(e,t,n){"use strict";n.r(t);var a=n(271);function r(e){return{payload:e,type:a.I18N_SET_LANGUAGE}}n.d(t,"setLanguage",function(){return r})},282:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(58),m=n(1),p=n(20),h=n.n(p),f=n(47),v=n(453),b=n(13),g=n(499),y=Object(b.c)(Object(f.createLocalState)(),Object(f.createNavigationState)())(g.a),O={fieldValue:void 0,reportPickerActive:void 0},E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.reportPickerActive&&e.pickerActive!==this.props.pickerActive&&this.props.reportPickerActive(this.props.pickerActive)}},{key:"render",value:function(){var e=this.props,t=e.fieldValue,n=e.onClose,r=e.onInteraction,i=e.onPickerButtonClick,o=e.pathToIdInValue,c=e.pathToTextInValue,l=e.pickerActive,s=Object(a.a)(e,["fieldValue","onClose","onInteraction","onPickerButtonClick","pathToIdInValue","pathToTextInValue","pickerActive"]);if(l){var p=h.a.get(t,c)?{fullName:h.a.get(t,c)}:void 0;return u.a.createElement(d.LayerModal,{onClose:n,open:!0,style:{overflow:"hidden"}},u.a.createElement(m.s.Content,null,u.a.createElement(y,{initialFilterValues:p,initialItemId:h.a.get(t,o),isPicker:!0,onInteraction:r,pickerTitle:"Pick agent",treeEnabled:!1})))}var f=u.a.createElement(m.b,{onClick:i},"Pick");return u.a.createElement(v.a,Object.assign({},s,{pathToIdInValue:o,pathToTextInValue:c,rightButton:f}))}}]),t}(s.Component);E.defaultProps=O;t.a=Object(f.createPickerWrapper)({pathToIdInValue:"normalized.id",pathToTextInValue:"textI",requireEitherIdOrValue:!0})(E)},287:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(958),r=n.n(a),i=n(51),o=n(96),c=n(73).a.set["nestedCache.:namespace.items.:id"];function l(e){var t=e.item,n=e.namespace,a=e.relationships,l=void 0===a?[]:a,s=e.resolveRelationships,u=void 0===s?[]:s,d=e.resource,m=e.storeResult,p=void 0===m||m,h=l.includes("all")?[]:l.filter(function(e){return"children"!==e}),f=l.includes("all")?[]:l.filter(function(e){return"parent"!==e});return function(e,a){var s=a(),m=r()({getItemByTypeId:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).relationshipKey;if(!u.includes(e))return null;var a=l;"parent"===n&&(a=h),"children"===n&&(a=f);var r=i.a[e]&&i.a[e].getOne,c=i.a[e]&&i.a[e].getOneByLid,d=r&&r(s,t)||c&&c(s,t)||null;if(!d)return d;var m=Object(o.b)({item:d,relationshipKeys:a});return m||null},item:Object(o.b)({item:t,relationshipKeys:l}),type:d});return p&&e(c(m,{id:t.id,namespace:n})),m}}},288:function(e,t,n){"use strict";var a=n(21),r=n(0),i=n.n(r),o=n(1),c=function(e){var t=e.disabled,n=e.input,r=e.label,c=n.value,l=n.onChange,s=Object(a.a)(n,["value","onChange"]),u=!!c;return i.a.createElement(o.c,Object.assign({checked:u,disabled:t,label:r,onChange:function(e,t){l(t.checked)},type:"checkbox"},s))};c.defaultProps={disabled:!1,label:void 0},t.a=c},290:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n(25),c=function(e){var t=e.as,n=e.children,a=e.module,c=e.textKey;return r.a.createElement(i.j,{as:t},r.a.createElement(o.ModuleTranslate,{capitalize:!0,fallback:c,module:a,textKey:c}),n)};c.defaultProps={as:"h1",children:void 0},t.a=c},293:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var a=n(17),r=n(10),i=n(43),o=function(e){var t=e.id;return{key:t,text:e.attributes.name,value:t}},c=function(e){var t=e.taxonName,n=e.nameType,a=e.stateIndex,i=e.stateType;return t&&t.id?"object"===i?Object(r.a)({},t,{nameType:n,stateType:i}):Object(r.a)({},t,{nameType:n,stateIndex:a,stateType:i}):null},l=function(e){var t=e.taxonNames,n=void 0===t?[]:t,a=e.nameType,r=e.stateType;return n.map(function(e,t){return c({nameType:a,stateIndex:t,stateType:r,taxonName:e})})},s=function(e){var t=e.acceptedTaxonName,n=e.synonyms,r=e.vernacularNames;return[c({nameType:i.ACCEPTED,stateType:"object",taxonName:t})].concat(Object(a.a)(l({nameType:i.SYNONYM,stateType:"array",taxonNames:n})),Object(a.a)(l({nameType:i.VERNACULAR,stateType:"array",taxonNames:r}))).filter(function(e){return!!e})}},296:function(e,t,n){"use strict";var a=n(157),r=n(466),i=n(4),o=n(6),c=n(8),l=n(5),s=n(9),u=n(7),d=n(0),m=n.n(d),p=n(13),h=n(16),f=n(1),v=n(31),b=n(22),g=n(181),y=n(43),O=n(293),E=n(40),j=n(35),T=n(15),S=n(25),I={item:void 0,stateIndex:void 0},C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={popupOpen:!1},n.handleRemove=n.handleRemove.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleRemove",value:function(){var e=this.props,t=e.itemId,n=e.nameType,a=e.onInteraction,r=e.stateIndex;a(y.DISCONNECT_TAXON_NAME,{itemId:t,nameType:n,stateIndex:r})}},{key:"render",value:function(){var e=this,t=this.state.popupOpen,n=this.props,a=n.item,r=n.itemId,i=n.nameType,o=n.onInteraction,c=n.stateIndex,l=(a||{}).attributes,s=(l=void 0===l?{}:l).name,u=l.rank,d=l.rubinNumber;return m.a.createElement(f.z.Row,{positive:i===y.ACCEPTED||void 0},m.a.createElement(f.z.Cell,null,s),m.a.createElement(f.z.Cell,null,u),m.a.createElement(f.z.Cell,null,d),m.a.createElement(f.z.Cell,null,i),m.a.createElement(f.z.Cell,null,m.a.createElement(f.t,{content:m.a.createElement(m.a.Fragment,null,m.a.createElement(f.j,null,"Choose an action"),i===y.SYNONYM&&m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{onClick:function(t){t.preventDefault(),o(y.SET_TAXON_NAME_AS_ACCEPTED,{itemId:r,nameType:i,stateIndex:c}),e.setState({popupOpen:!1})}},"Set as accepted"),m.a.createElement("br",null)),m.a.createElement(E.a,{to:"/app/taxonNames?filterColumn=&itemId=".concat(r,"&mainColumn=edit")},"Edit scientific name"),i===y.SYNONYM&&m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement(T.ConfirmationPopup,{cancelButtonText:m.a.createElement(S.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"cancel"}),confirmButtonText:m.a.createElement(S.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"remove"}),header:m.a.createElement(S.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"removeThisTaxon"}),hideOnScroll:!0,onConfirm:this.handleRemove,text:m.a.createElement(S.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"removeFromThisTaxon"}),type:"link"}))),open:t,position:"bottom right",trigger:m.a.createElement(f.k,{name:"ellipsis vertical",onClick:function(){return e.setState({popupOpen:!t})},size:"large",style:{cursor:"pointer"}})})))}}]),t}(d.PureComponent);C.defaultProps=I;var N=Object(p.c)(Object(j.createGetItemById)({refresh:!1,resource:"taxonName"}))(C),k=n(176),w=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){e&&this.props.onInteraction(y.ADD_SYNONYM,{itemId:e})}},{key:"render",value:function(){var e=this.props.isFirstName;return m.a.createElement(f.z.Row,null,m.a.createElement(f.z.Cell,null,m.a.createElement(k.a,{displayLabel:!1,enableHelpNotification:!1,input:{name:"newTaxonName",onBlur:this.handleChange,onChange:this.handleChange},meta:{},module:"taxon",placeholder:e?"Add accepted name":void 0,taxonNameType:"neitherAcceptedNorSynonymToTaxon"})),m.a.createElement(f.z.Cell,null),m.a.createElement(f.z.Cell,null),m.a.createElement(f.z.Cell,null),m.a.createElement(f.z.Cell,null))}}]),t}(d.Component),x=Object(p.c)()(w),A=Object(b.a)("modules:taxon:taxon:ScientificNamesTable"),R={arrayPush:v.a,arrayRemove:v.b,arrayUnshift:v.c,change:v.e},F=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={connectingScientificName:0===e.scientificNames.length},n.handleInteraction=n.handleInteraction.bind(Object(s.a)(n)),n.setTaxonNameAsAccepted=n.setTaxonNameAsAccepted.bind(Object(s.a)(n)),n.disconnectTaxonName=n.disconnectTaxonName.bind(Object(s.a)(n)),n.addSynonym=n.addSynonym.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.scientificNames.length>0&&0===e.scientificNames.length&&this.setState({connectingScientificName:!0})}},{key:"setTaxonNameAsAccepted",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).itemId,t=this.props.acceptedTaxonName;return this.disconnectTaxonName({itemId:e}),t&&t.id&&this.setTaxonNameAsSynonym({itemId:t.id,nameType:y.ACCEPTED}),this.props.change(this.props.formName,"acceptedTaxonName",{id:e})}},{key:"setTaxonNameAsSynonym",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,n=e.nameType;return this.addSynonym({itemId:t,unshift:n===y.ACCEPTED}),null}},{key:"addSynonym",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,n=e.unshift,a=void 0!==n&&n;return this.disconnectTaxonName({itemId:t}),a?this.props.arrayUnshift(this.props.formName,"synonyms",{id:t}):this.props.arrayPush(this.props.formName,"synonyms",{id:t})}},{key:"disconnectTaxonName",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).itemId,t=this.props.scientificNames.find(function(t){return t.id===e});if(!t)return null;var n=t.nameType,a=t.stateIndex;return n===y.SYNONYM&&this.props.arrayRemove(this.props.formName,"synonyms",a),n===y.ACCEPTED&&this.props.change(this.props.formName,"acceptedTaxonName",null),null}},{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemId,a=t.stateIndex;switch(e){case y.ADD_SYNONYM:if(this.setState({connectingScientificName:!1}),!this.props.scientificNames.length){this.setTaxonNameAsAccepted({itemId:n});break}if(this.props.scientificNames.find(function(e){var t=e.id;return n===t}))break;this.addSynonym({itemId:n});break;case y.DISCONNECT_TAXON_NAME:this.disconnectTaxonName({itemId:n,stateIndex:a});break;case y.SET_TAXON_NAME_AS_ACCEPTED:this.setTaxonNameAsAccepted({itemId:n})}}},{key:"render",value:function(){var e=this;A.render();var t=this.props.scientificNames,n=this.state.connectingScientificName;return m.a.createElement(m.a.Fragment,null,m.a.createElement(f.z,{celled:!0},m.a.createElement(f.z.Header,null,m.a.createElement(f.z.Row,null,m.a.createElement(f.z.HeaderCell,{width:6},m.a.createElement("span",{className:"required asterisk"},"Name")),m.a.createElement(f.z.HeaderCell,null,"Rank"),m.a.createElement(f.z.HeaderCell,null,"RUBIN no."),m.a.createElement(f.z.HeaderCell,null,"Status"),m.a.createElement(f.z.HeaderCell,null,"Actions"))),m.a.createElement(f.z.Body,null,t.length>0&&t.map(function(t){return m.a.createElement(N,{itemId:t.id,key:t.id,nameType:t.nameType,onInteraction:e.handleInteraction,stateIndex:t.stateIndex})}),n&&m.a.createElement(x,{isFirstName:0===t.length,onInteraction:this.handleInteraction}))),!n&&m.a.createElement(g.a,{id:"connect-scientific-name",module:"taxon",onClick:function(t){t.preventDefault(),e.setState({connectingScientificName:!0})},textKey:"connectScientificName"}))}}]),t}(d.Component),P=Object(p.c)(Object(h.b)(function(e,t){var n=t.formValueSelector,a=n(e,"acceptedTaxonName"),r=n(e,"synonyms");return{acceptedTaxonName:a,scientificNames:Object(O.a)({acceptedTaxonName:a,synonyms:r})}},R))(F),L=n(212),M=n(245),_=n(352),D=n(467),B=n(474),V=n(39),U=n(50),K=Object(b.a)("modules:taxon:components:VernacularNamesTable:Row"),H=[{key:"en",text:"English",value:"en"},{key:"sv",text:"Svenska",value:"sv"}],z=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.index;(0,e.removeArrayFieldByIndex)(t(),n)}},{key:"render",value:function(){var e=this.props,t=e.getPath,n=e.i18n.moduleTranslate;return K.render(),m.a.createElement(f.i,{textAlign:"left",verticalAlign:"middle"},m.a.createElement(f.i.Column,{width:5},m.a.createElement(T.Field,{autoComplete:"off",className:"transparent",component:T.DropdownSearch,displayLabel:!1,module:"taxon",name:t("language"),options:H,placeholder:n({capitalize:!0,textKey:"selectLanguage"}),type:"dropdown-search-local"})),m.a.createElement(f.i.Column,{width:9},m.a.createElement(T.Field,{autoComplete:"off",className:"transparent",component:T.Input,displayLabel:!1,fluid:!0,module:"taxon",name:t("name"),placeholder:n({capitalize:!0,textKey:"addNameOrNames"}),type:"text"})),m.a.createElement(f.i.Column,{width:2},m.a.createElement(T.ConfirmationPopup,{cancelButtonText:n({capitalize:!0,textKey:"cancel"}),confirmButtonText:n({capitalize:!0,textKey:"remove"}),header:n({capitalize:!0,textKey:"removeThisVernacularName"}),hideOnScroll:!0,iconName:"trash",onConfirm:this.handleRemove,size:"large",type:"icon"})))}}]),t}(d.PureComponent),G=Object(p.c)(Object(U.withI18n)({module:"taxon"}),Object(V.pathBuilder)())(z),q=Object(b.a)("modules:taxon:components:VernacularNamesTable"),Q={changeFormValue:v.e,removeArrayField:v.b},W=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).changeFieldValue=n.changeFieldValue.bind(Object(s.a)(n)),n.removeArrayFieldByIndex=n.removeArrayFieldByIndex.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"changeFieldValue",value:function(e,t){this.props.changeFormValue(this.props.formName,e,t)}},{key:"removeArrayFieldByIndex",value:function(e,t){this.props.removeArrayField(this.props.formName,e,t)}},{key:"render",value:function(){var e=this;q.render();var t=this.props,n=t.getPath,a=t.vernacularNames;return m.a.createElement(f.i,null,m.a.createElement(f.i.Row,{className:"relaxed"},a.map(function(t,n){return m.a.createElement(f.i.Column,{key:n,width:16},m.a.createElement(G,{changeFieldValue:e.changeFieldValue,index:n,key:n,removeArrayFieldByIndex:e.removeArrayFieldByIndex}))}).filter(function(e){return!!e}),m.a.createElement(f.i.Column,{width:16},m.a.createElement(g.a,{id:"add-vernacular-name",module:"taxon",onClick:function(t){t.preventDefault(),e.changeFieldValue(n(a.length),{taxonNameType:"vernacular",type:"taxonName"})},textKey:"addVernacularName"}))))}}]),t}(d.PureComponent);W.defaultProps={vernacularNames:[]};var Y=Object(p.c)(Object(h.b)(function(e,t){return{vernacularNames:(0,t.formValueSelector)(e,"vernacularNames")}},Q),Object(V.pathBuilder)())(W);t.a=Object(a.a)({RankDropdown:r.a,ScientificNamesTable:P,TaxonDropdownPickerSearch:M.a,TaxonDropdownSearch:L.a,TaxonNameDropdownPickerSearch:_.a,TaxonNameDropdownSearch:k.a,TaxonNameTaxonStatus:D.a,TogglableTaxonDropdownPickerSearch:B.a,VernacularNamesTable:Y})},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=function(e){var t={height:"100%",left:0,opacity:e.loading?.7:0,pointerEvents:"none",position:"absolute",right:0,top:0,transition:"opacity 0.5s",width:"100%",zIndex:1e3};return r.a.createElement("div",{className:"dina background",style:t})},o=n(1),c=function(e){var t=e.error;return r.a.createElement(o.d,null,r.a.createElement(o.j,{style:{marginTop:50}},"Loading error"),r.a.createElement("p",null,"There was an error loading a module. Likely due to a new version.",r.a.createElement("span",{style:{fontWeight:"bold"}}," Try and reload the page.")),r.a.createElement(o.j,{sub:!0},"Error details"),t&&r.a.createElement(o.w,{color:"red"},r.a.createElement("p",null,"Message: ",t.message),r.a.createElement("p",null,"Stack: ",t.stack),r.a.createElement("p",null,"Error object: ",JSON.stringify(t,null,2))))};c.defaultProps={error:null};var l=c,s=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,t)};n.d(t,"DefaultLoader",function(){return i}),n.d(t,"DefaultLoadingError",function(){return l}),n.d(t,"DefaultWrapper",function(){return s})},30:function(e,t,n){"use strict";var a=n(130),r=function(e){return e*a.d};n.d(t,"a",function(){return r})},300:function(e,t,n){"use strict";n.r(t);var a=n(463),r=n(464),i=n(21),o=n(4),c=n(6),l=n(8),s=n(5),u=n(7),d=n(0),m=n.n(d),p=n(13),h=n(16),f=n(22),v=n(15),b=n(107),g=Object(f.a)("modules:curatedList:FeatureObservationDropdownSearch"),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.language,a=t.defaultLanguage;return e.map(function(e){var t=e.key,r=e.name;return"string"===typeof r?{key:t,text:r,value:t}:{key:t,text:(n||a)&&(r[n]||r[a])||t,value:t}})},O={placeholder:void 0},E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.defaultLanguage,n=e.language,a=e.placeholder,r=e.rawOptions,o=Object(i.a)(e,["defaultLanguage","language","placeholder","rawOptions"]);return g.render(),m.a.createElement(v.DropdownSearch,Object.assign({},o,{options:!!r&&y(r,{defaultLanguage:t,language:n}),placeholder:a,type:"dropdown-search-local"}))}}]),t}(d.Component);E.defaultProps=O;var j=Object(p.c)(Object(h.b)(function(e){return{defaultLanguage:b.a.getDefaultLanguage(e),language:b.a.getLanguage(e)}}))(E),T=n(469),S=n(465);n.d(t,"CauseOfDeathDropdownSearch",function(){return a.a}),n.d(t,"EstablishmentMeansTypeRadioGroup",function(){return r.a}),n.d(t,"FeatureObservationDropdownSearch",function(){return j}),n.d(t,"PreparationTypeDropdownSearch",function(){return T.a}),n.d(t,"TypeSpecimenTypeDropdownSearch",function(){return S.a})},302:function(e,t,n){"use strict";var a=n(19),r=n(10);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bySection,i=t.byUnit,o=void 0===i||i,c=t.useBaseName,l=void 0!==c&&c;return e.reduce(function(e,t){var i=t.baseName,c=t.name,s=t.section,u=t.unit;if(!n&&!o)throw new Error("either bySection or byUnit must be true");var d=n?s:u;return i&&l?Object(r.a)({},e,Object(a.a)({},d,e[d]?e[d].concat([i]):[i])):Object(r.a)({},e,Object(a.a)({},d,e[d]?e[d].concat([c]):[c]))},{})}function o(e,t){return i(e,{byUnit:!0,useBaseName:t})}function c(e,t){return i(e,{bySection:!0,useBaseName:t})}var l=n(21);function s(e){return e.reduce(function(e,t){var n=t.name,i=t.units;return Object(r.a)({},e,i.reduce(function(e,t){var i=t.name,o=t.parts;return Object(r.a)({},e,o.reduce(function(e,t){var o=t.name,c=t.relativeNames,s=Object(l.a)(t,["name","relativeNames"]);return o?c?Object(r.a)({},e,c.reduce(function(e,t){var c="".concat(o,".*.").concat(t);return Object(r.a)({},e,Object(a.a)({},c,Object(r.a)({},s,{baseName:o,name:c,section:n,unit:i})))},{})):Object(r.a)({},e,Object(a.a)({},o,Object(r.a)({},s,{name:o,section:n,unit:i}))):e},{}))},{}))},{})}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s})},35:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(12),m=n.n(d),p=n(16),h=n(36),f=n(46),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.fetchInterval,d=void 0===n?1e3:n,v=e.maxBatchSize,b=void 0===v?200:v,g=e.maxNumberOfBatches,y=void 0===g?2:g,O=e.refetch,E=void 0!==O&&O,j=(m.a.func.isRequired,m.a.array,m.a.array,m.a.string,{include:void 0,relationships:void 0,resource:void 0}),T=function(n){function s(e){var t;return Object(a.a)(this,s),(t=Object(i.a)(this,Object(o.a)(s).call(this,e))).registeredIds={},t.batches=[[]],t.getBatchIsFull=t.getBatchIsFull.bind(Object(c.a)(t)),t.getCurrentBatch=t.getCurrentBatch.bind(Object(c.a)(t)),t.addBatch=t.addBatch.bind(Object(c.a)(t)),t.addId=t.addId.bind(Object(c.a)(t)),t.addIdToBatch=t.addIdToBatch.bind(Object(c.a)(t)),t.isFetchedOrRegistered=t.isFetchedOrRegistered.bind(Object(c.a)(t)),t.fetchItemById=t.fetchItemById.bind(Object(c.a)(t)),t}return Object(l.a)(s,n),Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this,n=this.props.dispatch,a=Object(h.a)({defaults:e,keys:["include","relationships","resource"],props:this.props}).extractedProps,r=a.include,i=a.relationships,o=a.resource;o||console.error("Missing resource");var c=f.a[o]&&f.a[o].getMany;c||console.error("Missing getManyActionCreator for resource ".concat(o)),setInterval(function(){if(t.batches.length&&t.batches[0].length){var e=t.batches;t.batches=[[]];var a=e.map(function(e){return n(c({ids:e,include:r,relationships:i}))});Promise.all(a).then(function(){})}},d)}},{key:"getBatchIsFull",value:function(e){return e.length>=b}},{key:"getCurrentBatch",value:function(){return this.batches[0]}},{key:"addBatch",value:function(){var e=this;this.batches.unshift([]),this.batches.length>y&&this.batches.pop().forEach(function(t){delete e.registeredIds[t]})}},{key:"addId",value:function(e){this.getBatchIsFull(this.getCurrentBatch())&&this.addBatch(),this.addIdToBatch(e,this.getCurrentBatch())}},{key:"addIdToBatch",value:function(e,t){t.push(e),this.registeredIds[e]=!0}},{key:"isFetchedOrRegistered",value:function(e){return this.registeredIds[e]||null}},{key:"fetchItemById",value:function(e){return this.isFetchedOrRegistered(e)&&!E?null:(this.addId(e),!0)}},{key:"render",value:function(){return u.a.createElement(t,Object.assign({},this.props,{fetchItemById:this.fetchItemById}))}}]),s}(s.Component);return T.defaultProps=j,Object(p.b)(null)(T)}},b=n(19),g=n(13),y=n(20),O=n.n(y),E=n(37),j=n(73),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,c,d=e.allItemsFetchedKey,h=void 0===d?"allItemsFetched":d,v=e.allItemsFetchingKey,y=void 0===v?"allItemsFetching":v,T=e.include,S=void 0===T?[]:T,I=e.relationships,C=e.resource;C||console.error("Missing resource");var N=j.b.get[":resource.allItems.fetched"],k=j.b.get[":resource.allItems.fetching"],w=j.a.set[":resource.allItems.fetched"],x=j.a.set[":resource.allItems.fetching"],A=f.a[C]&&f.a[C].getMany;A||console.error("Missing actionCreator getMany for resource ".concat(C));var R={getMany:A,setAllItemsFetched:w,setAllItemsFetching:x},F=(n={},Object(b.a)(n,h,m.a.bool),Object(b.a)(n,y,m.a.bool),Object(b.a)(n,"getMany",m.a.func.isRequired),Object(b.a)(n,"setAllItemsFetched",m.a.func.isRequired),Object(b.a)(n,"setAllItemsFetching",m.a.func.isRequired),c={},Object(b.a)(c,h,!1),Object(b.a)(c,y,!1),c),P=function(e){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(l.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=O.a.get(this.props,h),n=O.a.get(this.props,y);E.a.isTest||t||n||(this.props.setAllItemsFetching(!0,{resource:C}),this.props.getMany({include:S,limit:2e4,relationships:I}).then(function(){e.props.setAllItemsFetched(!0,{resource:C}),e.props.setAllItemsFetching(!1,{resource:C})}))}},{key:"render",value:function(){var e,n=(e={},Object(b.a)(e,h,O.a.get(this.props,h)),Object(b.a)(e,y,O.a.get(this.props,y)),e);return u.a.createElement(t,Object.assign({},this.props,n))}}]),n}(s.Component);return P.defaultProps=F,Object(g.c)(Object(p.b)(function(e){var t;return t={},Object(b.a)(t,h,N(e,{resource:C})),Object(b.a)(t,y,k(e,{resource:C})||!1),t},R))(P)}},S=n(10),I=n(51),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.idPath,d=void 0===n?"itemId":n,v=e.itemKey,y=e.refresh,j=void 0===y||y,T=e.shouldFetch,C=void 0===T||T,N=(m.a.func.isRequired,m.a.object,m.a.string,m.a.string,{item:null,itemId:"",resource:void 0}),k=function(n){function s(e){var t;return Object(a.a)(this,s),(t=Object(i.a)(this,Object(o.a)(s).call(this,e))).fetchOneItemById=t.fetchOneItemById.bind(Object(c.a)(t)),t}return Object(l.a)(s,n),Object(r.a)(s,[{key:"componentDidMount",value:function(){if(C){var t=this.props,n=t.dispatch,a=t.item,r=t.itemId,i=Object(h.a)({defaults:e,keys:["include","relationships","resource"],props:this.props}).extractedProps,o=i.include,c=void 0===o?[]:o,l=i.relationships,s=void 0===l?["all"]:l,u=i.resource;if(r&&!E.a.isTest&&(j||!a)){var d=f.a[u]&&f.a[u].getOne;d&&n(d({id:r,include:c,relationships:s}))}}}},{key:"componentWillReceiveProps",value:function(e){C&&e.itemId&&e.itemId!==this.props.itemId&&!E.a.isTest&&(!j&&e.item||this.fetchOneItemById(e.itemId))}},{key:"fetchOneItemById",value:function(t){var n=this.props.dispatch,a=Object(h.a)({defaults:e,keys:["include","relationships","resource"],props:this.props}).extractedProps,r=a.include,i=void 0===r?[]:r,o=a.relationships,c=void 0===o?["all"]:o,l=a.resource;return n((f.a[l]&&f.a[l].getOne)({id:t,include:i,relationships:c}))}},{key:"render",value:function(){var e=this.props.item;return u.a.createElement(t,Object.assign({fetchOneItemById:this.fetchOneItemById,item:e},this.props))}}]),s}(s.Component);return k.defaultProps=N,Object(g.c)(Object(p.b)(function(t,n){var a=Object(h.a)({defaults:e,keys:["injectRelationships","resource"],props:n}).extractedProps,r=a.injectRelationships,i=void 0===r?[]:r,o=a.resource,c=I.a[o]&&I.a[o].getOne,l=I.a[o]&&I.a[o].getRelationshipItemOrItems,s=O.a.get(n,d),u=s&&c?c(t,s):null;if(v)return Object(b.a)({item:u,itemId:s},v,u);var m=i.reduce(function(e,n){var a=l(t,{itemId:s,relationKey:n});return void 0!==a?Object(S.a)({},e,Object(b.a)({},n,a)):e},{});return Object(S.a)({},m,{item:u,itemId:s})}))(k)}},N=n(489),k=n(287),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.idPath,d=void 0===n?"itemId":n,f=e.include,v=e.nestedItemKey,y=e.refresh,O=e.relationships,E=e.resource,T=e.shouldFetch,I=C({idPath:d,include:f,refresh:y,relationships:O,resource:E,shouldFetch:T}),w={clearNestedCache:N.a,createNestedItem:k.a},x=(m.a.func.isRequired,m.a.func.isRequired,m.a.object,m.a.string,m.a.object,m.a.string,{item:null,namespace:void 0,nestedItem:void 0,nestedItemKey:void 0}),A=function(n){function s(e){var t;return Object(a.a)(this,s),(t=Object(i.a)(this,Object(o.a)(s).call(this,e))).createNestedItemIfNeeded=t.createNestedItemIfNeeded.bind(Object(c.a)(t)),t.clearNestedCacheNamespace=t.clearNestedCacheNamespace.bind(Object(c.a)(t)),t}return Object(l.a)(s,n),Object(r.a)(s,[{key:"componentDidMount",value:function(){this.createNestedItemIfNeeded()}},{key:"componentWillReceiveProps",value:function(e){this.createNestedItemIfNeeded(e)}},{key:"clearNestedCacheNamespace",value:function(){var e=this.props.namespace;this.props.clearNestedCache({namespace:e})}},{key:"createNestedItemIfNeeded",value:function(t){var n=this,a=this.props,r=a.item,i=a.namespace,o=a.nestedItem,c=Object(h.a)({defaults:e,keys:["resolveRelationships","relationships","resource"],props:this.props}).extractedProps,l=c.resolveRelationships,s=c.relationships,u=c.resource;return t||r&&!o&&setTimeout(function(){return n.props.createNestedItem({item:r,namespace:i,relationships:s,resolveRelationships:l,resource:u})}),t&&t.item&&t.item!==r&&setTimeout(function(){return n.props.createNestedItem({item:t.item,namespace:i,relationships:s,resolveRelationships:l,resource:u})}),null}},{key:"render",value:function(){var e=Object(S.a)({},this.props);if(this.props.nestedItemKey||v){var n=this.props.nestedItem;e=Object(S.a)({},e,Object(b.a)({},v,n))}return u.a.createElement(t,Object.assign({},e,{clearNestedCacheNamespace:this.clearNestedCacheNamespace}))}}]),s}(s.Component);return A.defaultProps=x,Object(g.c)(I,Object(p.b)(function(t,n){var a=n.item,r=Object(h.a)({defaults:e,keys:["namespace","resource"],props:n}).extractedProps,i=r.namespace,o=r.resource,c=i||o,l=j.b.get["nestedCache.:namespace.items.:id"],s=a&&a.id;return{namespace:c,nestedItem:void 0!==s&&""!==s&&null!==s&&l(t,{id:s,namespace:c})||void 0}},w))(A)}},x=n(56),A="API_CALL_OPERATION_REQUEST",R="API_CALL_OPERATION_SUCCESS",F="API_CALL_OPERATION_FAIL";function P(e){var t=e.operationId,n=e.request,a=e.throwError,r=void 0===a||a;return function(e,a,i){var o=i.apiClient,c={operationId:t,request:n};return e({meta:c,type:A}),o.call(t,n).then(function(t){return e({meta:c,payload:t.data,type:R}),t.data},function(t){if(e({error:!0,meta:c,payload:t,type:F}),r)throw t;return t})}}n(444);var L={},M=function(e,t){L[e]=t},_=function(e){return L[e]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,d,f=e.filter,v=void 0===f?{}:f,y=e.resource,T=e.resourceCountFetchedKey,S=void 0===T?"resourceCountFetched":T,I=e.resourceCountFetchingKey,C=void 0===I?"resourceCountFetching":I,N=e.resourceCountKey,k=void 0===N?"resourceCount":N,w=j.b.get[":resource.count.value"],A=j.b.get[":resource.count.fetched"],R=j.b.get[":resource.count.fetching"],F=j.a.set[":resource.count.value"],L=j.a.set[":resource.count.fetched"],D=j.a.set[":resource.count.fetching"],B=function(e){var t=e.callOperation,n=e.fetching,a=e.filter,r=e.resource,i=e.setResourceCount,o=e.setResourceCountFetched,c=e.setResourceCountFetching;return E.a.isTest||n?null:(c(!0,{resource:r}),t({operationId:"".concat(r,"Count"),request:{queryParams:{filter:a}}}).then(function(e){var t=O.a.get(e,"attributes.count");t&&(i(t,{resource:r}),o(!0,{resource:r})),c(!1,{resource:r})}))},V=function(){return Object(x.debounce)(function(e){return B(e)},1e4,{leading:!0,maxWait:2e4})},U=function(e){var t=e.callOperation,n=e.filterResourceCount,a=e.resource;return{callOperation:t,fetching:e[C],filter:n||v,filterResourceCount:n,resource:a||y,setResourceCount:e.setResourceCount,setResourceCountFetched:e.setResourceCountFetched,setResourceCountFetching:e.setResourceCountFetching}},K={callOperation:P,setResourceCount:F,setResourceCountFetched:L,setResourceCountFetching:D},H=(n={callOperation:m.a.func.isRequired,filterResourceCount:m.a.object,resource:m.a.string},Object(b.a)(n,S,m.a.bool),Object(b.a)(n,C,m.a.bool),Object(b.a)(n,k,m.a.number),Object(b.a)(n,"setResourceCount",m.a.func.isRequired),Object(b.a)(n,"setResourceCountFetched",m.a.func.isRequired),Object(b.a)(n,"setResourceCountFetching",m.a.func.isRequired),d={filterResourceCount:void 0,resource:void 0},Object(b.a)(d,S,!1),Object(b.a)(d,C,!1),Object(b.a)(d,k,void 0),d),z=function(e){function n(e){var t;Object(a.a)(this,n),t=Object(i.a)(this,Object(o.a)(n).call(this,e));var r=e.resource||y;if(!r)throw new Error("Missing resource");return M(r,V()),t.fetchResourceCount=t.fetchResourceCount.bind(Object(c.a)(t)),t}return Object(l.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.resource||y;_(t)(U(this.props)),this.pollCount=setInterval(function(){return _(t)(U(e.props))},3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.pollCount)}},{key:"fetchResourceCount",value:function(){B(U(this.props))}},{key:"render",value:function(){var e=Object(h.a)({keys:[S,C,k],props:this.props}).extractedProps;return u.a.createElement(t,Object.assign({},this.props,e,{fetchResourceCount:this.fetchResourceCount}))}}]),n}(s.Component);return z.defaultProps=H,Object(g.c)(Object(p.b)(function(e,t){var n,a=t.resource||y;return n={},Object(b.a)(n,S,A(e,{resource:a})),Object(b.a)(n,C,R(e,{resource:a})||!1),Object(b.a)(n,k,w(e,{resource:a})),n},K))(z)}};n.d(t,"createBatchFetchItems",function(){return v}),n.d(t,"createEnsureAllItemsFetched",function(){return T}),n.d(t,"createGetItemById",function(){return C}),n.d(t,"createGetNestedItemById",function(){return w}),n.d(t,"createGetResourceCount",function(){return D})},351:function(e,t,n){"use strict";n.d(t,"b",function(){return v});var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(58),p=n(47),h=n(276),f=null;function v(e){f=e}var b={excludeRootNode:!0,fieldSearchQuery:void 0,fieldValue:void 0},g=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.excludeRootNode,n=e.fieldSearchQuery,r=e.fieldValue,i=e.onClose,o=e.onInteraction,c=e.onPickerButtonClick,l=e.pickerActive,s=Object(a.a)(e,["excludeRootNode","fieldSearchQuery","fieldValue","onClose","onInteraction","onPickerButtonClick","pickerActive"]);if(l){var p=n?{name:n}:void 0;return u.a.createElement(m.LayerModal,{onClose:i,open:!0,style:{overflow:"hidden"}},u.a.createElement(d.s.Content,null,u.a.createElement(f,{excludeRootNode:t,initialFilterValues:p,initialItemId:r,isPicker:!0,onInteraction:o,pickerTitle:"Pick geography",treeEnabled:!0})))}var v=u.a.createElement(d.b,{onClick:c},"Pick");return u.a.createElement(h.a,Object.assign({excludeRootNode:t,rightButton:v},s))}}]),t}(s.Component);g.defaultProps=b,t.a=Object(p.createPickerWrapper)({})(g)},352:function(e,t,n){"use strict";n.d(t,"b",function(){return v});var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(58),p=n(47),h=n(176),f=null;function v(e){f=e}var b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.onInteraction,r=e.onPickerButtonClick,i=e.pickerActive,o=Object(a.a)(e,["onClose","onInteraction","onPickerButtonClick","pickerActive"]);if(i)return u.a.createElement(m.LayerModal,{onClose:t,open:!0,style:{overflow:"hidden"}},u.a.createElement(d.s.Content,null,u.a.createElement(f,{isPicker:!0,onInteraction:n,treeEnabled:!0})));var c=u.a.createElement(d.b,{onClick:r},"Picker");return u.a.createElement(h.a,Object.assign({rightButton:c},o))}}]),t}(s.Component);t.a=Object(p.createPickerWrapper)({extractPickedId:function(e){return e&&e.nestedItem&&e.nestedItem.acceptedTaxonName&&e.nestedItem.acceptedTaxonName.id}})(b)},353:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"ALL",function(){return r}),n.d(t,"DISCONNECT_TAXON_NAME",function(){return i}),n.d(t,"ADD_NEW_TAXON_NAME",function(){return o}),n.d(t,"ADD_NEW_PREPARATION_TYPE",function(){return c}),n.d(t,"DISCONNECT_PREPARATION_TYPE",function(){return l}),n.d(t,"SET_TAXON_NAME_INSPECT",function(){return s});var a="storage",r="all",i="DISCONNECT_TAXON_NAME",o="ADD_NEW_TAXON_NAME",c="ADD_NEW_PREPARATION_TYPE",l="DISCONNECT_PREPARATION_TYPE",s="SET_TAXON_NAME_INSPECT"},36:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(10);function r(e){var t=e.props,n=void 0===t?{}:t,r=e.defaults,i=void 0===r?{}:r,o=e.keys,c=void 0===o?[]:o,l=Object.keys(i).length,s={},u={};return(l?Object.keys(Object(a.a)({},n,i)):Object.keys(n)).forEach(function(e){c.includes(e)?u[e]=void 0!==n[e]?n[e]:i[e]:s[e]=void 0!==n[e]?n[e]:i[e]}),{extractedProps:u,rest:s}}},37:function(e,t,n){"use strict";var a={auth:{active:!0},enableServiceWorker:!1,env:"production",isDevelopment:!1,isProduction:!0,isTest:!1,mock:!1,mountApp:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_ENABLE_MOCK:"false",REACT_APP_ENABLE_SERVICE_WORKER:"false",REACT_APP_TEST_USERNAME:"xxxx",REACT_APP_TEST_PASSWORD:"xxxx",REACT_APP_TEST_API_URL:"https://alpha-api.dina-web.net",REACT_APP_TEST_AUTH_URL:"https://alpha-cm.dina-web.net",REACT_APP_DISABLE_AUTH:"false"}).MOUNT_APP,publicUrl:"",reduxLogger:{enabled:!1,showDiff:"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_ENABLE_MOCK:"false",REACT_APP_ENABLE_SERVICE_WORKER:"false",REACT_APP_TEST_USERNAME:"xxxx",REACT_APP_TEST_PASSWORD:"xxxx",REACT_APP_TEST_API_URL:"https://alpha-api.dina-web.net",REACT_APP_TEST_AUTH_URL:"https://alpha-cm.dina-web.net",REACT_APP_DISABLE_AUTH:"false"}).REACT_APP_ENABLE_REDUX_LOGGER_DIFF},testUi:"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_ENABLE_MOCK:"false",REACT_APP_ENABLE_SERVICE_WORKER:"false",REACT_APP_TEST_USERNAME:"xxxx",REACT_APP_TEST_PASSWORD:"xxxx",REACT_APP_TEST_API_URL:"https://alpha-api.dina-web.net",REACT_APP_TEST_AUTH_URL:"https://alpha-cm.dina-web.net",REACT_APP_DISABLE_AUTH:"false"}).REACT_APP_TEST_UI};t.a=a},39:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(56),d=n(31),m=n(905),p=n(636),h=n(16),f={linkedFieldErrorValues:void 0},v={clearSubmitErrors:d.f};function b(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fieldPaths,t=void 0===e?[]:e,n=function(e,n){var a=n.form,r={},i=Object(m.a)(a)(e),o=!1;return t.forEach(function(t){var n=Object(p.a)(a)(e,t);i[t]&&(o=!0),r[t]=n}),o?{formName:a,linkedFieldErrorValues:r}:{formName:a}};return function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.linkedFieldErrorValues,n=e.linkedFieldErrorValues;if(t&&n){var a=!1;Object.keys(n).forEach(function(e){var r=t[e],i=n[e];a=a||r!==i}),a&&this.props.clearSubmitErrors(this.props.formName)}}},{key:"render",value:function(){return s.a.createElement(e,Object(u.omit)(this.props,["clearSubmitErrors","linkedFieldErrorValues"]))}}]),n}(l.Component);return t.defaultProps=f,Object(h.b)(n,v)(t)}}var g=n(446),y=n(443),O=n(9),E=n(13),j=n(447),T=function(e,t){var n=e.currentActiveFormField,a=e.isActiveNow;return!e.isSubmitting&&(a||t&&void 0===n)},S=function(e,t){var n=t.meta;if(!n||!n.form)throw new Error("missing meta.form");return{currentActiveFormField:j.a.getFormActive(e,n.form),isActiveNow:n.active,isSubmitting:n.submitting}},I={currentActiveFormField:void 0};function C(e){var t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).setAsLatestActiveField=t.setAsLatestActiveField.bind(Object(O.a)(t)),t.state={isLatestActiveField:T(e,!1)},t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.props.isActiveNow===e.isActiveNow&&this.props.isSubmitting===e.isSubmitting&&this.props.currentActiveFormField===e.currentActiveFormField||this.setState({isLatestActiveField:T(e,this.state.isLatestActiveField)})}},{key:"setAsLatestActiveField",value:function(e){e&&e.preventDefault(),this.setState({isLatestActiveField:!0})}},{key:"render",value:function(){return s.a.createElement(e,Object.assign({},this.props,{isLatestActiveField:this.state.isLatestActiveField,setAsLatestActiveField:this.setAsLatestActiveField}))}}]),n}(l.Component);return t.defaultProps=I,Object(E.c)(Object(h.b)(S))(t)}var N=n(449),k=n(450),w=n(19),x=n(10),A=n(20),R=n.n(A),F=n(38),P=n.n(F),L=n(180),M=n.n(L),_=n(50),D=n(98),B=n(287),V=M()(void 0),U={createNestedItem:B.a},K={baseFilter:void 0,enablePlainTextOption:void 0,excludeRootNode:!1,extractText:function(e){return e&&e.attributes&&e.attributes.name},filterFunctionName:"nameSearch",include:void 0,includeFields:["id","attributes.name"],limit:10,mapItemToOption:void 0,mapTextToOption:void 0,nestItems:!1,onSearchQueryChange:void 0,pathToIdInValue:"",pathToTextInValue:"",relationships:void 0,resolveRelationships:void 0,searchWithQuery:!1,textAttributeName:void 0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.enablePlainTextOption,u=void 0!==n&&n,d=function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).handleSearchQueryChange=t.handleSearchQueryChange.bind(Object(O.a)(t)),t.updateSelectedOption=t.updateSelectedOption.bind(Object(O.a)(t)),t.state={options:[],searchQuery:"",selectedOption:void 0},t.mapItemToOption=e.mapItemToOption||function(t){var n=R.a.get(t,"attributes.deactivatedAt")?" (removed)":"",a=e.textAttributeName&&R.a.get(t,e.textAttributeName)||e.extractText(t);return{key:t.id,text:"".concat(a).concat(n),value:t.id}},t.mapTextToOption=e.mapTextToOption||function(t,n){return{key:t,text:"".concat(t," [").concat(e.i18n.moduleTranslate({textKey:"plainText"}),"]"),value:V(Object(x.a)({},n,Object(w.a)({},e.pathToTextInValue,t)))}},t}return Object(c.a)(n,e),Object(r.a)(n,[{key:"updateSelectedOption",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,a=t.requireEitherOr,r=t.text,i=t.value;if(!n&&!r)return this.setState(function(e){return void 0===e.selectedOption?null:{selectedOption:void 0}});if(n){var o=this.state.options.find(function(t){return R.a.get(t.value,e.props.pathToIdInValue)===n});if(o){var c=a?P.a.del(o,this.props.pathToTextInValue):o,l=Object(x.a)({},c,{value:V(Object(x.a)({},c.value,i))});return this.setState({options:[l],selectedOption:l})}var s=[{filterFunctionName:"id",value:n}];return this.search({filters:s,includeDeactivated:!0,limit:1}).then(function(t){var a=e.buildOptionsFromResponse(t,{id:n,skipPlainTextOption:!0,value:i})||[];if(a.length){var r=a[0];e.setState({options:[r],selectedOption:r})}})}if(r){var u=this.mapTextToOption(r,i);return this.setState({options:[u],selectedOption:u})}return null}},{key:"buildOptionsFromResponse",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.id,r=n.skipPlainTextOption,i=void 0!==r&&r,o=n.value,c=this.state.searchQuery;if(c&&Array.isArray(t)||!c&&a){var l=this.props.enablePlainTextOption,s=[];return(void 0===l?u:l)&&c&&!i&&s.push(this.mapTextToOption(c,o)),s.concat(t.map(function(t){return e.mapItemToOption(t,o)}))}return[]}},{key:"handleSearchQueryChange",value:function(e){var t=this,n=e.searchQuery,a=this.props,r=a.excludeRootNode,i=a.baseFilter,o=a.filterFunctionName,c=a.limit;this.setState({searchQuery:n}),this.props.onSearchQueryChange&&this.props.onSearchQueryChange({searchQuery:n});var l=[{filterFunctionName:o,value:n}];i&&l.push(i),r&&l.push({filterFunctionName:"excludeRootNode",value:!0}),this.search({filters:l,limit:c}).then(function(e){var n=t.buildOptionsFromResponse(e);t.setState({options:n})})}},{key:"search",value:function(e){var t=this,n=e.filters,a=void 0===n?[]:n,r=e.includeDeactivated,i=e.limit,o=this.props,c=o.include,l=o.includeFields,s=o.nestItems,u=void 0!==s&&s,d=o.relationships,m=o.resolveRelationships,p=o.resource;if(o.searchWithQuery){var h={and:a.map(function(e){return{filter:{filterFunction:e.filterFunctionName,input:{value:e.value}}}})};return this.props.search({includeDeactivated:r,includeFields:l,limit:i,query:h})}var f={filter:a.reduce(function(e,t){return Object(x.a)({},e,Object(w.a)({},t.filterFunctionName,t.value))},{}),include:c,includeDeactivated:r,limit:i,relationships:d};return this.props.getManySearch({queryParams:f}).then(function(e){if(!u||!e||!e.length)return e;var n=e.map(function(e){return t.props.createNestedItem({item:e,relationships:d,resolveRelationships:m,resource:p,storeResult:!1})});return Promise.all(n).then(function(e){return e})})}},{key:"render",value:function(){var e=this.state,n=e.options,a=e.searchQuery,r=e.selectedOption;return s.a.createElement(t,Object.assign({},this.props,{onSearchChange:this.handleSearchQueryChange,options:n,searchQuery:a,selectedOption:r,updateSelectedOption:this.updateSelectedOption}))}}]),n}(l.Component);return d.defaultProps=K,Object(E.c)(Object(_.withI18n)({module:"form"}),Object(D.a)({storeSearchResult:!1}),Object(h.b)(null,U))(d)}},z=n(12),G=n.n(z),q={nodeType:G.a.string,path:G.a.string,translationPath:G.a.string},Q={nodeType:G.a.string.isRequired,path:G.a.string.isRequired,translationPath:G.a.string.isRequired},W={index:void 0,name:void 0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.index,a=e.parentPath,r=e.nameLast,i=void 0===r||r,o=[];return void 0!==a&&""!==a&&o.push(a),i||void 0!==t&&o.push(t),void 0!==n&&o.push(n),i&&void 0!==t&&o.push(t),o.join(".")},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.parentPath;return Y({name:t,parentPath:n})};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nodeType,n=void 0===t?"OBJECT":t,u=e.name;return function(e){var t=function(t){function l(e,t){var n;Object(a.a)(this,l),n=Object(i.a)(this,Object(o.a)(l).call(this,e,t));var r=t||{},c=r.path,s=r.translationPath,d=e.index,m=e.name;return n.name=m||u,n.path=Y({index:d,name:n.name,nameLast:!1,parentPath:c}),n.translationPath=X({name:n.name,parentPath:s}),n.getPath=n.getPath.bind(Object(O.a)(n)),n.getTranslationPath=n.getTranslationPath.bind(Object(O.a)(n)),n}return Object(c.a)(l,t),Object(r.a)(l,[{key:"getChildContext",value:function(){var e=this.path,t=this.translationPath;return{nodeType:n,path:e,translationPath:t}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index){var t=this.context||{},n=t.path,a=t.translationPath,r=e.index,i=e.name;this.name=i||u,this.path=Y({index:r,name:this.name,nameLast:!1,parentPath:n}),this.translationPath=X({name:this.name,parentPath:a})}}},{key:"getPath",value:function(e){return Y({name:e,nameLast:!0,parentPath:this.path})}},{key:"getTranslationPath",value:function(e){return X({name:e,nameLast:!0,parentPath:this.translationPath})}},{key:"render",value:function(){return s.a.createElement(e,Object.assign({getPath:this.getPath,getTranslationPath:this.getTranslationPath},this.props))}}]),l}(l.Component);return t.childContextTypes=Q,t.contextTypes=q,t.defaultProps=W,t}}var Z=n(912),$=n(906),ee=n(40),te=function(e,t){var n=t.formName,a=t.preventLeavingDirty,r=void 0===a||a,i=t.preventLeavingForm,o=void 0!==i&&i,c=Object(Z.a)(n)(e);return{preventTransition:!Object($.a)(n)(e)&&(r&&c||o)}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getAllowTransition,n=e.unsavedChangesMessage;return function(e){var u={getAllowTransition:void 0,unsavedChangesMessage:n},d=function(l){function u(e){var t;return Object(a.a)(this,u),(t=Object(i.a)(this,Object(o.a)(u).call(this,e))).handleBeforeUnload=t.handleBeforeUnload.bind(Object(O.a)(t)),t}return Object(c.a)(u,l),Object(r.a)(u,[{key:"componentDidMount",value:function(){this.props.unsavedChangesMessage&&window.addEventListener("beforeunload",this.handleBeforeUnload)}},{key:"componentWillUnmount",value:function(){this.props.unsavedChangesMessage&&window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"handleBeforeUnload",value:function(e){this.props.preventTransition&&(e.preventDefault(),e.returnValue="")}},{key:"render",value:function(){var a=this.props,r=a.getAllowTransition,i=a.preventTransition,o=a.unsavedChangesMessage||n;if(!o)return s.a.createElement(e,this.props);var c=r||t;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ee.c,{message:function(e,t){return c&&c(e,t)||o},when:i}),s.a.createElement(e,this.props))}}]),u}(l.Component);return d.defaultProps=u,Object(E.c)(Object(h.b)(te))(d)}},ae=n(21),re=n(1),ie=n(36),oe={columnProps:{width:16}},ce=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){var t=this.props,n=t.columnProps,a=Object(ae.a)(t,["columnProps"]);if(n.clear){var r=Object(ie.a)({keys:["clear"],props:n}).rest;return s.a.createElement(re.i.Column,{width:16},s.a.createElement(re.i,{textAlign:"left",verticalAlign:"bottom"},s.a.createElement(re.i.Row,null,s.a.createElement(re.i.Column,r,s.a.createElement(e,a)))))}return s.a.createElement(re.i.Column,n,s.a.createElement(e,a))}}]),n}(l.PureComponent);return t.defaultProps=oe,t},le=n(211);n.d(t,"createLinkFieldErrors",function(){return b}),n.d(t,"injectErrorKeys",function(){return g.a}),n.d(t,"injectHelpNotificationProps",function(){return y.a}),n.d(t,"injectIsLatestActiveField",function(){return C}),n.d(t,"injectLabelKey",function(){return N.a}),n.d(t,"injectParameterKey",function(){return k.a}),n.d(t,"injectSearchOptions",function(){return H}),n.d(t,"pathBuilder",function(){return J}),n.d(t,"withUnsubmittedFormConfirmation",function(){return ne}),n.d(t,"wrapInColumn",function(){return ce}),n.d(t,"wrapInFieldTemplate",function(){return le.a})},42:function(e,t,n){"use strict";var a=n(10),r=n(0),i=n.n(r),o=n(12),c=n.n(o),l=n(1),s=n(154),u=n(446),d=Object(u.a)(s.FormFieldError),m=n(153),p=n(450);n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return v});var h={children:c.a.node,displayError:c.a.bool,displayLabel:c.a.bool,enableHelpNotifications:c.a.bool,errorStyle:c.a.object,float:c.a.string,helpNotificationProps:c.a.object,helpText:c.a.oneOfType([c.a.string,c.a.node]),label:c.a.oneOfType([c.a.string,c.a.node]),labelKey:c.a.string,meta:c.a.shape({error:c.a.object,touched:c.a.bool}),model:c.a.string,module:c.a.string,name:c.a.string,parameterKey:c.a.string,required:c.a.bool,style:c.a.object,subLabel:c.a.bool},f={children:void 0,displayError:void 0,displayLabel:!0,enableHelpNotifications:!0,errorStyle:void 0,float:void 0,helpNotificationProps:void 0,helpText:void 0,label:void 0,labelKey:void 0,meta:{},model:void 0,module:void 0,name:void 0,parameterKey:void 0,required:!1,style:{},subLabel:void 0},v=Object.keys(h),b=function(e){var t=e.children,n=e.displayError,r=e.displayLabel,o=e.enableHelpNotifications,c=e.errorStyle,s=e.float,u=e.helpNotificationProps,p=e.helpText,h=e.label,f=e.labelKey,v=e.meta,b=e.module,g=e.name,y=e.parameterKey,O=e.required,E=e.style,j=e.subLabel,T=v.error,S=v.touched,I=v.warning,C=void 0!==n?n:S&&!!T,N=S&&!!I;return i.a.createElement(l.h.Field,{error:!!C,required:O,style:Object(a.a)({float:s,position:"relative",width:s?"100%":void 0},E)},r&&i.a.createElement(m.a,{enableHelpNotifications:o,helpNotificationProps:u,helpText:p,htmlFor:g,label:h,labelKey:f,module:b,parameterKey:y,required:O,subLabel:j}),t,!C&&N&&i.a.createElement(d,{error:I,module:b,parameterKey:y,warning:!0}),C&&i.a.createElement(d,{error:T,module:b,parameterKey:y,style:c}))};b.defaultProps=f;t.a=Object(p.a)(b)},428:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n(47),i=n(167),o=n(4),c=n(6),l=n(8),s=n(5),u=n(9),d=n(7),m=n(0),p=n.n(m),h=n(16),f=n(111),v=n(46),b=n(21),g=n(25),y=n(636),O=n(902),E=n(133),j=n.n(E),T=n(15),S=n(136),I=n(30),C=n(10),N=n(38),k=n.n(N),w=n(85),x=n.n(w).a.getModels(),A=function(){var e=Object(C.a)({},x);return e=k.a.set(e,"storageLocation.required",["group","name","parent"]),e=k.a.set(e,"storageLocation.properties.group",{minLength:1,type:"string"}),e=k.a.set(e,"storageLocation.properties.name",{minLength:1,type:"string"}),e=k.a.set(e,"storageLocation.properties.parent",{properties:{id:{minLength:1,type:"string"}},required:["id"],type:"object"})}(),R=n(157),F=n(1),P=n(31),L=n(22),M=n(181),_=n(110),D=n.n(_),B=n(35),V={item:void 0},U=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleDisconnect=n.handleDisconnect.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleDisconnect",value:function(){this.props.disconnectPreparationType(this.props.index)}},{key:"render",value:function(){var e=(this.props.item||{}).attributes,t=(e=void 0===e?{}:e).name,n=(t=void 0===t?{}:t).en;return p.a.createElement(F.z.Row,null,p.a.createElement(F.z.Cell,{width:14},D()(n)),p.a.createElement(F.z.Cell,null,p.a.createElement(T.ConfirmationPopup,{cancelButtonText:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"cancel"}),confirmButtonText:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"remove"}),header:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"removeThisConnectedPreparationTypes"}),hideOnScroll:!0,iconName:"trash",onConfirm:this.handleDisconnect,size:"large",type:"icon"})))}}]),t}(m.PureComponent);U.defaultProps=V;var K=Object(a.c)(Object(B.createGetItemById)({refresh:!1,resource:"preparationType"}))(U),H=n(469),z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.addPreparationType(e)}},{key:"render",value:function(){return p.a.createElement(F.z.Row,null,p.a.createElement(F.z.Cell,null,p.a.createElement(H.a,{displayLabel:!1,enableHelpNotification:!1,input:{name:"newPreparationType",onBlur:this.handleChange,onChange:this.handleChange},meta:{},module:"curatedList"})))}}]),t}(m.Component),G=Object(a.c)()(z),q=Object(L.a)("modules:storage:PreparationTypesTable"),Q={arrayPush:P.a,arrayRemove:P.b,arrayUnshift:P.c,change:P.e},W=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={connectingPreparationType:!1},n.disconnectPreparationType=n.disconnectPreparationType.bind(Object(u.a)(n)),n.addPreparationType=n.addPreparationType.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addPreparationType",value:function(e){return this.setState({connectingPreparationType:!1}),this.props.arrayPush(this.props.formName,"preparationTypes",{id:e})}},{key:"disconnectPreparationType",value:function(e){return this.props.arrayRemove(this.props.formName,"preparationTypes",e)}},{key:"render",value:function(){var e=this;q.render();var t=this.props.preparationTypes,n=this.state.connectingPreparationType;return p.a.createElement(p.a.Fragment,null,(t.length>0||n)&&p.a.createElement(F.z,{celled:!0},p.a.createElement(F.z.Body,null,t.map(function(t,n){return p.a.createElement(K,{disconnectPreparationType:e.disconnectPreparationType,index:n,itemId:t.id,key:t.id})}),n&&p.a.createElement(G,{addPreparationType:this.addPreparationType}))),!n&&p.a.createElement(M.a,{id:"connect-preparation-type",module:"storage",onClick:function(t){t.preventDefault(),e.setState({connectingPreparationType:!0})},textKey:"connectPreparationType"}))}}]),t}(m.Component);W.defaultProps={preparationTypes:[]};var Y=Object(a.c)(Object(h.b)(function(e,t){return{preparationTypes:(0,t.formValueSelector)(e,"preparationTypes")}},Q))(W),X=n(58),J=n(156),Z=n(497),$=n.n(Z),ee=["parent.parent.parent.parent.parent"],te=["parent","parent.parent","parent.parent.parent","parent.parent.parent.parent","parent.parent.parent.parent.parent"],ne=["storageLocation"],ae=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=Object(J.a)({},this.props);return p.a.createElement(T.DropdownSearch,Object.assign({},e,{extractText:$.a,include:ee,nestItems:!0,relationships:te,resolveRelationships:ne,resource:"storageLocation",type:"dropdown-search-resource"}))}}]),t}(m.Component),re=null;var ie={excludeRootNode:!0,fieldSearchQuery:void 0,fieldValue:void 0},oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldSearchQuery,n=e.fieldValue,a=e.onClose,r=e.onInteraction,i=e.onPickerButtonClick,o=e.pickerActive,c=e.excludeRootNode,l=Object(b.a)(e,["fieldSearchQuery","fieldValue","onClose","onInteraction","onPickerButtonClick","pickerActive","excludeRootNode"]),s=t?{name:t}:void 0;if(o)return p.a.createElement(X.LayerModal,{onClose:a,open:!0,style:{overflow:"hidden"}},p.a.createElement(F.s.Content,null,p.a.createElement(re,{excludeRootNode:c,initialFilterValues:s,initialItemId:n,isPicker:!0,onInteraction:r,pickerTitle:"Pick storage location",treeEnabled:!0})));var u=p.a.createElement(F.b,{onClick:i},"Pick");return p.a.createElement(ae,Object.assign({excludeRootNode:c,rightButton:u},l))}}]),t}(m.Component);oe.defaultProps=ie;var ce=Object(r.createPickerWrapper)({})(oe),le=n(75),se=n(125),ue=[se.LEVEL_ROOM,se.LEVEL_MOUNTING_WALL,se.LEVEL_CABINET,se.LEVEL_SHELF,se.LEVEL_INSTITUTION].map(function(e){return{key:e,text:Object(le.capitalizeFirstLetter)(e),value:e}}),de=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disableLevels,n=e.input,a=Object(b.a)(e,["disableLevels","input"]),r=n.value,i=ue;t.length&&(i=ue.filter(function(e){var n=e.key;return!t.includes(n)}));var o=t.includes(r);return p.a.createElement(T.DropdownSearch,Object.assign({},a,{disableClearValue:o,disabled:o,input:n,module:"storage",options:i,selectedOption:o?{key:r,text:Object(le.capitalizeFirstLetter)(r),value:r}:void 0,type:"dropdown-search-local"}))}}]),t}(m.Component);de.defaultProps={disableLevels:[]};var me=de,pe=n(20),he=n.n(pe),fe={nestedItem:void 0},ve=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleDisconnect=n.handleDisconnect.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleDisconnect",value:function(){this.props.disconnectName(this.props.index)}},{key:"render",value:function(){var e=this.props.nestedItem,t=he.a.get(e,"acceptedTaxonName.name"),n=he.a.get(e,"acceptedTaxonName.rank");return p.a.createElement(F.z.Row,null,p.a.createElement(F.z.Cell,{width:14},"".concat(t," (").concat(n,")")),p.a.createElement(F.z.Cell,null,p.a.createElement(T.ConfirmationPopup,{cancelButtonText:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"cancel"}),confirmButtonText:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"remove"}),header:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"removeThisConnectedTaxa"}),hideOnScroll:!0,iconName:"trash",onConfirm:this.handleDisconnect,size:"large",type:"icon"})))}}]),t}(m.PureComponent);ve.defaultProps=fe;var be=Object(a.c)(Object(B.createGetNestedItemById)({include:["acceptedTaxonName"],refresh:!0,relationships:["acceptedTaxonName"],resolveRelationships:["taxonName"],resource:"taxon"}))(ve),ge=n(212),ye=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.addName(e)}},{key:"render",value:function(){return p.a.createElement(F.z.Row,null,p.a.createElement(F.z.Cell,null,p.a.createElement(ge.a,{displayLabel:!1,enableHelpNotification:!1,input:{name:"newTaxonName",onBlur:this.handleChange,onChange:this.handleChange},meta:{},module:"taxon",taxonNameType:"scientific"})))}}]),t}(m.Component),Oe=Object(a.c)()(ye),Ee=Object(L.a)("modules:storage:AcceptedTaxonNamesTable"),je={arrayPush:P.a,arrayRemove:P.b,arrayUnshift:P.c,change:P.e},Te=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={connectingTaxon:!1},n.disconnectName=n.disconnectName.bind(Object(u.a)(n)),n.addName=n.addName.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addName",value:function(e){return this.setState({connectingTaxon:!1}),this.props.arrayPush(this.props.formName,"taxa",{id:e})}},{key:"disconnectName",value:function(e){return this.props.arrayRemove(this.props.formName,"taxa",e)}},{key:"render",value:function(){var e=this;Ee.render();var t=this.props.taxa,n=this.state.connectingTaxon;return p.a.createElement(p.a.Fragment,null,(t.length>0||n)&&p.a.createElement(F.z,{celled:!0},p.a.createElement(F.z.Body,null,t.map(function(t,n){return p.a.createElement(be,{disconnectName:e.disconnectName,index:n,itemId:t.id,key:t.id})}),n&&p.a.createElement(Oe,{addName:this.addName}))),!n&&p.a.createElement(M.a,{id:"connect-taxon",module:"storage",onClick:function(t){t.preventDefault(),e.setState({connectingTaxon:!0})},textKey:"connectTaxon"}))}}]),t}(m.Component);Te.defaultProps={taxa:[]};var Se=Object(a.c)(Object(h.b)(function(e,t){return{taxa:(0,t.formValueSelector)(e,"taxa")}},je))(Te),Ie=Object(C.a)({},Object(R.a)({PreparationTypesTable:Y,StorageLocationDropdownPickerSearch:ce,StorageLocationDropdownSearch:ae,StorageLocationLevelDropdown:me,TaxaTable:Se})),Ce=n(138),Ne=[{name:"storageLocation",units:[{connectedPreparationTypes:{name:"connectedPreparationTypes",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.connectedPreparationTypes"}},{componentName:"PreparationTypesTable",containsReduxFormField:!0}]},connectedTaxa:{name:"connectedTaxa",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.connectedTaxa"}},{componentName:"TaxaTable",containsReduxFormField:!0}]},storageLocationRoot:{name:"storageLocationRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.storageLocation"}},{componentName:"Input",componentProps:{columnProps:{width:9},fluid:!0,type:"text"},name:"name",required:!0,wrapInField:!0},{componentName:"StorageLocationLevelDropdown",componentProps:{columnProps:{width:9},disableLevels:[se.LEVEL_INSTITUTION]},name:"group",required:!0,wrapInField:!0},{componentName:"StorageLocationDropdownPickerSearch",componentProps:{columnProps:{width:9},excludeRootNode:!1},name:"parent.id",required:!0,wrapInField:!0}]}}.storageLocationRoot,Ce.b]}],ke=Object(I.a)(4.625),we={getAllowTransition:void 0,itemSubHeader:void 0,preventLeavingForm:!1,unsavedChangesMessage:void 0},xe=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).formValueSelector=Object(y.a)(e.form),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.form,a=e.getAllowTransition,r=e.handleSubmit,i=e.itemHeader,o=e.itemSubHeader,c=e.preventLeavingForm,l=e.unsavedChangesMessage,s=Object(b.a)(e,["availableHeight","form","getAllowTransition","handleSubmit","itemHeader","itemSubHeader","preventLeavingForm","unsavedChangesMessage"]);return p.a.createElement(T.Form,{formName:n,getAllowTransition:a,onSubmit:r(function(){}),preventLeavingForm:c,sectionSpecs:Ne,setFormRef:this.setFormRef,unsavedChangesMessage:l},p.a.createElement(T.FormRow,Object.assign({},s,{availableHeight:t-ke,customParts:Ie,formName:n,formValueSelector:this.formValueSelector,itemHeader:i,itemSubHeader:o,module:"storage",moduleName:"storage",sectionSpecs:Ne})))}}]),t}(m.Component);xe.defaultProps=we;var Ae=Object(O.a)({enableReinitialize:!0,validate:Object(a.c)(S.mapParentError,Object(S.createMapRequiredStrings)(["group","name"]),j()({model:"storageLocation",models:A}))})(xe),Re={itemId:void 0},Fe=function(e,t){return"POP"!==t&&e.search.includes("mainColumn=edit")},Pe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemId,n=e.onInteraction,a=Object(b.a)(e,["itemId","onInteraction"]),r=t?{parent:{id:t}}:{};return p.a.createElement(Ae,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"storageLocationCreate",getAllowTransition:Fe,initialValues:r,itemHeader:p.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"storage",textKey:"headers.newStorageLocation"}),onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},preventLeavingForm:!0,unsavedChangesMessage:"You have not saved the new record, are you sure you want to leave?"}))}}]),t}(m.PureComponent);Pe.defaultProps=Re;var Le=Pe,Me={nestedItem:void 0},_e=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nestedItem,n=e.onInteraction,a=Object(b.a)(e,["nestedItem","onInteraction"]);if(!t)return null;var r=t.resourceActivities;return p.a.createElement(Ae,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"storageLocationEdit",initialValues:t,onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},onInteraction:n,resourceActivities:r}))}}]),t}(m.PureComponent);_e.defaultProps=Me;var De=_e,Be=n(99),Ve=Object(L.a)("modules:locality:BaseForm"),Ue=function(){},Ke=[se.LEVEL_ROOM,se.LEVEL_MOUNTING_WALL,se.LEVEL_CABINET,se.LEVEL_SHELF,se.LEVEL_INSTITUTION].map(function(e){return{key:e,text:e,value:e}}),He=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){Ve.render();var e=this.props,t=e.error,n=e.handleSubmit;return p.a.createElement(F.i,{padded:!0},p.a.createElement(F.i.Column,null,p.a.createElement(F.h,{error:!!t,onSubmit:n(Ue)},p.a.createElement(F.i,{textAlign:"left",verticalAlign:"top"},p.a.createElement(F.i.Row,null,p.a.createElement(F.i.Column,{width:16},p.a.createElement(Be.a,{autoComplete:"off",component:T.Input,enableHelpNotifications:!1,label:"Name",model:"storageLocation",module:"storage",name:"name",type:"text"})),p.a.createElement(F.i.Column,{width:16},p.a.createElement(Be.a,{autoComplete:"off",component:T.DropdownSearch,enableHelpNotifications:!1,fluid:!0,label:"Storage level",model:"storageLocation",module:"storage",name:"group",options:Ke,type:"dropdown-search-local"})))))))}}]),t}(m.Component);He.defaultProps={error:""};var ze=Object(O.a)({destroyOnUnmount:!1,form:"storageLocationFilter"})(He);function Ge(e){var t=e.excludeRootNode,n=e.values,a=[];return t&&a.push({filter:{filterFunction:"excludeRootNode",input:{value:!0}}}),n.name&&a.push({filter:{filterFunction:"nameSearch",input:{value:n.name}}}),n.group&&a.push({filter:{filterFunction:"group",input:{value:n.group}}}),a.length?{and:a}:{}}var qe=function e(t,n){return t?t.group===n?t:t&&t.parent?e(t.parent,n):null:null},Qe=[{fieldPath:"name",label:"modules.storage.fieldLabels.name",width:350},{fieldPath:"group",label:"modules.storage.fieldLabels.group",width:250},{buildText:function(e){var t=e.value,n=qe(t,"room");return n?n.deactivatedAt?p.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.storage.fieldLabels.room",width:250},{buildText:function(e){var t=e.value,n=qe(t,"mountingWall");return n?n.deactivatedAt?p.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.storage.fieldLabels.mountingWall",width:250},{buildText:function(e){var t=e.value,n=qe(t,"cabinet");return n?n.deactivatedAt?p.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.storage.fieldLabels.cabinet",width:250},{buildText:function(e){var t=e.value,n=qe(t,"shelf");return n?n.deactivatedAt?p.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.storage.fieldLabels.shelf",width:250}],We=function(e){var t=e.nestedItem,n=void 0===t?{}:t,a=n.group,r=n.name,i=n.parent,o=(i=void 0===i?{}:i).name,c=i.isRoot;return r?o&&!c?p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},r),p.a.createElement("span",null,"[",a," in ",o,"]")):p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},r),p.a.createElement("span",null,"[",a,"]")):""},Ye=["parent","resourceActivities"],Xe={include:Ye,refresh:!0,relationships:Ye,resolveRelationships:["storageLocation","parent","preparationType","resourceActivity","taxon"],resource:"storageLocation"},Je={include:["parent"],relationships:["parent","children"],resolveRelationships:["storageLocation"]},Ze={name:"NRM"},$e=["attributes.name:asc"],et={include:["parent.parent.parent.parent.parent"],relationships:["parent","parent.parent","parent.parent.parent","parent.parent.parent.parent","parent.parent.parent.parent.parent"],resolveRelationships:["storageLocation"]},tt={getManyPhysicalObject:v.a.physicalObject.getMany,getManySpecimen:v.a.specimen.getMany,getManyStorageLocation:v.a.storageLocation.getMany},nt={itemId:void 0},at=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).getChildren=n.getChildren.bind(Object(u.a)(n)),n.getSpecimens=n.getSpecimens.bind(Object(u.a)(n)),n.handleInteraction=n.handleInteraction.bind(Object(u.a)(n)),n.fetchRelationshipsBeforeDelete=n.fetchRelationshipsBeforeDelete.bind(Object(u.a)(n)),n.renderCreateForm=n.renderCreateForm.bind(Object(u.a)(n)),n.renderEditForm=n.renderEditForm.bind(Object(u.a)(n)),n.renderFilterForm=n.renderFilterForm.bind(Object(u.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getChildren",value:function(){var e=this.props;return(0,e.getManyStorageLocation)({limit:30,queryParams:{filter:{parentId:e.itemId}}}).then(function(e){return e})}},{key:"getSpecimens",value:function(){var e=this.props,t=e.getManyPhysicalObject,n=e.getManySpecimen;return t({limit:100,queryParams:{filter:{storageLocationId:e.itemId}}}).then(function(e){if(!e.length)return[];var t=e.map(function(e){return e.id});return n({limit:30,queryParams:{filter:{physicalObjectIds:t}}}).then(function(e){return e})})}},{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.onNavigation(e,t)}},{key:"fetchRelationshipsBeforeDelete",value:function(){return Promise.all([this.getChildren(),this.getSpecimens()]).then(function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return Promise.resolve({children:{data:n},specimens:{data:a}})})}},{key:"renderEditForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.itemId;return p.a.createElement(De,Object.assign({},e,{itemId:t,onInteraction:this.handleInteraction}))}},{key:"renderCreateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.a.createElement(Le,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"renderFilterForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.a.createElement(ze,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"render",value:function(){return p.a.createElement(f.ResourceManager,Object.assign({},this.props,{baseTreeFilter:Ze,buildFilterQuery:Ge,createGetNestedItemHocInput:Xe,fetchRelationshipsBeforeDelete:this.fetchRelationshipsBeforeDelete,filterHeader:"Find storage locations",itemFetchOptions:Je,ItemTitle:We,onInteraction:this.handleInteraction,renderCreateForm:this.renderCreateForm,renderEditForm:this.renderEditForm,renderFilterForm:this.renderFilterForm,resource:"storageLocation",sortOrder:$e,tableBatchFetchOptions:et,tableColumnSpecifications:Qe,treeEnabled:!0}))}}]),t}(m.Component);at.defaultProps=nt;var rt=Object(a.c)(Object(h.b)(void 0,tt))(at),it=Object(a.c)(Object(r.createLocalState)(),Object(r.createNavigationState)())(rt),ot=Object(a.c)(Object(r.createQueryState)(),Object(r.createNavigationState)())(rt);n.d(t,"StorageLocationDropdownPickerSearch",function(){return ce}),n.d(t,"StorageLocationDropdownSearch",function(){return ae}),n.d(t,"StorageLocationManager",function(){return ot}),re=it},429:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(112);function r(e){return{payload:{config:e.config,modules:e.modules},type:a.BOOTSTRAP_REGISTER_MODULES}}},43:function(e,t,n){"use strict";n.r(t),n.d(t,"ACCEPTED",function(){return r}),n.d(t,"ALL",function(){return i}),n.d(t,"CLASS",function(){return o}),n.d(t,"FAMILY",function(){return c}),n.d(t,"GENUS",function(){return l}),n.d(t,"MISSING_RANK",function(){return s}),n.d(t,"MODULE_NAME",function(){return u}),n.d(t,"ORDER",function(){return d}),n.d(t,"ROOT_TAXON_NAME",function(){return m}),n.d(t,"SCIENTIFIC",function(){return p}),n.d(t,"SET_TAXON_INSPECT",function(){return h}),n.d(t,"SET_TAXON_NAME_INSPECT",function(){return f}),n.d(t,"SPECIES",function(){return v}),n.d(t,"SUBSPECIES",function(){return b}),n.d(t,"SYNONYM",function(){return g}),n.d(t,"VERNACULAR",function(){return y}),n.d(t,"DISCONNECT_TAXON_NAME",function(){return O}),n.d(t,"SET_TAXON_NAME_AS_ACCEPTED",function(){return E}),n.d(t,"SET_TAXON_NAME_AS_SYNONYM",function(){return j}),n.d(t,"ADD_SYNONYM",function(){return T}),n.d(t,"ADD_VERNACULAR_NAME",function(){return S}),n.d(t,"DROPDOWN_FILTER_OPTIONS",function(){return C});var a=n(17),r="accepted",i="all",o="class",c="family",l="genus",s="missing rank",u="taxon",d="order",m="root",p="scientific",h="SET_TAXON_INSPECT",f="SET_TAXON_NAME_INSPECT",v="species",b="subspecies",g="synonym",y="vernacular",O="DISCONNECT_TAXON_NAME",E="SET_TAXON_NAME_AS_ACCEPTED",j="SET_TAXON_NAME_AS_SYNONYM",T="ADD_SYNONYM",S="ADD_VERNACULAR_NAME",I=[o,d,c,l,v,b],C=[{key:i,text:i,value:""}].concat(Object(a.a)(I.map(function(e){return{key:e,text:e,value:e}})))},430:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(12),d=n.n(u),m=n(13),p=n(16),h=n(40),f=n(107),v={language:d.a.string.isRequired,markdown:d.a.object.isRequired,translations:d.a.object.isRequired},b=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"getChildContext",value:function(){var e=this.props;return{language:e.language,markdown:e.markdown,translations:e.translations}}},{key:"render",value:function(){return s.a.createElement("div",{key:this.props.language},l.Children.only(this.props.children))}}]),t}(l.Component);b.childContextTypes=v,t.a=Object(m.c)(h.g,Object(p.b)(function(e){return{language:f.a.getLanguage(e),markdown:f.a.getMarkdown(e),translations:f.a.getTranslations(e)}}))(b)},436:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return i}),n.d(t,"getAvailableLanguages",function(){return o}),n.d(t,"getDefaultLanguage",function(){return c}),n.d(t,"getLanguage",function(){return l}),n.d(t,"getMarkdown",function(){return s}),n.d(t,"getMarkdownModules",function(){return u}),n.d(t,"getMarkdownKeysByPath",function(){return d}),n.d(t,"getTranslations",function(){return m}),n.d(t,"getTranslationsModules",function(){return p});var a=n(20),r=n.n(a),i=function(e){return e.i18n},o=function(e){return e.availableLanguages},c=function(e){return e.defaultLanguage},l=function(e){return e.language},s=function(e){return e.markdown},u=function(e){var t=s(e);return t&&t.modules},d=function(e,t){var n=u(e);return Object.keys(r.a.get(n,t)||{})},m=function(e){return e.translations},p=function(e){var t=m(e);return t&&t.modules}},437:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return c}),n.d(t,"getSpecifications",function(){return s}),n.d(t,"getSpecificationByType",function(){return u}),n.d(t,"getSpecificationArrayWithTerminateActions",function(){return d}),n.d(t,"getSpecificationArrayWithTriggerActions",function(){return m}),n.d(t,"getSpecificationTerminateActionMap",function(){return p}),n.d(t,"getSpecificationTriggerActionMap",function(){return h}),n.d(t,"getNotifications",function(){return f}),n.d(t,"getNotificationsInArray",function(){return v}),n.d(t,"getNotificationsByType",function(){return b}),n.d(t,"getNotificationsByDisplayType",function(){return g}),n.d(t,"getPrioritizedNotificationByDisplayType",function(){return O});var a=n(19),r=n(17),i=n(10),o=n(34),c=function(e){return e.notifications},l=function(e,t){return t},s=function(e){return e.specifications},u=function(e,t){var n=s(e);return n[t]?n[t]:null},d=Object(o.createSelector)(s,function(e){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.terminateActions})}),m=Object(o.createSelector)(s,function(e){return Object.keys(e).map(function(t){return e[t]}).filter(function(e){return e.triggerActions})}),p=Object(o.createSelector)(d,function(e){return e.reduce(function(e,t){var n=t.type,o=t.terminateActions;return(void 0===o?[]:o).reduce(function(e,t){return e[t]?Object(i.a)({},e,Object(a.a)({},t,[].concat(Object(r.a)(e[t]),[n]))):Object(i.a)({},e,Object(a.a)({},t,[n]))},e)},{})}),h=Object(o.createSelector)(m,function(e){return e.reduce(function(e,t){var n=t.type,o=t.triggerActions;return(void 0===o?[]:o).reduce(function(e,t){return e[t]?Object(i.a)({},e,Object(a.a)({},t,[].concat(Object(r.a)(e[t]),[n]))):Object(i.a)({},e,Object(a.a)({},t,[n]))},e)},{})}),f=function(e){return e.activeNotifications},v=Object(o.createSelector)(f,function(e){var t=Object.keys(e);return t.length?t.map(function(t){return e[t]}):[]}),b=Object(o.createSelector)(v,l,function(e,t){return e&&e.filter(function(e){return e.type===t})||[]}),g=Object(o.createSelector)(v,l,function(e,t){return e&&e.filter(function(e){return e.displayType===t})}),y=function(e,t){return e?e.priority>t.priority?e:e.priority===t.priority&&e.sequentialId<t.sequentialId?e:t:t},O=Object(o.createSelector)(g,function(e){return e&&e.reduce(y,null)})},438:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return r}),n.d(t,"getBreakpoints",function(){return i}),n.d(t,"getCurrentBreakpoint",function(){return o}),n.d(t,"getBreakpointByWidth",function(){return c}),n.d(t,"getSize",function(){return l}),n.d(t,"getIsSmall",function(){return s}),n.d(t,"getIsMedium",function(){return u}),n.d(t,"getIsLarge",function(){return d}),n.d(t,"getHeight",function(){return m}),n.d(t,"getWidth",function(){return p});var a=n(139),r=function(e){return e.size},i=function(e){return e&&e.breakpoints},o=function(e){return e&&e.currentBreakpoint},c=function(e,t){for(var n=i(e),a=0;a<n.length;a++){var r=n[a];if(r.maxWidth&&r.maxWidth>t)return r}return n[n.length-1]},l=function(e){var t=o(e);return t&&t.size},s=function(e){return l(e)===a.SIZE_SMALL},u=function(e){return l(e)===a.SIZE_MEDIUM},d=function(e){return l(e)===a.SIZE_LARGE},m=function(e){return e&&e.height},p=function(e){return e&&e.width}},439:function(e,t,n){"use strict";n.r(t),n.d(t,"NAVIGATION_ITEMS",function(){return a});var a=[{exact:!0,name:"start",path:"/app"},{exact:!0,name:"specimens",path:"/app/specimens/mammals"},{exact:!1,name:"agents",path:"/app/agents"},{exact:!1,name:"localities",path:"/app/localities"},{exact:!1,name:"storage",path:"/app/storageLocations"},{exact:!1,name:"taxon",path:"/app/taxa"},{exact:!1,name:"scientificNames",path:"/app/taxonNames"}]},440:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return r}),n.d(t,"getShortcuts",function(){return i}),n.d(t,"getShortcutsList",function(){return o}),n.d(t,"getShowInfo",function(){return c}),n.d(t,"getLayer",function(){return l});var a=n(34),r=function(e){return e.keyboardShortcuts},i=function(e){return e.shortcuts},o=Object(a.createSelector)(i,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e)}),c=function(e){return e.showInfo},l=function(e){return e.layer}},441:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(61),r=n(273);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.username,n=e.password,i=e.throwError,o=void 0===i||i,c={client_id:"dina-rest",grant_type:"password",password:n,username:t};return function(e,t,n){var i=n.apiClient;return e({type:a.USER_LOG_IN_REQUEST}),i.call(r.LOG_IN,{body:c}).then(function(t){return e({payload:t,type:a.USER_LOG_IN_SUCCESS}),t},function(t){if(e({error:!0,payload:t,type:a.USER_LOG_IN_FAIL}),o)throw t})}}},442:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return i}),n.d(t,"getUserLoggedIn",function(){return o}),n.d(t,"getUser",function(){return c}),n.d(t,"getName",function(){return l}),n.d(t,"getUsername",function(){return s}),n.d(t,"getUserLoading",function(){return u}),n.d(t,"getAuthToken",function(){return d}),n.d(t,"getConfig",function(){return m}),n.d(t,"getGetUserUrl",function(){return p}),n.d(t,"getLoginUrl",function(){return h}),n.d(t,"getUserPreferences",function(){return f}),n.d(t,"getUserPreferencesLanguage",function(){return v});var a=n(152),r=n(131),i=function(e){return e.user},o=function(e){return!!e.user},c=function(e){return e.user},l=function(e){var t=c(e);return t&&t.name||null},s=function(e){var t=c(e);return t&&t.username||null},u=function(e){return!!e.loading},d=function(){var e=a.utils.getItem(r.AUTH_TOKEN_KEY);return e?e.accessToken:null},m=function(e){return e.config},p=function(e){var t=m(e);return t&&t.getUserUrl||null},h=function(e){var t=m(e);return t&&t.loginUrl||null},f=function(e){return e.preferences},v=function(e){var t=f(e);return t&&t.language}},443:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(72),m={context:"helpTexts",enableHelpNotifications:!1,helpNotificationProps:void 0,labelKey:void 0,module:void 0,parameterKey:void 0};function p(e){var t=function(t){function n(e){var t;Object(r.a)(this,n),t=Object(o.a)(this,Object(c.a)(n).call(this,e));var a=e.context,i=e.helpNotificationProps,l=e.enableHelpNotifications,s=e.labelKey,u=e.module,m=e.parameterKey;return t.state={helpNotificationProps:!l||i?void 0:Object(d.createHelpNotificationProps)({context:a,labelKey:s,module:u,parameterKey:m})},t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.enableHelpNotifications||this.props.parameterKey===e.parameterKey||this.setState({helpNotificationProps:Object(d.createHelpNotificationProps)({context:e.context,labelKey:e.labelKey,module:e.module,parameterKey:e.parameterKey})})}},{key:"render",value:function(){var t=this.state.helpNotificationProps,n=Object(a.a)({},this.props);return delete n.context,t&&(n.helpNotificationProps=t),u.a.createElement(e,n)}}]),n}(s.Component);return t.defaultProps=m,t}},444:function(e,t,n){"use strict";function a(e){var t=e.fileUrl,n=e.fileName;return function(e,a,r){return r.apiClient.downloadFile({fileName:n,fileUrl:t})}}n.d(t,"a",function(){return a})},445:function(e,t,n){"use strict";var a=n(182);t.a=a.a.actionTypes},446:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(72),m={context:"errors",error:void 0,errorKeys:void 0,parameterKey:void 0};function p(e){var t=function(t){function n(e){var t;Object(r.a)(this,n),t=Object(o.a)(this,Object(c.a)(n).call(this,e));var a=e.context,i=e.error,l=e.errorKeys,s=e.module,u=e.parameterKey,m=i&&i.errorCode;return t.state={errorKeys:l||Object(d.createErrorKeys)({context:a,errorCode:m,module:s,parameterKey:u})},t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.error&&this.props.error.errorCode,n=e.error&&e.error.errorCode;e.errorKeys||this.props.parameterKey===e.parameterKey&&t===n||this.setState({errorKeys:Object(d.createErrorKeys)({context:e.context,errorCode:n,module:e.module,parameterKey:e.parameterKey})})}},{key:"render",value:function(){var t=this.state.errorKeys,n=Object(a.a)({},this.props);return delete n.context,t&&(n.errorKeys=t),u.a.createElement(e,n)}}]),n}(s.Component);return t.defaultProps=m,t}},447:function(e,t,n){"use strict";var a=n(91),r=n(448);t.a=Object(a.a)(r)},448:function(e,t,n){"use strict";n.r(t),n.d(t,"getLocalState",function(){return i}),n.d(t,"getFormState",function(){return o}),n.d(t,"getFormActive",function(){return c});var a=n(34),r=n(137),i=function(e){return e.form},o=Object(a.createSelector)(function(e){return e},r.a,function(e,t){return e[t]}),c=Object(a.createSelector)(o,function(e){return e.active})},449:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(72),m={context:"fieldLabels",labelKey:void 0,module:void 0,parameterKey:void 0};function p(e){var t=function(t){function n(e){var t;Object(r.a)(this,n),t=Object(o.a)(this,Object(c.a)(n).call(this,e));var a=e.context,i=e.labelKey,l=e.module,s=e.parameterKey;return t.state={labelKey:i?void 0:Object(d.createLabelKey)({context:a,module:l,parameterKey:s})},t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.labelKey||this.props.parameterKey===e.parameterKey||this.setState({labelKey:Object(d.createLabelKey)({module:e.module,parameterKey:e.parameterKey})})}},{key:"render",value:function(){var t=this.state.labelKey,n=Object(a.a)({},this.props);return delete n.context,t&&(n.labelKey=t),u.a.createElement(e,n)}}]),n}(s.Component);return t.defaultProps=m,t}},450:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(72),m={model:void 0,name:void 0,parameterKey:void 0};function p(e){var t=function(t){function n(e){var t;Object(r.a)(this,n),t=Object(o.a)(this,Object(c.a)(n).call(this,e));var a=e.model,i=e.name,l=e.parameterKey;return t.state={parameterKey:l?void 0:Object(d.createParameterKey)({model:a,name:i})},t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.parameterKey||this.props.name===e.name||this.setState({parameterKey:Object(d.createParameterKey)({model:e.model,name:e.name})})}},{key:"render",value:function(){var t=this.state.parameterKey,n=Object(a.a)({},this.props);return delete n.context,t&&(n.parameterKey=t),u.a.createElement(e,n)}}]),n}(s.Component);return t.defaultProps=m,t}},451:function(e,t,n){"use strict";var a=n(21),r=n(0),i=n.n(r),o=n(88);t.a=function(e){var t=e.displayType,n=Object(a.a)(e,["displayType"]);return"fixed"===t?i.a.createElement(o.Modal,n):"inline"===t?i.a.createElement(o.Inline,n):null}},452:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="formSupport"},453:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(10),u=n(0),d=n.n(u),m=n(20),p=n.n(m),h=n(180),f=n.n(h),v=n(15),b=n(102),g=f()(void 0),y=["id","attributes.fullName","attributes.agentType","attributes.disambiguatingDescription"],O={group:b.ALL},E=function(e){var t=p.a.get(e,"attributes.disambiguatingDescription"),n=p.a.get(e,"attributes.fullName");return t?"".concat(n," (").concat(t,")"):n},j=function(e,t){return{key:e.id,text:E(e),value:g(Object(s.a)({},t,{normalized:{id:e.id}}))}},T=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.group,r=Object(a.a)(t,["group"]);switch(n){case b.ALL:break;case b.PERSON:e={filterFunctionName:"matchAgentType",value:b.PERSON};break;case b.ORGANIZATION:e={filterFunctionName:"matchAgentType",value:b.ORGANIZATION};break;case b.OTHER:e={filterFunctionName:"matchAgentType",value:b.OTHER};break;case b.UNKNOWN:e={filterFunctionName:"matchAgentType",value:b.UNKNOWN};break;default:throw new Error("Unknown group: ".concat(n))}return d.a.createElement(v.DropdownSearch,Object.assign({pathToIdInValue:"normalized.id",pathToTextInValue:"textI"},r,{baseFilter:e,extractText:E,filterFunctionName:"fullNameSearch",includeFields:y,mapItemToOption:j,resource:"normalizedAgent",searchWithQuery:!0,type:"dropdown-search-id-text"}))}}]),t}(u.Component);T.defaultProps=O,t.a=T},454:function(e,t,n){"use strict";var a=n(10),r=n(0),i=n.n(r),o=n(36),c=n(42),l=n(288),s=n(153),u=n(72),d=Object(a.a)({inline:!1},c.b),m=function(e){var t=e.displayLabel,n=e.enableHelpNotifications,a=e.helpNotificationProps,r=e.helpText,d=e.inline,m=e.input,p=e.label,h=e.model,f=e.module,v=e.parameterKeyInput||Object(u.createParameterKey)({model:h,name:m.name}),b=d?i.a.createElement(s.a,{enableHelpNotifications:n,helpNotificationProps:a,helpText:r,htmlFor:m.name,label:p,module:f,parameterKey:v}):void 0,g=Object(o.a)({keys:c.c,props:e}),y=g.extractedProps,O=g.rest;return i.a.createElement(c.a,Object.assign({},y,{displayLabel:!b&&t,label:b?void 0:p,name:m.name}),i.a.createElement(l.a,Object.assign({},O,{label:b})))};m.defaultProps=d,t.a=m},455:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(42),p={enableHelpNotifications:void 0,label:void 0,labelKey:void 0,module:"collectionMammals"},h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e,t){var n=t.value;this.props.input.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.enableHelpNotifications,a=t.input,r=a.name,i=a.value,o=t.label,c=t.labelKey,l=t.module,s=t.radioOptions;return u.a.createElement(m.a,{enableHelpNotifications:n,label:o,labelKey:c,meta:{},module:l,name:r,style:{marginBottom:"0.5em",width:"100%"}},u.a.createElement("div",null,s.map(function(t){var n=t.key,a=t.text,o=t.value;return u.a.createElement(d.u,{checked:i===o,className:"inline group",key:n,label:a,name:r,onChange:e.handleChange,value:o})})))}}]),t}(s.Component);h.defaultProps=p,t.a=h},456:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(42),p={enableHelpNotifications:void 0},h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e,t){var n=t.value;this.props.input.onChange("true"===n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.enableHelpNotifications,a=t.input,r=a.name,i=a.value,o=t.label,c=t.radioOptions;return u.a.createElement(m.a,{enableHelpNotifications:n,label:o,meta:{},name:r},c.map(function(t){var n=t.key,a=t.text,o=t.value,c="true"===o&&!0===i||"false"===o&&!1===i;return u.a.createElement(d.c,{checked:c,className:"inline group",key:n,label:a,name:r,onChange:e.handleChange,radio:!0,value:o})}))}}]),t}(s.Component);h.defaultProps=p,t.a=h},457:function(e,t,n){"use strict";var a=n(10),r=n(0),i=n.n(r),o=n(1),c=function(e){var t=e.autoComplete,n=e.autoHeight,r=e.disabled,c=e.inline,l=e.input,s=e.label,u=e.placeholder,d=e.rows,m=e.type,p=e.style,h=e.width;return i.a.createElement(o.h.TextArea,Object.assign({autoComplete:t,autoHeight:n,disabled:r,inline:c,label:s,placeholder:u,rows:d,type:m},l,{style:Object(a.a)({width:"100%"},p),width:h}))};c.defaultProps={autoComplete:void 0,autoHeight:!1,disabled:!1,inline:!1,label:void 0,placeholder:void 0,rows:3,style:{},type:"text",width:16},t.a=c},458:function(e,t,n){"use strict";var a=n(21),r=n(0),i=n.n(r),o=n(278);t.a=function(e){var t=e.input,n=e.meta,r=e.module,c=Object(a.a)(e,["input","meta","module"]);return i.a.createElement(o.a,Object.assign({displayDateTypeRadios:!1,displayLabel:!0,displaySubLabels:!0,initialDateType:"single",input:t,meta:n,module:r,name:t.name},c))}},459:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(36),o=n(890),c=n(42);t.a=function(e){var t,n=e.input,a=e.type;switch(a){case"read-only":t=o.a;break;default:throw new Error("Type: ".concat(a," is not supported"))}var l=Object(i.a)({keys:c.c,props:e}),s=l.extractedProps,u=l.rest;return r.a.createElement(c.a,Object.assign({},s,{name:n.name}),r.a.createElement(t,u))}},46:function(e,t,n){"use strict";var a=n(10),r=n(182),i=n(287),o=n(489);t.a=Object(a.a)({clearNestedCache:o.a,createNestedItem:i.a},r.a.actionCreators)},460:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(9),s=n(7),u=n(0),d=n.n(u),m=n(15),p=n(282),h=n(461),f=function(e){return e&&e.value&&(e.value.textI||e.value.normalized)},v=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={forceRenderResult:!1,pickerActive:!1},n.onBlur=n.onBlur.bind(Object(l.a)(n)),n.renderInput=n.renderInput.bind(Object(l.a)(n)),n.renderResult=n.renderResult.bind(Object(l.a)(n)),n.removeForceRenderResult=n.removeForceRenderResult.bind(Object(l.a)(n)),n.reportPickerActive=n.reportPickerActive.bind(Object(l.a)(n)),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"onBlur",value:function(e){e&&(e.textI||e.normalized)&&this.setState({forceRenderResult:!0}),this.props.input.onBlur(e)}},{key:"reportPickerActive",value:function(e){var t=this.props.input.value;return e&&t&&(t.textI||t.normalized&&t.normalized.id)?this.setState({forceRenderResult:!0,pickerActive:!0}):this.setState({pickerActive:e})}},{key:"removeForceRenderResult",value:function(){this.setState({forceRenderResult:!1})}},{key:"renderInput",value:function(e){return d.a.createElement(p.a,Object.assign({},e,{focusOnMount:!0,reportPickerActive:this.reportPickerActive}))}},{key:"renderResult",value:function(e){var t=e.forceRenderResult,n=e.isLatestActiveField;return d.a.createElement(h.a,Object.assign({displayLabel:!1},e,{focusOnMount:n&&t,removeForceRenderResult:this.removeForceRenderResult}))}},{key:"render",value:function(){var e=this.state,t=e.forceRenderResult,n=e.pickerActive,r=this.props.input;return d.a.createElement(m.TogglableField,Object.assign({},this.props,{forceRenderResult:!n&&!!r.value&&t,getHasValue:f,input:Object(a.a)({},r,{onBlur:this.onBlur}),renderInput:this.renderInput,renderResult:this.renderResult}))}}]),t}(u.PureComponent);t.a=v},461:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(1),p=n(20),h=n.n(p),f=n(37),v=n(36),b=n(35),g=n(15),y=n(42),O=n(50),E={focusOnMount:!1,forceRenderResult:!1,includeVerbatimAgent:!1,isLatestActiveField:!1,normalizedAgent:void 0,removeForceRenderResult:void 0,setAsLatestActiveField:void 0,textOnly:!1},j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.button&&!f.a.isTest&&this.button.focus()}},{key:"componentDidUpdate",value:function(e){this.props.forceRenderResult&&e.isLatestActiveField!==this.props.isLatestActiveField&&!this.props.isLatestActiveField&&this.props.removeForceRenderResult()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.removeForceRenderResult(),this.props.setAsLatestActiveField()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.i18n.moduleTranslate,r=n.includeVerbatimAgent,i=n.input,o=i.name,c=i.value,l=n.normalizedAgent,s=n.textOnly,d=c&&c.textI||(r?c.textV:void 0),p=h.a.get(l,"attributes.fullName"),f=p||d,b=h.a.get(l,"attributes.disambiguatingDescription");if(s)e=b;else{var O=p&&a({module:"agent",textKey:"agent"})||d&&a({module:"form",textKey:"plainText"});e=b?"(".concat(b,") [").concat(O,"]"):"[".concat(O,"]")}var E=Object(v.a)({keys:Object.keys(y.d),props:this.props}).extractedProps;return s?f?u.a.createElement(u.a.Fragment,null,e?"".concat(f," ").concat(e):f):null:u.a.createElement(g.FieldTemplate,Object.assign({},E,{name:o}),u.a.createElement("div",{style:{position:"relative"}},u.a.createElement("strong",null,f)," ".concat(e),u.a.createElement(m.b,{icon:!0,onClick:this.handleClick,ref:function(e){t.button=e},style:{marginLeft:"5px"}},u.a.createElement(m.k,{name:"edit"}))))}}]),t}(s.Component);j.defaultProps=E,t.a=Object(d.c)(Object(O.withI18n)(),Object(b.createGetItemById)({idPath:"input.value.normalized.id",itemKey:"normalizedAgent",resource:"normalizedAgent"}))(j)},463:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(1),h=n(15),f=n(35),v=n(51),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allDeathTypeFetched,n=e.causeOfDeathTypeOptions,r=Object(a.a)(e,["allDeathTypeFetched","causeOfDeathTypeOptions"]);return t?u.a.createElement(p.i.Column,{width:16},u.a.createElement(h.DropdownSearch,Object.assign({},r,{options:n,type:"dropdown-search-local"}))):null}}]),t}(s.Component);b.defaultProps={causeOfDeathTypeOptions:[]},t.a=Object(d.c)(Object(f.createEnsureAllItemsFetched)({allItemsFetchedKey:"allDeathTypeFetched",resource:"causeOfDeathType"}),Object(m.b)(function(e){return{causeOfDeathTypeOptions:v.a.causeOfDeathType.getAllAsOptions(e)}}))(b)},464:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(13),d=n(16),m=n(15),p=n(35),h=n(51),f=n(25),v={establishmentMeansTypeOptions:[],label:void 0,module:"collectionMammals"},b=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allTypeFetched,n=e.establishmentMeansTypeOptions,a=e.label,r=e.input,i=e.module;return t?s.a.createElement(m.Radio,{input:r,label:s.a.createElement(f.ModuleTranslate,{module:i,textKey:a}),module:i,radioOptions:n}):null}}]),t}(l.Component);b.defaultProps=v,t.a=Object(u.c)(Object(p.createEnsureAllItemsFetched)({allItemsFetchedKey:"allTypeFetched",resource:"establishmentMeansType"}),Object(d.b)(function(e){return{establishmentMeansTypeOptions:h.a.establishmentMeansType.getAllAsOptions(e)}}))(b)},465:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(15),h=n(35),f=n(51),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allTypeSpecimenTypeFetched,n=e.typeSpecimenTypeOptions,r=Object(a.a)(e,["allTypeSpecimenTypeFetched","typeSpecimenTypeOptions"]);return t?u.a.createElement(p.DropdownSearch,Object.assign({},r,{options:n,type:"dropdown-search-local"})):null}}]),t}(s.Component);v.defaultProps={typeSpecimenTypeOptions:[]},t.a=Object(d.c)(Object(h.createEnsureAllItemsFetched)({allItemsFetchedKey:"allTypeSpecimenTypeFetched",resource:"typeSpecimenType"}),Object(m.b)(function(e){return{typeSpecimenTypeOptions:f.a.typeSpecimenType.getAllAsOptions(e)}}))(v)},466:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(75),d=n(15),m=n(43),p=[m.ORDER,m.FAMILY,m.GENUS,m.SPECIES,m.SUBSPECIES,m.MISSING_RANK].map(function(e){return{key:e,text:Object(u.capitalizeFirstLetter)(e),value:e}}),h=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.input.value;return s.a.createElement(d.DropdownSearch,Object.assign({},this.props,{disableClearValue:e===m.CLASS,disabled:e===m.CLASS,module:"taxon",options:p,resource:"taxonName",selectedOption:e===m.CLASS?{key:m.CLASS,text:Object(u.capitalizeFirstLetter)(m.CLASS),value:m.CLASS}:void 0,type:"dropdown-search-local"}))}}]),t}(l.Component);t.a=h},467:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(13),o=n(40),c=n(20),l=n.n(c),s=n(35),u=n(50),d=function(e){var t=e.i18n.moduleTranslate,n=e.nestedTaxonName,a=e.synonymToAcceptedTaxonName,i=l.a.get(n,"acceptedToTaxon.id");if(i){var c=n.name,s=n.rank,u=s?" (".concat(s,")"):"";return r.a.createElement(r.a.Fragment,null,"".concat(t({capitalize:!0,textKey:"acceptedNameForTaxon"})," "),r.a.createElement(o.a,{to:"/app/taxa?filterColumn=&itemId=".concat(i,"&mainColumn=edit")},"".concat(c).concat(u)),".")}var d=l.a.get(n,"synonymToTaxon.id");if(d){var m=l.a.get(a,"acceptedTaxonName.name"),p=l.a.get(a,"acceptedTaxonName.rank"),h=p?" (".concat(p,")"):"";return r.a.createElement(r.a.Fragment,null,"".concat(t({capitalize:!0,textKey:"synonymForTaxon"})," "),r.a.createElement(o.a,{to:"/app/taxa?filterColumn=&itemId=".concat(d,"&mainColumn=edit")},"".concat(m).concat(h)),".")}return r.a.createElement(r.a.Fragment,null,t({capitalize:!0,textKey:"notAssociatedWithTaxon"}))};d.defaultProps={synonymToAcceptedTaxonName:void 0},t.a=Object(i.c)(Object(u.withI18n)({module:"taxon"}),Object(s.createGetNestedItemById)({idPath:"nestedTaxonName.synonymToTaxon.id",include:["acceptedTaxonName"],nestedItemKey:"synonymToAcceptedTaxonName",relationships:["acceptedTaxonName"],resolveRelationships:["taxonName"],resource:"taxon"}))(d)},468:function(e,t,n){"use strict";n.r(t),n.d(t,"makeGetFeatureTypesInGroups",function(){return s});var a=n(17),r=n(34),i=n(51),o=n(277),c=i.a.featureType.getItemsObject,l=o.a.getGroupedFeatureTypeIds,s=function(){return Object(r.createSelector)([c,l,function(e,t){return t?t.join():""}],function(e,t,n){return n.split(",").reduce(function(n,r){var i=t[r],o=i&&i.map(function(t){return e[t]});return o?[].concat(Object(a.a)(n),Object(a.a)(o)):n},[])})}},469:function(e,t,n){"use strict";var a=n(21),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(15),h=n(35),f=n(51),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allPreparationTypesFetched,n=e.preparationTypeOptions,r=Object(a.a)(e,["allPreparationTypesFetched","preparationTypeOptions"]);return t?u.a.createElement(p.DropdownSearch,Object.assign({},r,{options:n,type:"dropdown-search-local"})):null}}]),t}(s.Component);v.defaultProps={preparationTypeOptions:[]},t.a=Object(d.c)(Object(h.createEnsureAllItemsFetched)({allItemsFetchedKey:"allPreparationTypesFetched",resource:"preparationType"}),Object(m.b)(function(e){return{preparationTypeOptions:f.a.preparationType.getAllAsOptions(e)}}))(v)},47:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u={ItemTitle:function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.nestedItem;return s.a.createElement("span",null,s.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},e.name),e.group&&s.a.createElement("span",null,"(",e.group,")"))}}]),t}(l.Component),nestedItem:void 0},d=function(){return function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){var t=this.props,n=t.nestedItem,a=t.ItemTitle;if(!n)return s.a.createElement(e,this.props);var r=s.a.createElement(a,{nestedItem:n});return s.a.createElement(e,Object.assign({},this.props,{itemTitle:r}))}}]),n}(l.Component);return t.defaultProps=u,t}},m=n(10),p=n(9),h={filterColumn:void 0,itemId:void 0,mainColumn:void 0},f=function(){return function(e){return function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).replaceLocalState=t.replaceLocalState.bind(Object(p.a)(t)),t.updateLocalState=t.updateLocalState.bind(Object(p.a)(t)),t.clearLocalState=t.clearLocalState.bind(Object(p.a)(t)),t.state=h,t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"replaceLocalState",value:function(e){this.setState(e)}},{key:"updateLocalState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState(function(t){return Object(m.a)({},t,e)})}},{key:"clearLocalState",value:function(e){e?this.setState(function(t){var n=Object(m.a)({},t);return e.forEach(function(e){n[e]=h[e]}),n}):this.setState(h)}},{key:"render",value:function(){return s.a.createElement(e,Object.assign({},this.props,{clearState:this.clearLocalState,replaceState:this.replaceLocalState,state:this.state,updateState:this.updateLocalState}))}}]),n}(l.Component)}},v=n(12),b=n.n(v),g=n(49),y=function(){return function(e){b.a.func.isRequired,b.a.func.isRequired,b.a.bool,b.a.func,b.a.object.isRequired,b.a.bool,b.a.func.isRequired;var t={isPicker:!1,onInteraction:void 0,treeEnabled:!1},n=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).navigateCreate=t.navigateCreate.bind(Object(p.a)(t)),t.navigateEdit=t.navigateEdit.bind(Object(p.a)(t)),t.navigateList=t.navigateList.bind(Object(p.a)(t)),t.navigateRoot=t.navigateRoot.bind(Object(p.a)(t)),t.navigateTree=t.navigateTree.bind(Object(p.a)(t)),t.handleNavigation=t.handleNavigation.bind(Object(p.a)(t)),t.closeItemView=t.closeItemView.bind(Object(p.a)(t)),t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"handleNavigation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case g.ITEM_SELECT:var n=t.itemId;this.navigateEdit(n);break;case g.NAVIGATE_CREATE:this.navigateCreate();break;case g.NAVIGATE_ROOT:this.navigateRoot();break;case g.CLOSE_ITEM_VIEW:this.closeItemView();break;case g.NAVIGATE_LIST:this.navigateList();break;case g.NAVIGATE_TREE:this.navigateTree();break;case g.NAVIGATE_FILTER:this.navigateFilter();break;case g.CREATE_SUCCESS:var a=t.itemId;this.navigateEdit(a);break;case g.CREATE_CANCEL:this.props.goBack?this.props.goBack():this.navigateList({disablePrompt:!0});break;case g.DEL_SUCCESS:this.navigateList()}this.props.onInteraction&&this.props.onInteraction(e,t)}},{key:"closeItemView",value:function(){this.props.clearState(["filterColumn"])}},{key:"navigateEdit",value:function(e){this.props.updateState({filterColumn:"",itemId:e,mainColumn:"edit"})}},{key:"navigateFilter",value:function(){this.props.updateState({filterColumn:"filter",mainColumn:"table"})}},{key:"navigateCreate",value:function(){this.props.updateState({filterColumn:"",mainColumn:"create"})}},{key:"navigateRoot",value:function(){this.props.clearState()}},{key:"navigateList",value:function(e){this.props.updateState({mainColumn:"table"},e)}},{key:"navigateTree",value:function(){this.props.updateState({filterColumn:"",mainColumn:"tree"})}},{key:"render",value:function(){var t=this.props,n=t.state,a=t.treeEnabled,r=t.isPicker,i=n.mainColumn,o=void 0===i?a?"tree":"table":i,c=n.filterColumn,l=n.itemId;return s.a.createElement(e,Object.assign({},this.props,{createItemActive:!r&&"create"===o,editItemActive:!r&&"edit"===o,filterActive:"filter"===c,itemEnabled:!r,itemId:l,navigateCreate:this.navigateCreate,navigateEdit:this.navigateEdit,navigateRoot:this.navigateRoot,onNavigation:this.handleNavigation,tableActive:"table"===o,treeActive:"tree"===o,treeEnabled:a}))}}]),n}(l.Component);return n.defaultProps=t,n}},O=n(16),E=n(31),j=n(40),T=n(38),S=n.n(T),I=function(e){return e&&e.itemId},C={pathToIdInValue:"",pathToTextInValue:""},N={blur:E.d,change:E.e},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extractPickedId,n=void 0===t?I:t,u=e.pathToIdInValue,d=void 0===u?"":u,m=e.pathToTextInValue,h=void 0===m?"":m,f=e.requireEitherIdOrValue,v=void 0!==f&&f;return function(e){var t=function(t){function l(e){var t;return Object(a.a)(this,l),(t=Object(i.a)(this,Object(o.a)(l).call(this,e))).handleInteraction=t.handleInteraction.bind(Object(p.a)(t)),t.handleOnClose=t.handleOnClose.bind(Object(p.a)(t)),t.handlePickerButtonClick=t.handlePickerButtonClick.bind(Object(p.a)(t)),t.handleSearchQueryChange=t.handleSearchQueryChange.bind(Object(p.a)(t)),t.setPickerActive=t.setPickerActive.bind(Object(p.a)(t)),t.pickItem=t.pickItem.bind(Object(p.a)(t)),t.state={pickerActive:!1},t}return Object(c.a)(l,t),Object(r.a)(l,[{key:"setPickerActive",value:function(){this.setState({pickerActive:!0})}},{key:"handleInteraction",value:function(e,t){e===g.PICKER_CLOSE&&this.handleOnClose(),e===g.PICKER_PICK_ITEM&&this.pickItem(t),e===g.ITEM_SELECT&&this.pickItem(t)}},{key:"pickItem",value:function(e){var t=this.props,a=t.input,r=t.meta,i=t.pathToIdInValue,o=t.pathToTextInValue,c=r&&r.form,l=n(e);if(void 0!==l){var s=i||d,u=o||h,m=!(!s&&!u),p=v?S.a.del(a.value,u):a.value,f=m?S.a.set(p,s,l):l;a.onChange?a.onChange(f):this.props.change(c,a.name,f),a.onBlur?a.onBlur(f):this.props.blur(c,a.name,f)}this.handleOnClose()}},{key:"handleSearchQueryChange",value:function(e){var t=e.searchQuery;this.searchQuery=t}},{key:"handleOnClose",value:function(e){e&&e.preventDefault(),this.searchQuery=void 0,this.setState({pickerActive:!1})}},{key:"handlePickerButtonClick",value:function(e){var t=this;e.preventDefault(),setTimeout(function(){t.setPickerActive()})}},{key:"render",value:function(){var t=this,n=this.handleInteraction,a=this.handleOnClose,r=this.handlePickerButtonClick,i=this.handleSearchQueryChange,o=this.searchQuery,c=this.setPickerActive,l=this.props,u=l.input,m=l.meta,p=l.pathToIdInValue,f=l.pathToTextInValue,v=this.state.pickerActive,b=m&&m.form,g=u&&u.value;return s.a.createElement(s.a.Fragment,null,s.a.createElement(j.c,{message:function(){return setTimeout(t.handleOnClose),!1},when:v}),s.a.createElement(e,Object.assign({},this.props,{fieldSearchQuery:o,fieldValue:g,formName:b,onClose:a,onInteraction:n,onPickerButtonClick:r,onSearchQueryChange:i,pathToIdInValue:p||d,pathToTextInValue:f||h,pickerActive:v,setPickerActive:c})))}}]),l}(l.Component);return t.defaultProps=C,Object(O.b)(null,N)(t)}},w=n(19),x=n(70),A=n(13),R=n(357),F=n.n(R),P=function(){return function(e){var t={routerGoBack:x.c,routerPush:x.d},n=(b.a.object.isRequired,b.a.func.isRequired,b.a.func.isRequired,function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).getQueryParams=t.getQueryParams.bind(Object(p.a)(t)),t.replaceQueryParams=t.replaceQueryParams.bind(Object(p.a)(t)),t.updateQueryParams=t.updateQueryParams.bind(Object(p.a)(t)),t.clearQueryParams=t.clearQueryParams.bind(Object(p.a)(t)),t.goBack=t.goBack.bind(Object(p.a)(t)),t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"getQueryParams",value:function(){var e=this.props.location,t=F.a.parse(e.search)||{};return Object.keys(t).reduce(function(e,n){var a=t[n];return"true"===a&&(a=!0),"false"===a&&(a=!1),Object(m.a)({},e,Object(w.a)({},n,a))},{})}},{key:"replaceQueryParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props.location.pathname,a=F.a.stringify(e);this.props.routerPush({pathname:n,search:a,state:t})}},{key:"updateQueryParams",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getQueryParams(),a=Object(m.a)({},n,e),r=F.a.stringify(a),i=this.props.location.pathname;this.props.routerPush({pathname:i,search:r,state:t})}},{key:"goBack",value:function(){this.props.routerGoBack()}},{key:"clearQueryParams",value:function(e){var t=this.props.location.pathname;if(e){var n=this.getQueryParams();e.forEach(function(e){delete n[e]});var a=F.a.stringify(n);this.props.routerPush({pathname:t,search:a})}else this.props.routerPush({pathname:t})}},{key:"render",value:function(){var t=this.getQueryParams();return s.a.createElement(e,Object.assign({},this.props,{clearState:this.clearQueryParams,goBack:this.goBack,replaceState:this.replaceQueryParams,state:t,updateState:this.updateQueryParams}))}}]),n}(l.Component));return n.defaultProps={},Object(A.c)(Object(O.b)(null,t),j.g)(n)}},L=n(22),M=n(46),_=n(35),D=n(30),B=n(98),V=n(117),U="RESOURCE_MANAGER_OPEN",K="RESOURCE_MANAGER_CLOSE";function H(){return{type:U}}function z(){return{type:K}}var G=n(516),q=n(155),Q=Object(L.a)("resourceManager:resourceManagerWrapper"),W=function(){return function(e){var t={clearNestedCache:M.a.clearNestedCache,clearResourceState:V.a.del[":managerScope"],close:z,delFocusIdWhenLoaded:V.a.del[":managerScope.focusIdWhenLoaded"],open:H,resetForm:E.g,setBaseItems:V.a.set[":managerScope.baseItems"],setCurrentTableRowNumber:V.a.set[":managerScope.currentTableRowNumber"],setExpandedIds:V.a.set[":managerScope.expandedIds"],setFilterValues:V.a.set[":managerScope.listFilterValues"],setFocusIdWhenLoaded:V.a.set[":managerScope.focusIdWhenLoaded"],setListItems:V.a.set[":managerScope.listItems"],setShowAll:V.a.set[":managerScope.showAll"]},n=(b.a.array,b.a.object,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.number.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.bool.isRequired,b.a.bool,b.a.object,b.a.bool.isRequired,b.a.object,b.a.number.isRequired,b.a.string,b.a.string,b.a.object,b.a.string,b.a.bool,b.a.object,b.a.string,b.a.array,b.a.string.isRequired,b.a.arrayOf(b.a.string),b.a.bool.isRequired,b.a.number.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.bool.isRequired,b.a.number,b.a.number,b.a.func.isRequired,b.a.string.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.func.isRequired,b.a.bool,b.a.array,b.a.bool.isRequired,b.a.array.isRequired,b.a.number,b.a.bool.isRequired,{baseItems:[],baseTreeFilter:{},excludeRootNode:!1,expandedIds:{},filterValues:void 0,focusedItemId:void 0,focusIdWhenLoaded:void 0,initialFilterValues:void 0,initialItemId:void 0,isPicker:!1,itemFetchOptions:{include:[],relationships:["children","parent"]},itemId:void 0,listItems:[],nestedCacheNamespaces:void 0,recordNavigationHeight:Object(D.a)(4.25),recordOptionsHeight:Object(D.a)(3.5625),showAll:!1,sortOrder:[],totalNumberOfRecords:0}),u=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(o.a)(n).call(this,e))).expandAncestorsForItemId=t.expandAncestorsForItemId.bind(Object(p.a)(t)),t.fetchTreeBase=t.fetchTreeBase.bind(Object(p.a)(t)),t.findRowNumberById=t.findRowNumberById.bind(Object(p.a)(t)),t.focusRowWithId=t.focusRowWithId.bind(Object(p.a)(t)),t.getNestedCacheNamespaces=t.getNestedCacheNamespaces.bind(Object(p.a)(t)),t.handleClickRow=t.handleClickRow.bind(Object(p.a)(t)),t.handleClosePicker=t.handleClosePicker.bind(Object(p.a)(t)),t.handleFormTabClick=t.handleFormTabClick.bind(Object(p.a)(t)),t.handleInteraction=t.handleInteraction.bind(Object(p.a)(t)),t.handleOpenNewRecordForm=t.handleOpenNewRecordForm.bind(Object(p.a)(t)),t.handlePickItem=t.handlePickItem.bind(Object(p.a)(t)),t.handleSelectNextRecord=t.handleSelectNextRecord.bind(Object(p.a)(t)),t.handleSelectPrev=t.handleSelectPrev.bind(Object(p.a)(t)),t.handleSetCurrentTableRow=t.handleSetCurrentTableRow.bind(Object(p.a)(t)),t.handleShowAllRecords=t.handleShowAllRecords.bind(Object(p.a)(t)),t.handleToggleCurrentRow=t.handleToggleCurrentRow.bind(Object(p.a)(t)),t.handleToggleFilters=t.handleToggleFilters.bind(Object(p.a)(t)),t.handleToggleRow=t.handleToggleRow.bind(Object(p.a)(t)),t.handleUpdateFilterValues=t.handleUpdateFilterValues.bind(Object(p.a)(t)),t.selectCurrentRow=t.selectCurrentRow.bind(Object(p.a)(t)),t.tableSearch=t.tableSearch.bind(Object(p.a)(t)),t.resetFilters=t.resetFilters.bind(Object(p.a)(t)),t.mountTableView=t.mountTableView.bind(Object(p.a)(t)),t.updateTableView=t.updateTableView.bind(Object(p.a)(t)),t.transitionToTableView=t.transitionToTableView.bind(Object(p.a)(t)),t.transitionFromTableView=t.transitionFromTableView.bind(Object(p.a)(t)),t.mountTreeView=t.mountTreeView.bind(Object(p.a)(t)),t.updateTreeView=t.updateTreeView.bind(Object(p.a)(t)),t.transitionToTreeView=t.transitionToTreeView.bind(Object(p.a)(t)),t.transitionFromTreeView=t.transitionFromTreeView.bind(Object(p.a)(t)),t.mountEditItemView=t.mountEditItemView.bind(Object(p.a)(t)),t.updateEditItemView=t.updateEditItemView.bind(Object(p.a)(t)),t.transitionToEditItemView=t.transitionToEditItemView.bind(Object(p.a)(t)),t.transitionFromEditItemView=t.transitionFromEditItemView.bind(Object(p.a)(t)),t.shortcuts=[{command:"down",description:"Move focus to next record",onPress:t.handleSelectNextRecord},{command:"up",description:"Move focus to previous record",onPress:t.handleSelectPrev},{command:"left",description:"Collapse tree node",onPress:function(){t.handleToggleCurrentRow("collapse")}},{command:"right",description:"Expand tree node",onPress:function(){t.handleToggleCurrentRow("expand")}},{command:"n t",description:"Open table view",onPress:function(e){e.preventDefault(),t.props.onInteraction(g.NAVIGATE_LIST)}}],e.isPicker||(t.shortcuts.push({command:"space",description:"Select current item",onPress:function(e){e.preventDefault(),t.selectCurrentRow()}}),t.shortcuts.push({command:"n n",description:"Open new record form",onPress:function(e){e.preventDefault(),t.props.onInteraction(g.NAVIGATE_CREATE)}})),t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.open();var e=this.props,t=e.initialFilterValues,n=e.managerScope,a=e.treeActive,r=e.tableActive;t&&(this.props.setFilterValues(t,{managerScope:n}),this.handleInteraction(g.NAVIGATE_FILTER)),r?this.mountTableView():a?this.mountTreeView():(this.mountEditItemView(),this.tableSearch(t)),this.props.clearNestedCache({namespaces:this.getNestedCacheNamespaces()})}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,a=n.currentTableRowNumber,r=n.managerScope,i=n.numberOfListItems;this.getActiveViews().forEach(function(n){switch(n){case"table":t.updateTableView(e);break;case"tree":t.updateTreeView(e);break;case"edit-item":t.updateEditItemView(e);break;default:throw new Error("Unknown active view: ".concat(n))}});var o=this.getTransitions(e);o.forEach(function(n){switch(n){case"to-table":t.transitionToTableView(e);break;case"from-table":t.transitionFromTableView(e);break;case"to-tree":t.transitionToTreeView(e);break;case"from-tree":t.transitionFromTreeView(e,{skipTableSearch:1===o.length});break;case"to-edit-item":t.transitionToEditItemView(e);break;case"from-edit-item":t.transitionFromEditItemView(e);break;default:throw new Error("Unknown transition: ".concat(n))}}),i<a&&this.props.setCurrentTableRowNumber(i,{managerScope:r})}},{key:"componentWillUnmount",value:function(){var e=this.props.managerScope;this.props.clearNestedCache({namespaces:this.getNestedCacheNamespaces()}),this.props.clearResourceState({managerScope:e}),this.props.close()}},{key:"getNestedCacheNamespaces",value:function(){var e=this.props.managerScope;return[e,"".concat(e,"Title")]}},{key:"getActiveViews",value:function(){var e=this,t={editItemActive:"edit-item",tableActive:"table",treeActive:"tree"},n=[];return["treeActive","tableActive","editItemActive"].forEach(function(a){e.props[a]&&n.push("".concat(t[a]))}),n}},{key:"getTransitions",value:function(e){var t=this,n=["treeActive","tableActive","editItemActive"],a={editItemActive:"edit-item",tableActive:"table",treeActive:"tree"},r=[];return n.forEach(function(n){!t.props[n]&&e[n]&&r.push("from-".concat(a[n]))}),n.forEach(function(n){t.props[n]&&!e[n]&&r.push("to-".concat(a[n]))}),r}},{key:"resetFilters",value:function(){var e=this.props,t=e.managerScope,n=e.resource,a="".concat(n,"Filter");this.props.resetForm(a,{resource:n}),this.props.setFilterValues({},{managerScope:t})}},{key:"expandAncestorsForItemId",value:function(e){var t=this,n=this.props,a=n.dispatch,r=n.itemFetchOptions,i=n.managerScope,o=n.resource,c=n.sortOrder,l=M.a[o]&&M.a[o].getMany;return a(l({queryParams:{filter:{ancestorsToId:e},sort:c},storeInState:!1})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return null;var n=e.map(function(e){return e.id});return a(l({queryParams:{filter:{ids:n},include:r.include,relationships:r.relationships,sort:c}})).then(function(){var n=t.props.expandedIds,a=e.reduce(function(e,t){return Object(m.a)({},e,Object(w.a)({},t.id,!0))},n);t.props.setExpandedIds(a,{managerScope:i})})})}},{key:"fetchTreeBase",value:function(){var e=this,t=this.props,n=t.baseTreeFilter,a=t.dispatch,r=t.itemFetchOptions,i=t.managerScope,o=t.resource,c=t.sortOrder,l=M.a[o]&&M.a[o].getMany;return this.props.setBaseItems([],{managerScope:i}),a(l({queryParams:{filter:n,include:r.include,relationships:r.relationships,sort:c}})).then(function(t){e.props.setBaseItems(t,{managerScope:i})})}},{key:"findRowNumberById",value:function(e){var t,n=this.props,a=n.focusedItemId,r=n.listItems;return a===e?null:(r.forEach(function(n,a){n.id===e&&(t=a)}),void 0!==t?t+1:null)}},{key:"focusRowWithId",value:function(e){var t=this.props.managerScope,n=this.findRowNumberById(e);return n?(this.props.setCurrentTableRowNumber(n,{managerScope:t}),n):null}},{key:"handleUpdateFilterValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.managerScope;t.tableActive||this.props.onInteraction(g.NAVIGATE_LIST),this.props.setFilterValues(e,{managerScope:n}),this.tableSearch(e)}},{key:"handleClosePicker",value:function(){this.handleInteraction(g.PICKER_CLOSE)}},{key:"handlePickItem",value:function(e,t){this.handleInteraction(g.PICKER_PICK_ITEM,{itemId:e,nestedItem:t})}},{key:"handleOpenNewRecordForm",value:function(){this.handleInteraction(g.NAVIGATE_CREATE)}},{key:"handleSelectNextRecord",value:function(){var e=this.props,t=e.currentTableRowNumber,n=e.managerScope;e.nextRowAvailable&&this.props.setCurrentTableRowNumber(t+1,{managerScope:n})}},{key:"handleSelectPrev",value:function(){var e=this.props,t=e.currentTableRowNumber,n=e.managerScope;e.prevRowAvailable&&this.props.setCurrentTableRowNumber(t-1,{managerScope:n})}},{key:"handleShowAllRecords",value:function(e){var t=e.isPicker,n=this.props,a=n.managerScope,r=n.showAll;n.treeActive?this.props.setShowAll(!r,{managerScope:a}):(t||this.resetFilters(),this.tableSearch())}},{key:"handleToggleRow",value:function(e){var t=this.props,n=t.expandedIds,a=t.managerScope,r=Object(m.a)({},n,Object(w.a)({},e,!n[e]));this.props.setExpandedIds(r,{managerScope:a})}},{key:"handleToggleCurrentRow",value:function(e){var t=this.props,n=t.focusedIndex,a=t.expandedIds,r=t.listItems,i=t.managerScope;if(t.treeActive){var o=r[n],c=o&&o.id,l=Object(m.a)({},a,Object(w.a)({},c,"expand"===e));this.props.setExpandedIds(l,{managerScope:i})}}},{key:"handleClickRow",value:function(e,t){this.focusRowWithId(t)}},{key:"handleFormTabClick",value:function(){this.selectCurrentRow()}},{key:"handleSetCurrentTableRow",value:function(e,t){var n=this.props.managerScope;this.props.setCurrentTableRowNumber(t,{managerScope:n})}},{key:"handleToggleFilters",value:function(){this.props.filterActive?this.handleInteraction(g.CLOSE_ITEM_VIEW):this.handleInteraction(g.NAVIGATE_FILTER)}},{key:"handleInteraction",value:function(e,t){switch(Q.debug("Got interaction: ".concat(e),t),e){case g.CREATE_SUCCESS:case g.DEL_SUCCESS:this.tableSearch()}this.props.onInteraction(e,t)}},{key:"selectCurrentRow",value:function(e){var t=this.props,n=t.listItems,a=t.focusedIndex,r=n[void 0!==e?e:a],i=r&&r.id;return void 0!==i?this.handleInteraction(g.ITEM_SELECT,{itemId:i}):null}},{key:"tableSearch",value:function(e){var t=this,n=this.props,a=n.excludeRootNode,r=n.managerScope,i=n.search,o=n.sortOrder;return i({query:this.props.buildFilterQuery({excludeRootNode:a,values:e||{}}),sort:o,useScroll:!1}).then(function(e){return t.props.setListItems(e,{managerScope:r}),null})}},{key:"mountTableView",value:function(){Q.debug("initial mount view: Table");var e=this.props,t=e.initialFilterValues,n=e.initialItemId,a=e.itemId,r=e.managerScope;void 0===a&&void 0!==n&&""!==n&&this.props.setFocusIdWhenLoaded(n,{managerScope:r}),this.tableSearch(t)}},{key:"updateTableView",value:function(e){var t=this.props,n=t.focusIdWhenLoaded,a=t.itemId,r=t.listItems,i=t.managerScope,o=e.listItems;a&&r!==o&&this.focusRowWithId(a),n&&o!==r&&r.length&&this.focusRowWithId(n)&&this.props.delFocusIdWhenLoaded({managerScope:i})}},{key:"transitionToTableView",value:function(){Q.debug("transition to view: Table");var e=this.props,t=e.focusedItemId,n=e.managerScope;t&&this.props.setFocusIdWhenLoaded(t,{managerScope:n})}},{key:"transitionFromTableView",value:function(){Q.debug("transition from view: Table"),this.props.clearNestedCache({namespaces:this.getNestedCacheNamespaces()})}},{key:"mountTreeView",value:function(){Q.debug("initial mount view: Tree");var e=this.props,t=e.initialItemId,n=e.itemId,a=e.managerScope;void 0===n&&void 0!==t&&""!==t&&(this.props.setFocusIdWhenLoaded(t,{managerScope:a}),this.expandAncestorsForItemId(t)),this.transitionToTreeView()}},{key:"updateTreeView",value:function(e){var t=this.props,n=t.focusIdWhenLoaded,a=t.listItems,r=t.managerScope;if(t.treeActive){var i=e.listItems;n&&i!==a&&a.length&&this.focusRowWithId(n)&&this.props.delFocusIdWhenLoaded({managerScope:r})}}},{key:"transitionToTreeView",value:function(){Q.debug("transition to view: Tree");var e=this.props,t=e.focusedItemId,n=e.managerScope;t&&(this.props.setFocusIdWhenLoaded(t,{managerScope:n}),this.expandAncestorsForItemId(t)),this.fetchTreeBase()}},{key:"transitionFromTreeView",value:function(e,t){var n=t.skipTableSearch;Q.debug("transition from view: Tree");var a=this.props.managerScope;n||this.tableSearch(),this.props.setExpandedIds({},{managerScope:a})}},{key:"mountEditItemView",value:function(){Q.debug("initial mount view: EditItem"),this.tableSearch(),this.transitionToEditItemView()}},{key:"updateEditItemView",value:function(e){var t=this.props,n=t.editItemActive,a=t.focusedIndex,r=t.listItems,i=t.itemId;if(n){var o=e.focusedIndex,c=e.listItems;i&&r!==c&&this.focusRowWithId(i),n&&a!==o&&this.selectCurrentRow(a)}}},{key:"transitionToEditItemView",value:function(){Q.debug("transition to view: EditItem")}},{key:"transitionFromEditItemView",value:function(){Q.debug("transition from view: EditItem"),this.props.clearNestedCache({namespaces:this.getNestedCacheNamespaces()})}},{key:"render",value:function(){var t=this.props,n=t.managerScope,a=t.nextRowAvailable,r=t.prevRowAvailable;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q.a,{activeInLayer:n,shortcuts:this.shortcuts}),s.a.createElement(e,Object.assign({},this.props,{fetchTreeBase:this.fetchTreeBase,managerScope:n,onClickRow:this.handleClickRow,onClosePicker:this.handleClosePicker,onFormTabClick:this.handleFormTabClick,onInteraction:this.handleInteraction,onOpenNewRecordForm:this.handleOpenNewRecordForm,onPickItem:this.handlePickItem,onSelectNextRecord:a&&this.handleSelectNextRecord,onSelectPreviousRecord:r&&this.handleSelectPrev,onSetCurrentTableRowNumber:this.handleSetCurrentTableRow,onShowAllRecords:this.handleShowAllRecords,onToggleCurrentRow:this.handleToggleCurrentRow,onToggleFilters:this.handleToggleFilters,onToggleRow:this.handleToggleRow,onUpdateFilterValues:this.handleUpdateFilterValues,tableSearch:this.tableSearch})))}}]),n}(l.Component);return u.defaultProps=n,Object(A.c)(Object(B.a)({includeFields:["id"],storeSearchResult:!1}),Object(_.createGetResourceCount)(),Object(O.b)(function(e,t){var n=t.isPicker,a=t.resource,r=t.resourceCount,i=n?"".concat(a,"Picker"):a,o=V.c.get,c=o[":managerScope.baseItems"](e,{managerScope:i}),l=o[":managerScope.listItems"](e,{managerScope:i}),s=(l||[]).length,u=o[":managerScope.showAll"](e,{managerScope:i}),d=o[":managerScope.expandedIds"](e,{managerScope:i}),m=o[":managerScope.currentTableRowNumber"](e,{managerScope:i})||1,p=m-1,h=m<s,f=m>1;return{baseItems:c,currentTableRowNumber:m,expandedIds:d,filterValues:o[":managerScope.listFilterValues"](e,{managerScope:i}),focusedIndex:p,focusedItemId:l&&l[p]&&l[p].id,focusIdWhenLoaded:o[":managerScope.focusIdWhenLoaded"](e,{managerScope:i}),layer:i,listItems:l,managerScope:i,nextRowAvailable:h,numberOfListItems:s,prevRowAvailable:f,showAll:u,totalNumberOfRecords:r}},t),Object(O.b)(),Object(G.a)({layer:"resourceManager"}))(u)}};n.d(t,"createInjectItemTitle",function(){return d}),n.d(t,"createLocalState",function(){return f}),n.d(t,"createNavigationState",function(){return y}),n.d(t,"createPickerWrapper",function(){return k}),n.d(t,"createQueryState",function(){return P}),n.d(t,"createResourceManagerWrapper",function(){return W})},470:function(e,t,n){"use strict";var a=n(10),r=n(636),i=n(34),o=n(118),c=Object(i.createSelector)(function(e){return e},function(e){var t=Object(r.a)(e);return function(e){var n=(t(e,"individual.identifiers")||[]).find(function(e){return"1"===(e&&e.identifierType&&e.identifierType.id)});return n&&n.value}});t.a=Object(a.a)({createGetCatalogNumber:c},o.b)},472:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(106);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aggregations,n=e.excludeFields,i=e.idsInMeta,o=void 0!==i&&i,c=e.includeDeactivated,l=e.includeFields,s=e.limit,u=void 0===s?1e5:s,d=e.query,m=e.resource,p=e.sort,h=e.storeSearchResult,f=void 0!==h&&h,v=e.useScroll,b=r.a.set[":resource.searchState"],g=a.a[m].query;if(!g)throw new Error("Cant find query action creator for resource: ".concat(m));if(!b)throw new Error("Cant find action creator to set searchState for resource: ".concat(m));return function(e){return e(g({aggregations:t,excludeFields:n,idsInMeta:o,includeDeactivated:c,includeFields:l,limit:u,query:d,sort:p,throwError:!0,useScroll:v})).then(function(t){return f&&e(b({items:t},{resource:m})),t})}}var o=n(10),c=n(634),l=n.n(c);function s(e){var t=e.resource,n=void 0===t?"searchSpecimen":t,i=a.a[n]&&a.a[n].getMany;if(!i)throw new Error("Cant find actionCreator getMany for resource: ".concat(n));var c=r.a.set[":resource.lastUpdatedAt"];if(!c)throw new Error("Cant find action creator to set lastUpdatedAt for resource: ".concat(n));return function(e,t){var a=t(),s=r.c.get[":resource.lastUpdatedAt"](a,{resource:n}),u=l()(),d={limit:1e5},m={filter:{deactivated:!0},includeDeactivated:!0,limit:1e5};return s&&(d={filter:{updatedAfter:s}},m={filter:Object(o.a)({},m.filter,{updatedAfter:s}),includeDeactivated:!0}),e(i({queryParams:d})).then(function(){return e(i({include:null,queryParams:m,relationships:null,removeFromState:!0})).then(function(){return e(c(u,{resource:n})),!0})})}}n.d(t,"search",function(){return i}),n.d(t,"syncSearch",function(){return s})},473:function(e,t,n){"use strict";var a=n(17),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(50),p=n(279),h=n(275),f=n(1),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.input.value,a=e.isLatestActiveField,r=e.setAsLatestActiveField;return u.a.createElement(f.i,{padded:!0},u.a.createElement(f.i.Column,{onClick:a?void 0:r,style:{padding:0,paddingLeft:"2em",position:"relative"}},u.a.createElement("div",{style:{float:"left",left:0,position:"absolute",top:"0.25em"}},u.a.createElement(f.k,{name:n?"commenting outline":"comment outline",size:"large"})),t))}}]),t}(s.PureComponent),b={displayLabel:!1,emptyStateTextKey:void 0,enableHelpNotifications:!1,label:void 0,parameterKey:void 0,resultPrefix:void 0,type:"text"},g=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(e){var t=e.displayLabel,n=e.enableHelpNotifications,a=e.input,r=e.isLatestActiveField,i=e.label,o=e.module,c=e.parameterKey,l=e.setAsLatestActiveField,s=e.type;return u.a.createElement(v,{input:a,isLatestActiveField:r,setAsLatestActiveField:l},u.a.createElement(h.a,{displayLabel:t,enableHelpNotifications:n,fluid:!0,focusOnMount:!0,input:a,label:i,module:o,parameterKey:c,type:s}))}},{key:"renderEmptyState",value:function(e){var t=e.emptyStateTextKey,n=e.i18n.moduleTranslate,a=e.input,r=e.isLatestActiveField,i=e.module,o=e.setAsLatestActiveField;return u.a.createElement(v,{input:a,isLatestActiveField:r,setAsLatestActiveField:o},u.a.createElement("div",{style:{color:"rgba(0, 0, 0, 0.5)",paddingTop:8}},n(t?{capitalize:!0,module:i,textKey:t}:{capitalize:!0,module:"form",textKey:"addRemarks"})))}},{key:"renderResult",value:function(e){var t=e.i18n.moduleTranslate,n=e.input,r=e.isLatestActiveField,i=e.module,o=e.resultPrefix,c=e.resultPrefixTextKey,l=e.setAsLatestActiveField,s=((o||c?"".concat(o||t({capitalize:!0,module:i,textKey:c}),": ").concat(n.value):n.value)||"").split("\n").reduce(function(e,t,n){return e.length?[].concat(Object(a.a)(e),[u.a.createElement("br",null),u.a.createElement("span",{key:t+n},t)]):[u.a.createElement("span",{key:t+n},t)]},[]);return u.a.createElement(v,{input:n,isLatestActiveField:r,setAsLatestActiveField:l},u.a.createElement("div",{style:{paddingTop:8}},s))}},{key:"render",value:function(){return u.a.createElement(p.a,Object.assign({},this.props,{renderEmptyState:this.renderEmptyState,renderInput:this.renderInput,renderResult:this.renderResult}))}}]),t}(s.PureComponent);g.defaultProps=b;t.a=Object(d.c)(Object(m.withI18n)())(g)},474:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(9),s=n(7),u=n(0),d=n.n(u),m=n(15),p=n(245),h=n(13),f=n(1),v=n(20),b=n.n(v),g=n(37),y=n(36),O=n(35),E=n(42),j=n(50),T=n(43),S=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=function(e){return b.a.get(e,"acceptedTaxonName.name")}(t);return a!==T.ROOT_TAXON_NAME&&(n.push(a),t.parent)?e(t.parent,n):n.reverse().join(" > ")},I={focusOnMount:!1,forceRenderResult:!1,isLatestActiveField:!1,removeForceRenderResult:void 0,setAsLatestActiveField:void 0,taxon:void 0,textOnly:!1},C=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(l.a)(n)),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&!g.a.isTest&&this.button.focus()}},{key:"componentDidUpdate",value:function(e){this.props.forceRenderResult&&e.isLatestActiveField!==this.props.isLatestActiveField&&!this.props.isLatestActiveField&&this.props.removeForceRenderResult()}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.removeForceRenderResult(),this.props.setAsLatestActiveField()}},{key:"render",value:function(){var e=this,t=this.props,n=t.input.name,a=t.taxon,r=t.textOnly,i=a&&b.a.get(a,"acceptedTaxonName.name"),o=a&&b.a.get(a,"acceptedTaxonName.rank"),c=a&&S(a),l=Object(y.a)({keys:Object.keys(E.d),props:this.props}).extractedProps;return r?d.a.createElement(d.a.Fragment,null,"".concat(i," (").concat(o,")\n            ").concat(c,"\n          ")):d.a.createElement(m.FieldTemplate,Object.assign({},l,{name:n}),d.a.createElement("div",{style:{position:"relative"}},d.a.createElement("strong",null,i),o&&" (".concat(o,")"),d.a.createElement(f.b,{icon:!0,onClick:this.handleClick,ref:function(t){e.button=t},style:{marginLeft:"5px"}},d.a.createElement(f.k,{name:"edit"})),d.a.createElement("br",null),c))}}]),t}(u.Component);C.defaultProps=I;var N=Object(h.c)(Object(j.withI18n)(),Object(O.createGetNestedItemById)({idPath:"input.value",include:["acceptedTaxonName","parent.acceptedTaxonName","parent.parent.acceptedTaxonName","parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent.parent.acceptedTaxonName"],nestedItemKey:"taxon",relationships:["acceptedTaxonName","parent","parent.acceptedTaxonName","parent.parent","parent.parent.acceptedTaxonName","parent.parent.parent","parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent","parent.parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent.parent","parent.parent.parent.parent.parent.acceptedTaxonName"],resolveRelationships:["taxon","taxonName"],resource:"taxon"}))(C),k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={forceRenderResult:!1,pickerActive:!1},n.onBlur=n.onBlur.bind(Object(l.a)(n)),n.renderInput=n.renderInput.bind(Object(l.a)(n)),n.renderResult=n.renderResult.bind(Object(l.a)(n)),n.removeForceRenderResult=n.removeForceRenderResult.bind(Object(l.a)(n)),n.reportPickerActive=n.reportPickerActive.bind(Object(l.a)(n)),n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"onBlur",value:function(e){e&&this.setState({forceRenderResult:!0}),this.props.input.onBlur(e)}},{key:"reportPickerActive",value:function(e){return e?this.setState({forceRenderResult:!0,pickerActive:!0}):this.setState({pickerActive:!1})}},{key:"removeForceRenderResult",value:function(){this.setState({forceRenderResult:!1})}},{key:"renderInput",value:function(e){return d.a.createElement(p.a,Object.assign({},e,{reportPickerActive:this.reportPickerActive}))}},{key:"renderResult",value:function(e){var t=e.forceRenderResult,n=e.isLatestActiveField;return d.a.createElement(N,Object.assign({displayLabel:!1},e,{focusOnMount:n&&t,removeForceRenderResult:this.removeForceRenderResult}))}},{key:"render",value:function(){var e=this.state,t=e.forceRenderResult,n=e.pickerActive,r=this.props.input;return d.a.createElement(m.TogglableField,Object.assign({},this.props,{forceRenderResult:!n&&!!r.value&&t,input:Object(a.a)({},r,{onBlur:this.onBlur}),renderEmptyState:this.renderInput,renderInput:this.renderInput,renderResult:this.renderResult}))}}]),t}(u.PureComponent);t.a=k},488:function(e,t,n){"use strict";n.r(t);var a=n(58);n.d(t,"components",function(){return a});var r=n(774);n.d(t,"translations",function(){return r});var i=n(116);n.d(t,"name",function(){return i.d})},489:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(73),r=a.a.del["nestedCache.:namespace.items"],i=a.a.set.nestedCache;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.namespace,n=e.namespaces;return function(e){return t?e(r({namespace:t})):n&&n.length?n.forEach(function(t){return e(r({namespace:t}))}):e(i({}))}}},49:function(e,t,n){"use strict";n.r(t),n.d(t,"CLOSE_ITEM_VIEW",function(){return a}),n.d(t,"ITEM_SELECT",function(){return r}),n.d(t,"MODULE_NAME",function(){return i}),n.d(t,"NAVIGATE_CREATE",function(){return o}),n.d(t,"NAVIGATE_FILTER",function(){return c}),n.d(t,"NAVIGATE_LIST",function(){return l}),n.d(t,"NAVIGATE_ROOT",function(){return s}),n.d(t,"NAVIGATE_TREE",function(){return u}),n.d(t,"CREATE_CANCEL",function(){return d}),n.d(t,"CREATE_SUCCESS",function(){return m}),n.d(t,"DEL_SUCCESS",function(){return p}),n.d(t,"EDIT_SUCCESS",function(){return h}),n.d(t,"SEARCH_SUCCESS",function(){return f}),n.d(t,"PICKER_CLOSE",function(){return v}),n.d(t,"PICKER_PICK_ITEM",function(){return b});var a="CLOSE_ITEM_VIEW",r="ITEM_SELECT",i="resourceManager",o="NAVIGATE_CREATE",c="NAVIGATE_FILTER",l="NAVIGATE_LIST",s="NAVIGATE_ROOT",u="NAVIGATE_TREE",d="CREATE_CANCEL",m="CREATE_SUCCESS",p="DEL_SUCCESS",h="EDIT_SUCCESS",f="SEARCH_SUCCESS",v="PICKER_CLOSE",b="PICKER_PICK_ITEM"},491:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return r});var a=n(152);n.d(t,"middleware",function(){return a.middleware});var r="localStorage"},492:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return i}),n.d(t,"middleware",function(){return o});var a=n(37),r=n(960),i="logger",o=a.a.reduxLogger.enabled?function(){return Object(r.createLogger)({collapsed:!0,diff:a.a.reduxLogger.showDiff})}:null},493:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return o});var a=n(70);n.d(t,"middleware",function(){return a.e}),n.d(t,"reducer",function(){return a.f});var r=n(439);n.d(t,"constants",function(){return r});var i=n(280);n.d(t,"higherOrderComponents",function(){return i});var o="routing"},494:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(88),o=n(290),c={display:"inline-block",marginLeft:"0.25em"},l=function(e){var t=e.as,n=e.helpNotificationProps,a=e.module,l=e.textKey;return r.a.createElement(o.a,{as:t,module:a,textKey:l},r.a.createElement("div",{style:c},n&&r.a.createElement(i.FormFieldHelpIcon,{helpNotificationProps:n})))};l.defaultProps={as:"h1",helpNotificationProps:void 0},t.a=l},498:function(e,t,n){"use strict";var a=n(17),r=n(13),i=n(19),o=n(10),c=n(22),l=n(59);function s(e){return e.reduce(function(e,t){return Object(o.a)({},e,Object(i.a)({},t.name,{actionTypes:t.actionTypes,constants:t.constants,markdown:t.markdown,name:t.name,notifications:t.notifications,shortcuts:t.shortcuts,translations:t.translations}))},{})}var u=n(429);function d(e){var t=e.listenerMap,n=e.middlewareApi;Object.keys(t).forEach(function(e){var a=t[e];if(!a.started&&a.start){var r=a.start(n);a.stop=r,a.started=!0}})}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce(function(e,n){var a=n.middleware;if(!a)return e;var r=n.name,c=a(t[r]);return Object(o.a)({},e,Object(i.a)({},r,c))},{})};var p=function(e){return Object.keys(e).reduce(function(t,n){var a=e[n],r=a.reducer,c=a.name;return r?Object(o.a)({},t,Object(i.a)({},c,r)):t},{})};var h=n(475),f=n.n(h),v=function(e,t){var n=t.schemas,a=n&&n.config;if(!a)return e;var r=t.name;return Object(o.a)({},e,Object(i.a)({},r,a))},b=function(e){return e.reduce(v,{})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(n){var a=t[n],r=e[n],i=f()({schema:a,throwError:!1,type:"config"})(r);if(i){var o="Validating config for module: ".concat(n,": ").concat(JSON.stringify(i,null,2));throw new Error(o)}})};function y(e){var t=e.availableModules,n=e.config,a=e.moduleMap,r=void 0===a?{}:a,i=e.newModules,c=void 0===i?[]:i,l=e.removeModules,s=void 0===l?[]:l;(function(e){var t=b(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(e,t)}})(c)(n);var u=Object(o.a)({},r);return c.forEach(function(e){var n=e.name;if(!t[n])throw new Error("Module with name ".concat(n," is unknown"));u[n]||(u[n]=e)}),s.forEach(function(e){var t=e.name;u[t]&&delete u[t]}),u}var O=function(e){return e.newModules.reduce(function(e,t){var n=t.listener,a=t.name;return n&&n.start?Object(o.a)({},e,Object(i.a)({},a,{start:n.start,started:!1,stop:null})):e},{})};function E(e){var t=e.availableModules,n=e.config,a=e.listenerMap,i=void 0===a?{}:a,c=e.middlewareApi,l=e.middlewareMap,s=void 0===l?{}:l,u=e.moduleMap,d=void 0===u?{}:u,h=e.moduleOrder,f=void 0===h?[]:h,v=e.newModules,b=void 0===v?[]:v,g=e.removeModules,E=void 0===g?[]:g,j=y({availableModules:t,config:n,moduleMap:d,newModules:b,removeModules:E}),T=function(e){var t=e.config,n=e.middlewareMap,a=void 0===n?{}:n,r=e.newModules,i=void 0===r?[]:r,c=e.removeModules,l=void 0===c?[]:c,s=m(i,t),u=Object(o.a)({},a,s);return l.forEach(function(e){var t=e.name;u[t]&&delete u[t]}),u}({config:n,middlewareMap:s,newModules:b,removeModules:E}),S=function(e){var t=e.middlewareMap;return e.moduleOrder.map(function(e){return t[e]}).filter(function(e){return!!e})}({middlewareMap:T,moduleOrder:f}),I=function(e){var t=e.moduleMap;return Object(r.b)(p(t))}({config:n,moduleMap:j});return{listenerMap:function(e){var t=e.listenerMap,n=e.newModules,a=void 0===n?[]:n,r=e.removeModules,i=void 0===r?[]:r,c=O({newModules:a}),l=Object(o.a)({},t,c);return i.forEach(function(e){var t=e.name;if(l[t]){var n=l[t].stop;n&&n(),delete l[t]}}),l}({config:n,listenerMap:i,middlewareApi:c,newModules:b,removeModules:E}),middlewareArray:S,middlewareMap:T,moduleMap:j,reducer:I}}var j=Object(c.a)("modules:bootstrap:utilities:createRegisterModules"),T=new l.a({createSerializedModuleMap:s,registerModulesActionCreator:u.a,startListeners:d,updateModuleState:E},"modules:bootstrap:utilities:createRegisterModules");var S=n(112);var I=Object(c.a)("modules:bootstrap:utilities:createUnregisterModules"),C=new l.a({createSerializedModuleMap:s,startListeners:d,unregisterModulesActionCreator:function(e){return{payload:{modules:e.modules},type:S.BOOTSTRAP_UNREGISTER_MODULES}},updateModuleState:E},"modules:bootstrap:utilities:createUnregisterModules");var N=Object(c.a)("modules:bootstrap:enhancer"),k=new l.a({createAsyncRegisterModules:function(e){var t=e.getModuleRegisterPipe,n=e.registerModules,r=e.setModuleRegisterPipe;return function(e){var i=t();if(i.length){var o=e.filter(function(e){return i.some(function(t){return t.name===e.name})});i.push.apply(i,Object(a.a)(o))}else i.push.apply(i,Object(a.a)(e));return new Promise(function(e){setTimeout(function(){i.length&&(n(i),r([])),e(!0)},0)})}},createAsyncUnregisterModules:function(e){var t=e.getModuleRegisterPipe,n=e.getModuleUnregisterPipe,r=e.setModuleUnregisterPipe,i=e.unregisterModules;return function(e){var o=n(),c=t();return o.length?o.push(e.filter(function(e){return o.some(function(t){return t.name===e.name})||c.some(function(t){return t.name===e.name})})):o.push.apply(o,Object(a.a)(e)),new Promise(function(e){setTimeout(function(){o.length&&(i(o),r([])),e(!0)},0)})}},createRegisterModules:function(e){var t=e.availableModules,n=e.config,a=e.dynamicDispatch,r=e.getModuleState,i=e.middlewareApi,c=e.moduleOrder,l=e.setModuleState,s=e.store,u=e.updateDispatch;return function(e){j.info("Register modules start:",e.map(function(e){return e.name}).join(", "));var d=r(),m=T.updateModuleState(Object(o.a)({},d,{availableModules:t,config:n,middlewareApi:i,moduleOrder:c,newModules:e}));j.debug("Module state updated");var p=m.middlewareArray,h=m.reducer;u(p),j.debug("Dispatch updated"),s.replaceReducer(h),j.debug("Reducer replaced"),a(T.registerModulesActionCreator({config:n,modules:T.createSerializedModuleMap(e)})),T.startListeners({listenerMap:m.listenerMap,middlewareApi:i}),j.debug("Listeners started"),j.info("Register modules done"),l(m)}},createUnregisterModules:function(e){var t=e.availableModules,n=e.config,a=e.dynamicDispatch,r=e.getModuleState,i=e.middlewareApi,c=e.moduleOrder,l=e.setModuleState,s=e.store,u=e.updateDispatch;return function(e){I.info("Unregister modules start:",e.map(function(e){return e.name}).join(", "));var d=r(),m=C.updateModuleState(Object(o.a)({},d,{availableModules:t,config:n,middlewareApi:i,moduleOrder:c,removeModules:e})),p=m.middlewareArray,h=m.reducer;u(p),s.replaceReducer(h),a(C.unregisterModulesActionCreator({modules:C.createSerializedModuleMap(e)})),I.info("Unregister modules done"),l(m)}}},"modules:bootstrap:enhancer");function w(e){var t=e.config,n=e.moduleOrder,c=void 0===n?[]:n,l=c.reduce(function(e,t){return Object(o.a)({},e,Object(i.a)({},t,!0))},{});return function(e){return function(){N.info("Create store");var n=e.apply(void 0,arguments),i=function(e){var t=Object(o.a)({availableModules:[],dispatch:null,moduleRegisterPipe:[],moduleState:{},moduleUnregisterPipe:[]},e);return{getAvailableModules:function(){return t.availableModules},getDispatch:function(){return t.dispatch},getModuleRegisterPipe:function(){return t.moduleRegisterPipe},getModuleState:function(){return t.moduleState},getModuleUnregisterPipe:function(){return t.moduleUnregisterPipe},setAvailableModules:function(e){t.availableModules=e},setDispatch:function(e){t.dispatch=e},setModuleRegisterPipe:function(e){t.moduleRegisterPipe=e},setModuleState:function(e){t.moduleState=e},setModuleUnregisterPipe:function(e){t.moduleUnregisterPipe=e}}}({dispatch:n.dispatch}),s=i.getDispatch,u=i.getModuleState,d=i.setDispatch,m=i.setModuleState,p={dispatch:function(){return s().apply(void 0,arguments)},getState:n.getState},h=function(e){var t=e.map(function(e){return e(p)});d(r.c.apply(void 0,Object(a.a)(t))(n.dispatch))},f=function(){return s().apply(void 0,arguments)},v=k.createRegisterModules({availableModules:l,config:t,dynamicDispatch:f,getModuleState:u,middlewareApi:p,moduleOrder:c,setModuleState:m,store:n,updateDispatch:h}),b=k.createUnregisterModules({availableModules:l,config:t,dynamicDispatch:f,getModuleState:u,middlewareApi:p,moduleOrder:c,setModuleState:m,store:n,updateDispatch:h});return h([]),Object(o.a)({},n,{dispatch:f,registerModules:v,unregisterModules:b})}}}var x=n(247),A=["api","bootstrap","crud","search","commonUi","layout","devToolsExtension","error","form","formSupport","i18n","localStorage","logger","notifications","routing","size","user","keyboardShortcuts","resourceManager","documentation"],R=["agent","collectionMammals","curatedList","locality","storage","taxon"];n.d(t,"a",function(){return P});var F=Object(c.a)("store");function P(e){var t=e.config,n=e.initialState,i=void 0===n?{}:n,o=e.modules,c=e.viewOrder;F.info("Start createStoreMain"),F.info("Creating enhancers");var l=[w({config:t,moduleOrder:[].concat(Object(a.a)(A),Object(a.a)(R),Object(a.a)(c))}),x.enhancer&&Object(x.enhancer)()].filter(function(e){return!!e}),s=r.c.apply(void 0,Object(a.a)(l));F.info("Creating store");var u=Object(r.d)(function(e){return e},i,s);return F.info("Register modules start"),u.registerModules(o),F.info("Register modules done"),u}},499:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(75),h=n(506),f=n(111),v=n(21),b=n(636),g=n(25),y=n(31),O=n(902),E=n(39),j=n(15),T=n(136),S=n(30),I=n(133),C=n.n(I),N=n(10),k=n(38),w=n.n(k),x=n(85),A=n.n(x).a.getModels(),R=function(){var e=Object(N.a)({},A);return e=w.a.set(e,"normalizedAgent.required",["agentType","fullName"]),e=w.a.set(e,"normalizedAgent.properties.agentType",{minLength:1,type:"string"}),e=w.a.set(e,"normalizedAgent.properties.fullName",{minLength:1,type:"string"}),e=w.a.set(e,"dateRange",Object(N.a)({},e.dateRange,{allOf:[{"x-validation-date-range-end-after-start":!0},{"x-validation-date-range-valid-if-not-empty":!0},{"x-validation-date-range-no-orphan-day":!0},{"x-validation-date-range-no-orphan-month":!0}]})),e=w.a.set(e,"role.properties",Object(N.a)({},e.role.properties,{key:{type:"string"}}))}(),F=n(505),P=n(138),L=n(17),M=n(193),_={name:"agentBirthAndDeath",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.birthAndDeath"}},{componentName:"AddButton",componentProps:{textKey:"buttons.birthAndDeath"},initiallyShown:!0}].concat(Object(L.a)(Object(M.b)({baseName:"lifespan",displayDateTypeRadios:!1,displayEndDateLabel:!0,displayLabel:!1,displayStartDateLabel:!0,displaySubLabels:!0,endDateLabel:"Death date",initialDateType:"openRange",initiallyHidden:!0,stack:!0,startDateLabel:"Birth date"})))},D={name:"agentContactDetails",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.contactDetails"}},{componentName:"AddButton",componentProps:{textKey:"buttons.contactDetails"},initiallyShown:!0},{componentName:"Input",componentProps:{columnProps:{width:9},type:"text"},initiallyHidden:!0,name:"telephone",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:9},type:"text"},initiallyHidden:!0,name:"email",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:9},type:"text"},initiallyHidden:!0,name:"streetAddress",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{clear:!0,width:5},type:"text"},initiallyHidden:!0,name:"postOfficeBoxNumber",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:9},type:"text"},initiallyHidden:!0,name:"city",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:7},type:"text"},initiallyHidden:!0,name:"stateProvince",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{clear:!0,width:5},type:"text"},initiallyHidden:!0,name:"postalCode",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:9},type:"text"},initiallyHidden:!0,name:"country",wrapInField:!0}]},B={name:"agentNameDetails",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.nameDetails"}},{componentName:"AddButton",componentProps:{textKey:"buttons.nameDetails"},initiallyShown:!0},{componentName:"Input",componentProps:{columnProps:{width:8},type:"text"},initiallyHidden:!0,name:"givenName",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:8},type:"text"},initiallyHidden:!0,name:"familyName",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:10},type:"text"},initiallyHidden:!0,name:"additionalName",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:10},type:"text"},initiallyHidden:!0,name:"alsoKnownAs",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{clear:!0,width:6},type:"text"},initiallyHidden:!0,name:"title",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{clear:!0,width:4},type:"text"},initiallyHidden:!0,name:"abbreviation",wrapInField:!0}]},V={name:"agentRoles",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.affiliations"}},{componentName:"AgentRolesAccordion",containsReduxFormField:!0,name:"roles",relativeNames:["affiliation.name","dateRange","name"]}]},U=n(102),K={agentBirthAndDeath:_,agentContactDetails:D,agentNameDetails:B,agentRoles:V,agentRoot:{name:"agentRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.agent"}},{componentName:"Radio",componentProps:{labelKey:"modules.agent.fieldLabels.agentType",radioOptions:U.AGENT_TYPE_OPTIONS},name:"agentType",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:10},fluid:!0,type:"text"},name:"fullName",required:!0,wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:10},fluid:!0,type:"text"},name:"disambiguatingDescription",wrapInField:!0},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.agent",resultPrefixTextKey:"remarks.resultPrefix.agent"},name:"remarks",wrapInField:!0}]}},H=[{name:"agent",units:[K.agentRoot,K.agentNameDetails,K.agentRoles,K.agentContactDetails,K.agentBirthAndDeath,P.b,P.a]}],z=Object(S.a)(4.625),G={changeFormValue:y.e,removeArrayField:y.b,reset:y.g},q={getAllowTransition:void 0,itemSubHeader:void 0,preventLeavingForm:!1,unsavedChangesMessage:void 0},Q=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleUndoChanges=n.handleUndoChanges.bind(Object(c.a)(n)),n.changeFieldValue=n.changeFieldValue.bind(Object(c.a)(n)),n.removeArrayFieldByIndex=n.removeArrayFieldByIndex.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"changeFieldValue",value:function(e,t){this.props.changeFormValue(this.props.form,e,t)}},{key:"removeArrayFieldByIndex",value:function(e,t){this.props.removeArrayField(this.props.form,e,t)}},{key:"handleUndoChanges",value:function(){this.props.reset(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.form,a=e.formValueSelector,r=e.getAllowTransition,i=e.handleSubmit,o=e.itemHeader,c=e.itemSubHeader,l=e.preventLeavingForm,s=e.unsavedChangesMessage,d=Object(v.a)(e,["availableHeight","form","formValueSelector","getAllowTransition","handleSubmit","itemHeader","itemSubHeader","preventLeavingForm","unsavedChangesMessage"]);return u.a.createElement(j.Form,{formName:n,getAllowTransition:r,onSubmit:i(function(){}),preventLeavingForm:l,sectionSpecs:H,setFormRef:this.setFormRef,unsavedChangesMessage:s},u.a.createElement(j.FormRow,Object.assign({},d,{availableHeight:t-z,changeFieldValue:this.changeFieldValue,customParts:F.a,formName:n,formValueSelector:a,itemHeader:o,itemSubHeader:c,module:"agent",moduleName:"agent",removeArrayFieldByIndex:this.removeArrayFieldByIndex,sectionSpecs:H})))}}]),t}(s.Component);Q.defaultProps=q;var W=Object(d.c)(Object(m.b)(void 0,G))(Q),Y=Object(d.c)(Object(O.a)({enableReinitialize:!0,validate:Object(d.c)(Object(T.createMapRequiredStrings)(["agentType","fullName"]),C()({model:"normalizedAgent",models:R}))}),Object(E.createLinkFieldErrors)({fieldPaths:["fullName","disambiguatingDescription"]}))(W);var X="normalizedAgentCreate",J={itemId:void 0},Z=function(e,t){return"POP"!==t&&e.search.includes("mainColumn=edit")},$=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).formValueSelector=Object(b.a)(X),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.itemId,e.onInteraction),n=Object(v.a)(e,["itemId","onInteraction"]),a=function(e){var t=e.agent,n=void 0===t?{}:t,a=JSON.parse(JSON.stringify(n));return a.agentType||(a.agentType="person"),a}({agent:{}});return u.a.createElement(Y,Object.assign({},n,{displayBackButton:!0,displayResetButton:!0,form:X,formValueSelector:this.formValueSelector,getAllowTransition:Z,initialValues:a,itemHeader:u.a.createElement(g.ModuleTranslate,{capitalize:!0,module:"agent",textKey:"newAgent"}),onClose:function(e){e.preventDefault(),t("FORM_CANCEL")},preventLeavingForm:!0,unsavedChangesMessage:"You have not saved the new record, are you sure you want to leave?"}))}}]),t}(s.PureComponent);$.defaultProps=J;var ee=$,te=n(51),ne=n(96),ae="normalizedAgentEdit",re={nestedItem:void 0},ie=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).formValueSelector=Object(b.a)(ae),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nestedItem,n=e.onInteraction,a=Object(v.a)(e,["nestedItem","onInteraction"]);if(!t)return null;var r=t.resourceActivities;return u.a.createElement(Y,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:ae,formValueSelector:this.formValueSelector,initialValues:t,onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},onInteraction:n,resourceActivities:r}))}}]),t}(s.PureComponent);ie.defaultProps=re;var oe=Object(d.c)(Object(m.b)(function(e,t){var n=t.item,a=Object(ne.c)(n),r=a&&te.a.normalizedAgent.getOne(e,a);return{children:Object(ne.a)(n).map(function(t){return te.a.normalizedAgent.getOne(e,t)||{id:t}}),parent:r}}))(ie),ce=n(1),le=n(22),se=n(99),ue=Object(le.a)("modules:agent:BaseForm"),de=function(){},me=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){ue.render();var e=this.props,t=e.error,n=e.handleSubmit;return u.a.createElement(ce.i,{padded:!0},u.a.createElement(ce.i.Column,null,u.a.createElement(ce.h,{error:!!t,onSubmit:n(de)},u.a.createElement(ce.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(ce.i.Row,null,u.a.createElement(ce.i.Column,{width:16},u.a.createElement(se.a,{autoComplete:"off",component:j.Input,enableHelpNotifications:!1,label:"Full agent name",model:"agent",module:"agent",name:"fullName",type:"text"})),u.a.createElement(ce.i.Column,{width:16},u.a.createElement(se.a,{autoComplete:"off",component:j.DropdownSearch,enableHelpNotifications:!1,fluid:!0,label:"Agent type",model:"agent",module:"agent",name:"agentType",options:U.AGENT_TYPE_OPTIONS,type:"dropdown-search-local"})))))))}}]),t}(s.Component);me.defaultProps={error:""};var pe=Object(O.a)({destroyOnUnmount:!1,form:"normalizedAgentFilter"})(me);function he(e){var t=e.values,n=void 0===t?{}:t,a=[];return n.fullName&&a.push({filter:{filterFunction:"fullNameSearch",input:{value:n.fullName}}}),n.agentType&&a.push({filter:{filterFunction:"matchAgentType",input:{value:n.agentType}}}),a.length?{and:a}:{}}var fe=n(20),ve=n.n(fe),be=n(56);function ge(e){var t=JSON.parse(JSON.stringify(e)),n=ve.a.get(t,"roles");return n&&n.length&&(t.roles=n.map(function(e){var t=Object(N.a)({},e);return delete t.key,t}).filter(function(e){return!Object(be.isEmpty)(e)})),t}var ye=[{fieldPath:"fullName",label:"modules.agent.fieldLabels.fullName",width:250},{fieldPath:"disambiguatingDescription",label:"modules.agent.fieldLabels.disambiguatingDescription",width:250},{fieldPath:"givenName",label:"modules.agent.tableColumns.givenName",width:200},{fieldPath:"familyName",label:"modules.agent.tableColumns.familyName",width:200},{fieldPath:"additionalName",label:"modules.agent.fieldLabels.additionalName",width:200},{fieldPath:"abbreviation",label:"modules.agent.fieldLabels.abbreviation",width:200},{fieldPath:"alsoKnownAs",label:"modules.agent.fieldLabels.alsoKnownAs",width:200},{fieldPath:"remarks",label:"modules.agent.fieldLabels.remarks",width:200}],Oe=function(e){var t=e.nestedItem,n=t.agentType,a=t.fullName;return a?u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},a),"(",n,")"):""},Ee=["resourceActivities"],je={include:Ee,refresh:!0,relationships:Ee,resolveRelationships:["resourceActivity"],resource:"normalizedAgent"},Te=["specimens"],Se=["attributes.name:asc"],Ie=function(e){return e?{itemHeader:e.fullName,itemSubHeader:Object(p.capitalizeFirstLetter)(e.agentType)}:{}},Ce={getAgent:h.actionCreators.normalizedAgent.getOne},Ne={itemId:void 0},ke=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleInteraction=n.handleInteraction.bind(Object(c.a)(n)),n.renderCreateForm=n.renderCreateForm.bind(Object(c.a)(n)),n.renderEditForm=n.renderEditForm.bind(Object(c.a)(n)),n.renderFilterForm=n.renderFilterForm.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.onNavigation(e,t)}},{key:"renderEditForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.itemId;return u.a.createElement(oe,Object.assign({},e,{itemId:t,onInteraction:this.handleInteraction}))}},{key:"renderCreateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.a.createElement(ee,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"renderFilterForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u.a.createElement(pe,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"render",value:function(){return u.a.createElement(f.ResourceManager,Object.assign({},this.props,{buildEditItemHeaders:Ie,buildFilterQuery:he,createGetNestedItemHocInput:je,filterHeader:"Find agents",ItemTitle:Oe,onInteraction:this.handleInteraction,relationshipsToCheckBeforeDelete:Te,renderCreateForm:this.renderCreateForm,renderEditForm:this.renderEditForm,renderFilterForm:this.renderFilterForm,resource:"normalizedAgent",sortOrder:Se,tableColumnSpecifications:ye,transformOutput:ge,treeEnabled:!1}))}}]),t}(s.Component);ke.defaultProps=Ne;t.a=Object(d.c)(Object(m.b)(void 0,Ce))(ke)},50:function(e,t,n){"use strict";n.r(t);var a=n(21),r=n(10),i=n(156),o=n(4),c=n(6),l=n(8),s=n(5),u=n(9),d=n(7),m=n(0),p=n.n(m),h=n(12),f=n.n(h),v=n(101);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.module,n=void 0===t?"":t,h=e.scope,b=void 0===h?"":h;return function(e){var t={language:f.a.string.isRequired,translations:f.a.object.isRequired},h=function(t){function m(e){var t;return Object(o.a)(this,m),(t=Object(l.a)(this,Object(s.a)(m).call(this,e))).createModuleTranslate=t.createModuleTranslate.bind(Object(u.a)(t)),t.moduleTranslate=t.moduleTranslate.bind(Object(u.a)(t)),t.translate=t.translate.bind(Object(u.a)(t)),t}return Object(d.a)(m,t),Object(c.a)(m,[{key:"createModuleTranslate",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scope,a=void 0===n?"":n;return function(n){var o=Object(i.a)({},n);return t.moduleTranslate(Object(r.a)({module:e,scope:a},o))}}},{key:"moduleTranslate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.module,i=void 0===t?n:t,o=e.modules,c=e.textKey,l=e.scope,s=void 0===l?b:l,u=Object(a.a)(e,["module","modules","textKey","scope"]),d=o&&o.length?o:[i],m=Object(v.a)({modules:d,scope:s,textKey:c});return this.translate(Object(r.a)({textKeys:m},u))}},{key:"translate",value:function(e){var t=e.capitalize,n=e.fallback,a=e.params,r=e.textKey,i=e.textKeys,o=this.context,c=o.language,l=o.translations,s=Object(v.c)(l,{language:c,params:a,textKey:r,textKeys:i}),u=t&&s?Object(v.b)(s):s;return u||console.warn("Translation not found for path: ".concat(r),l),n&&(u===r||u&&i&&i[0]&&u.indexOf(i[0])>-1)?n:u||r}},{key:"render",value:function(){return p.a.createElement(e,Object.assign({i18n:{createModuleTranslate:this.createModuleTranslate,moduleTranslate:this.moduleTranslate,translate:this.translate}},this.props))}}]),m}(m.Component);return h.contextTypes=t,h}}n.d(t,"withI18n",function(){return b})},500:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setBreakpoint",function(){return c}),n.d(a,"setHeight",function(){return l}),n.d(a,"setWidth",function(){return s});var r={};n.r(r),n.d(r,"getClientHeight",function(){return h}),n.d(r,"getClientWidth",function(){return f}),n.d(r,"updateBreakpoint",function(){return v}),n.d(r,"start",function(){return b});var i={};n.r(i),n.d(i,"config",function(){return y});var o=n(132);function c(e){return{payload:e,type:o.SIZE_SET_BREAKPOINT}}function l(e){return{payload:e,type:o.SIZE_SET_HEIGHT}}function s(e){return{payload:e,type:o.SIZE_SET_WIDTH}}var u=n(139),d=n(90),m=n(56),p=n(97),h=function(){return window.innerHeight||document.documentElement.clientHeight},f=function(){return window.innerWidth||document.documentElement.clientWidth},v=function(e){var t=e.dispatch,n=(0,e.getState)(),a=h(),r=f(),i=p.a.getBreakpointByWidth(n,r),o=p.a.getCurrentBreakpoint(n),u=p.a.getHeight(n),d=p.a.getWidth(n);i!==o&&t(c(i)),a!==u&&t(l(a)),r!==d&&t(s(r))},b=function(e){var t=e.dispatch,n=e.getState;v({dispatch:t,getState:n});var a=Object(m.throttle)(function(){v({dispatch:t,getState:n})},150);return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}},g=[u.SIZE_SMALL,u.SIZE_MEDIUM,u.SIZE_LARGE],y={additionalProperties:!1,properties:{breakpoints:{items:{additionalProperties:!1,properties:{maxWidth:{type:"number"},size:{enum:g,type:"string"}},required:["size"],type:"object"},maxItems:3,minItems:3,type:"array",uniqueItems:!0},currentBreakpoint:{additionalProperties:!1,properties:{size:{enum:g,type:"string"}},required:["size"],type:"object"}},required:["breakpoints"]},O=n(438),E=n(10),j=n(126),T=n(112),S={breakpoints:[],currentBreakpoint:null,width:null};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.BOOTSTRAP_REGISTER_MODULES:var n=e;return Object(j.a)(t,u.MODULE_NAME)&&(n=Object(j.c)({action:t,moduleName:u.MODULE_NAME,state:e})),n;case o.SIZE_SET_BREAKPOINT:return Object(E.a)({},e,{currentBreakpoint:t.payload});case o.SIZE_SET_HEIGHT:return Object(E.a)({},e,{height:t.payload});case o.SIZE_SET_WIDTH:return Object(E.a)({},e,{width:t.payload});default:return e}}n.d(t,"name",function(){return C}),n.d(t,"actionCreators",function(){return a}),n.d(t,"actionTypes",function(){return o}),n.d(t,"constants",function(){return u}),n.d(t,"globalSelectors",function(){return p.a}),n.d(t,"higherOrderComponents",function(){return d}),n.d(t,"listener",function(){return r}),n.d(t,"reducer",function(){return I}),n.d(t,"schemas",function(){return i}),n.d(t,"selectors",function(){return O});var C=u.MODULE_NAME},501:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"LOG_IN_SUCCESS",function(){return p});var r={};n.r(r),n.d(r,"logout",function(){return f});var i=n(115),o=n(61),c=n(662),l=n(131),s=n(273),u=n(651),d=n(88),m=n(77),p={component:d.Flash,componentProps:{headerKey:"modules.user.welcomeBack"},displayType:m.FIXED,priority:10,triggerActions:[o.USER_LOG_IN_SUCCESS],ttl:3e3,type:"LOG_IN_SUCCESS"},h=n(442),f={code:"lo",description:"LOGOUT_USER"},v=n(66),b=n(152),g=n(70),y=n(94),O=n(126),E=n(112),j=n(281),T=v.a.getAuthToken,S=v.a.getUserPreferencesLanguage;function I(){return function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var r=e(a);switch(a.type){case o.USER_LOG_IN_SUCCESS:t(b.actionCreators.setItem(l.AUTH_TOKEN_KEY,a.payload)),t(Object(i.getUser)());break;case o.USER_LOG_OUT_SUCCESS:t(Object(g.d)("/"));break;case o.USER_GET_USER_SUCCESS:t(Object(i.getUserPreferences)());break;case o.USER_GET_USER_FAIL:t(Object(i.logout)());break;case o.USER_GET_USER_PREFERENCES_SUCCESS:var c=S(n());c&&t(Object(j.setLanguage)(c));break;case E.BOOTSTRAP_REGISTER_MODULES:if(Object(O.a)(a,l.MODULE_NAME))T(n())&&t(Object(i.getUser)());break;case y.KEYBOARD_SHORTCUTS_TRIGGER:a.payload.code===f.code&&t(Object(i.logout)())}return r}}}}var C=n(10),N={config:null,loading:!1,preferences:null,user:null};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.USER_GET_USER_REQUEST:return Object(C.a)({},e,{loading:!0});case o.USER_GET_USER_SUCCESS:return Object(C.a)({},e,{loading:!1,user:t.payload});case o.USER_GET_USER_FAIL:case o.USER_LOG_OUT_SUCCESS:case o.USER_LOG_IN_FAIL:return Object(C.a)({},e,{loading:!1,preferences:null,user:null});case o.USER_GET_USER_PREFERENCES_SUCCESS:case o.USER_UPDATE_USER_PREFERENCES_SUCCESS:return Object(C.a)({},e,{preferences:t.payload});default:return e}}var w=n(901);n.d(t,"name",function(){return x}),n.d(t,"actionCreators",function(){return i}),n.d(t,"actionTypes",function(){return o}),n.d(t,"components",function(){return c}),n.d(t,"constants",function(){return l}),n.d(t,"endpoints",function(){return s}),n.d(t,"globalSelectors",function(){return v.a}),n.d(t,"higherOrderComponents",function(){return u}),n.d(t,"middleware",function(){return I}),n.d(t,"notifications",function(){return a}),n.d(t,"reducer",function(){return k}),n.d(t,"selectors",function(){return h}),n.d(t,"shortcuts",function(){return r}),n.d(t,"translations",function(){return w});var x=l.MODULE_NAME},502:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SUCCESS",function(){return l});var r=n(183),i=n(165),o=n(88),c=n(77),l={collision:c.COLLISION_REPLACE,component:o.Flash,displayType:c.FIXED,level:"success",priority:20,ttl:2e3,type:"SUCCESS"},s=n(437),u=n(144);function d(){return function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var o=e(a),l=u.a.getSpecificationTerminateActionMap(n());l[a.type]&&l[a.type].forEach(function(e){u.a.getNotificationsByType(n(),e).forEach(function(e){var n=e.sequentialId;t(Object(r.removeNotification)({sequentialId:n}))})});var s=u.a.getSpecificationTriggerActionMap(n());switch(s[a.type]&&s[a.type].forEach(function(e){t(Object(r.createNotification)({type:e}))}),a.type){case i.NOTIFICATIONS_CREATE_NOTIFICATION:var d=a.payload,m=d.sequentialId,p=d.collision,h=d.type;if(p===c.COLLISION_REPLACE)u.a.getNotificationsByType(n(),h).forEach(function(e){var n=e.sequentialId;m!==n&&t(Object(r.removeNotification)({sequentialId:n}))})}return o}}}}var m=n(10),p=n(19),h=n(112),f=n(126),v=Object(p.a)({activeNotifications:{}},c.NOTIFICATION_SPECIFICATIONS,{});function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.BOOTSTRAP_REGISTER_MODULES:return Object(f.b)({action:t,customRegisterKey:c.NOTIFICATION_SPECIFICATIONS,ignoreModuleNames:!0,property:c.NOTIFICATIONS,state:e});case h.BOOTSTRAP_UNREGISTER_MODULES:return Object(f.d)({action:t,customRegisterKey:c.NOTIFICATION_SPECIFICATIONS,ignoreModuleNames:!0,property:c.NOTIFICATIONS,state:e});case i.NOTIFICATIONS_CREATE_NOTIFICATION:var n=t.payload.sequentialId;return Object(m.a)({},e,{activeNotifications:Object(m.a)({},e.activeNotifications,Object(p.a)({},n,t.payload))});case i.NOTIFICATIONS_REMOVE_NOTIFICATION:var a=t.payload.sequentialId,r=Object(m.a)({},e,{activeNotifications:Object(m.a)({},e.activeNotifications)});return delete r.activeNotifications[a],r;default:return e}}n.d(t,"name",function(){return g}),n.d(t,"actionCreators",function(){return r}),n.d(t,"actionTypes",function(){return i}),n.d(t,"components",function(){return o}),n.d(t,"constants",function(){return c}),n.d(t,"globalSelectors",function(){return u.a}),n.d(t,"middleware",function(){return d}),n.d(t,"notifications",function(){return a}),n.d(t,"reducer",function(){return b}),n.d(t,"selectors",function(){return s});var g=c.MODULE_NAME},503:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"config",function(){return m});var r=n(281),i=n(271),o=n(25),c="markdown",l="i18n",s="translations",u=n(50),d=["en","sv"],m={additionalProperties:!1,properties:{availableLanguages:{items:[{enum:d,type:"string"}],minItems:1,type:"array",uniqueItems:!0},defaultLanguage:{enum:d,type:"string"},language:{enum:d,type:"string"},translations:{type:"object"}}},p=n(436),h=n(107),f=n(10),v=n(112),b=n(126),g={availableLanguages:["en","sv"],defaultLanguage:"en",language:"en",markdown:{},translations:{}};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.BOOTSTRAP_REGISTER_MODULES:var n=e;return Object(b.a)(t,l)&&(n=Object(b.c)({action:t,moduleName:l,state:e})),n=Object(b.b)({action:t,property:s,scopeUnderModules:!0,state:n}),n=Object(b.b)({action:t,property:c,scopeUnderModules:!0,state:n});case v.BOOTSTRAP_UNREGISTER_MODULES:var a=Object(b.d)({action:t,property:s,scopeUnderModules:!0,state:e});return Object(b.d)({action:t,property:c,scopeUnderModules:!0,state:a});case i.I18N_SET_LANGUAGE:return Object(f.a)({},e,{language:t.payload});default:return e}}n.d(t,"name",function(){return O}),n.d(t,"actionCreators",function(){return r}),n.d(t,"actionTypes",function(){return i}),n.d(t,"components",function(){return o}),n.d(t,"globalSelectors",function(){return h.a}),n.d(t,"higherOrderComponents",function(){return u}),n.d(t,"reducer",function(){return y}),n.d(t,"schemas",function(){return a}),n.d(t,"selectors",function(){return p});var O=l},504:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MODULE_NAME",function(){return o});var r={};n.r(r),n.d(r,"ERROR",function(){return s});var i=n(154),o="error",c=n(88),l=n(77),s={collision:l.COLLISION_REPLACE,component:c.Flash,displayType:l.FIXED,level:"error",priority:20,ttl:8e3,type:"ERROR"},u=n(37),d=n(246),m=n(272),p=n(66);function h(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).debug,t=void 0===e||e;return function(e){var n=e.dispatch,a=e.getState;return function(e){return function(r){var i=e(r);if(!t)return i;if(r.error&&r.payload){var o=r.payload&&r.payload.requestError||r.payload||{};if(o&&o.code?(console.log("Error in action ".concat(r.type,":"),r.payload),n(Object(d.a)({componentProps:{description:"".concat(o.description,": ").concat(o.detail),header:o.code},type:"ERROR"}))):u.a.isDevelopment&&(n(Object(d.a)({componentProps:{description:r.payload&&r.payload.message,header:"Unknown error"},type:"ERROR"})),console.log(r.payload)),r.payload&&(401===r.payload.status||403===r.payload.status))p.a.getUserLoggedIn(a())&&n(Object(m.a)())}return i}}}}var f=n(775);n.d(t,"name",function(){return v}),n.d(t,"components",function(){return i}),n.d(t,"constants",function(){return a}),n.d(t,"middleware",function(){return h}),n.d(t,"notifications",function(){return r}),n.d(t,"translations",function(){return f});var v=o},505:function(e,t,n){"use strict";var a=n(157),r=n(282),i=n(21),o=n(0),c=n.n(o),l=n(13),s=n(16),u=n(1),d=n(268),m=n.n(d),p=n(22),h=n(58),f=n(116),v=n(39),b=n(134),g=n(4),y=n(6),O=n(8),E=n(5),j=n(9),T=n(7),S=n(50),I=n(15),C=Object(p.a)("modules:agent:AgentRolesAccordion/AgentRoleContent"),N=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(O.a)(this,Object(E.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(j.a)(n)),n}return Object(T.a)(t,e),Object(y.a)(t,[{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.handleSetInactive,a=e.index,r=e.removeArrayFieldByIndex;n(a),r(t(),a)}},{key:"render",value:function(){var e=this.props,t=e.getPath,n=e.i18n.moduleTranslate;return C.render(),c.a.createElement(u.i,{textAlign:"left",verticalAlign:"bottom"},c.a.createElement(u.i.Row,{className:"relaxed"},c.a.createElement(u.i.Column,{width:10},c.a.createElement(I.Field,{autoComplete:"off",component:I.Input,fluid:!0,module:"agent",name:t("name"),type:"text"})),c.a.createElement(u.i.Column,{width:10},c.a.createElement(I.Field,{autoComplete:"off",component:I.Input,fluid:!0,module:"agent",name:t("affiliation.name"),type:"text"})),c.a.createElement(u.i.Column,{width:16},c.a.createElement(I.Field,{component:I.RangeDate,displayDateTypeRadios:!1,displayEndDateLabel:!0,displayLabel:!1,displayStartDateLabel:!0,displaySubLabels:!0,endDateLabel:n({capitalize:!0,textKey:"endDate"}),initialDateType:"openRange",module:"agent",name:t("dateRange"),stack:!0,startDateLabel:n({capitalize:!0,textKey:"startDate"})})),c.a.createElement(u.i.Column,{textAlign:"right",width:16},c.a.createElement(I.ConfirmationPopup,{cancelButtonText:n({capitalize:!0,textKey:"cancel"}),confirmButtonText:n({capitalize:!0,textKey:"delete"}),header:n({capitalize:!0,textKey:"other.removeThisAgentRole"}),hideOnScroll:!0,onConfirm:this.handleRemove,text:n({capitalize:!0,textKey:"remove"})}))))}}]),t}(o.Component),k=Object(l.c)(Object(S.withI18n)({module:"agent"}),Object(v.pathBuilder)())(N),w=n(84),x=n(100),A=Object(p.a)("modules:agent:AgentRolesAccordion/AgentRoleTitle"),R={affiliation:void 0,dateRange:void 0,invalidDateRange:!1,name:void 0};function F(e){var t=e.active,n=e.affiliation,a=e.invalidDateRange,r=e.name,i=e.dateRange;A.render();var o=[i&&[i.startDate&&Object(w.buildYYYYMMDD)(i.startDate),i.endDate&&Object(w.buildYYYYMMDD)(i.endDate)],r,n&&n.name].filter(function(e){return!!e}).join("; ");return c.a.createElement(u.i,{className:a&&!t?"error":void 0},c.a.createElement(u.i.Column,null,c.a.createElement(u.k,{name:"dropdown"}),!t&&o))}F.defaultProps=R;var P=Object(l.c)(Object(v.pathBuilder)(),Object(s.b)(function(e,t){var n=t.formName,a=t.getPath;return{invalidDateRange:x.a.getAnyFieldIsInvalid(e,{fieldNames:[a("dateRange")],formName:n})}}))(F),L=b.a.AddButton,M=Object(p.a)("modules:agent:AgentRolesAccordion"),_=function(e){var t=e.agentRoles,n=e.changeFieldValue,a=e.formName,r=e.name,o=e.removeArrayFieldByIndex;return M.render(),c.a.createElement(c.a.Fragment,null,t&&t.length>0&&c.a.createElement(u.i.Column,{width:16},c.a.createElement(h.Accordion,{expandFirstItemOnMountIfEmptyOrOnlyHasKey:!0,initialActiveMode:f.a,items:t,renderContent:function(e){var t=e.handleSetInactive,n=e.index;return c.a.createElement(k,{handleSetInactive:t,index:n,removeArrayFieldByIndex:o})},renderTitle:function(e){var n=e.index,r=Object(i.a)(e,["index"]);return c.a.createElement(P,Object.assign({formName:a,index:n},t[n]||{},r))}})),c.a.createElement(u.i.Column,{width:16},c.a.createElement(L,{id:"add-role",module:"agent",onClick:function(e){e.preventDefault();var a=t&&t.length||0;n("".concat(r,".").concat(a),{key:m()()})},textKey:"other.addAgentRole"})))};_.defaultProps={agentRoles:[]};var D=Object(l.c)(Object(s.b)(function(e,t){return{agentRoles:(0,t.formValueSelector)(e,t.name)}}),Object(v.pathBuilder)())(_),B=n(460);t.a=Object(a.a)({AgentDropdownPickerSearch:r.a,AgentRolesAccordion:D,TogglableAgentDropdownPickerSearch:B.a})},506:function(e,t,n){"use strict";n.r(t);var a,r=n(52),i=n(35),o=n(46),c=n(445),l=n(51),s=n(19),u=n(13),d=n(182),m=n(73),p=Object(u.b)((a={},Object(s.a)(a,r.KEY_OBJECT_NAMSPACE,m.c),Object(s.a)(a,r.RESOURCES_NAMESPACE,d.a.reducer),a)),h=d.a.selectors;n.d(t,"name",function(){return f}),n.d(t,"actionCreators",function(){return o.a}),n.d(t,"actionTypes",function(){return c.a}),n.d(t,"constants",function(){return r}),n.d(t,"globalSelectors",function(){return l.a}),n.d(t,"higherOrderComponents",function(){return i}),n.d(t,"reducer",function(){return p}),n.d(t,"selectors",function(){return h});var f=r.MODULE_NAME},507:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MODULE_NAME",function(){return o});var r=n(166),i=n(94),o="keyboardShortcuts",c=n(440),l=n(191),s=n(10),u=n(38),d=n.n(u),m={layer:"",shortcuts:{},showInfo:!1};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.KEYBOARD_SHORTCUTS_SET_LAYER:return Object(s.a)({},e,{layer:t.payload});case i.KEYBOARD_SHORTCUTS_REGISTER:return d.a.set(e,"shortcuts.".concat(t.payload.command),t.payload);case i.KEYBOARD_SHORTCUTS_UNREGISTER:return d.a.del(e,"shortcuts.".concat(t.payload.command));case i.KEYBOARD_SHORTCUTS_SET_MODAL_VISIBLE:return Object(s.a)({},e,{showInfo:!0});case i.KEYBOARD_SHORTCUTS_SET_MODAL_HIDDEN:return Object(s.a)({},e,{showInfo:!1});default:return e}}var h=n(776);n.d(t,"name",function(){return f}),n.d(t,"actionCreators",function(){return r}),n.d(t,"actionTypes",function(){return i}),n.d(t,"constants",function(){return a}),n.d(t,"globalSelectors",function(){return l.a}),n.d(t,"reducer",function(){return p}),n.d(t,"selectors",function(){return c}),n.d(t,"translations",function(){return h});var f=o},508:function(e,t,n){"use strict";var a=n(156),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(12),m=n.n(d),p=n(13),h=n(16),f=n(92),v=(n(130),{applicationLayer:m.a.string}),b={applicationLayer:m.a.string.isRequired},g={setApplicationLayer:f.a.set.applicationLayer};function y(e){var t=e.layer;if(!t)throw new Error("Layer is required");var n={layer:t};return function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(l.a)(n,t),Object(i.a)(n,[{key:"getChildContext",value:function(){return{applicationLayer:this.props.layer}}},{key:"componentWillMount",value:function(){this.props.setApplicationLayer(this.props.layer)}},{key:"componentWillUnmount",value:function(){var e=this.context.applicationLayer;this.props.setApplicationLayer(e||"")}},{key:"render",value:function(){var t=Object(a.a)({},this.props);return u.a.createElement(e,t)}}]),n}(s.Component);return t.contextTypes=v,t.childContextTypes=b,t.defaultProps=n,Object(p.c)(Object(h.b)(void 0,g))(t)}}n(9);n.d(t,"a",function(){return y})},51:function(e,t,n){"use strict";var a=n(182);t.a=a.a.globalSelectors},510:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"registerModules",function(){return r.a});var r=n(429),i=n(112),o=n(297);n.d(t,"actionCreators",function(){return a}),n.d(t,"actionTypes",function(){return i}),n.d(t,"components",function(){return o}),n.d(t,"name",function(){return"bootstrap"})},511:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(66),i=n(475),o=n.n(i),c=n(955),l=n(168),s=n.n(l),u=function(e){var t=r.a.getAuthToken(e);return t?{Authorization:"bearer ".concat(t)}:{}};function d(e){var t=function(e,t){return o()({schema:t,type:"config"})(e)};return function(n){var r=n.dispatch,i=n.getState,o=Object(a.a)({},e,{mapHeaders:function(e){return Object(a.a)({},e,u(i()))},systemValidate:t}),l=Object(c.createJsonApiClient)({apiConfigInput:o,createEndpoint:s.a});return function(e){return function(t){return"function"===typeof t?t(r,i,{apiClient:l}):e(t)}}}}n.d(t,"middleware",function(){return d}),n.d(t,"name",function(){return"api"})},513:function(e,t,n){"use strict";n.r(t);var a=n(63),r=n(70),i=n(92);function o(){return function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var o=e(a);switch(a.type){case r.b:i.d.get["leftSidebar.isOpen"](n())&&t(i.a.set["leftSidebar.isOpen"](!1))}return o}}}}var c=n(130);n.d(t,"actionTypes",function(){return i.b}),n.d(t,"components",function(){return a}),n.d(t,"constants",function(){return i.c}),n.d(t,"middleware",function(){return o}),n.d(t,"name",function(){return c.c}),n.d(t,"reducer",function(){return i.e})},516:function(e,t,n){"use strict";var a=n(156),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(12),m=n.n(d),p=n(13),h=n(16),f=n(166),v={layer:m.a.string},b={layer:m.a.string.isRequired},g={setLayer:f.setLayer};function y(e){var t=e.layer;if(!t)throw new Error("Layer is required");var n={layer:t};return function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(l.a)(n,t),Object(i.a)(n,[{key:"getChildContext",value:function(){return{layer:this.props.layer}}},{key:"componentWillMount",value:function(){this.props.setLayer(this.props.layer)}},{key:"componentWillUnmount",value:function(){var e=this.context.layer;this.props.setLayer(e||"")}},{key:"render",value:function(){var t=Object(a.a)({},this.props);return u.a.createElement(e,t)}}]),n}(s.Component);return t.contextTypes=v,t.childContextTypes=b,t.defaultProps=n,Object(p.c)(Object(h.b)(void 0,g))(t)}}n.d(t,"a",function(){return y})},517:function(e,t,n){"use strict";var a=n(157),r=n(21),i=n(4),o=n(6),c=n(8),l=n(5),s=n(7),u=n(0),d=n.n(u),m=n(75),p=n(15),h=n(108),f=[h.CONTINENT,h.COUNTRY,h.DISTRICT,h.PROVINCE,h.PLANET].map(function(e){return{key:e,text:Object(m.capitalizeFirstLetter)(e),value:e}}),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disableLevels,n=e.input,a=Object(r.a)(e,["disableLevels","input"]),i=n.value,o=f;t.length&&(o=f.filter(function(e){var n=e.key;return!t.includes(n)}));var c=t.includes(i);return d.a.createElement(p.DropdownSearch,Object.assign({},a,{disableClearValue:c,disabled:c,input:n,module:"locality",options:o,selectedOption:c?{key:i,text:Object(m.capitalizeFirstLetter)(i),value:i}:void 0,type:"dropdown-search-local"}))}}]),t}(u.Component);v.defaultProps={disableLevels:[]};var b=v,g=n(351),y=n(276);t.a=Object(a.a)({GeographicLevelDropdown:b,LocalityDropdownPickerSearch:g.a,LocalityDropdownSearch:y.a})},52:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"RESOURCES_NAMESPACE",function(){return r}),n.d(t,"KEY_OBJECT_NAMSPACE",function(){return i}),n.d(t,"OPERATION_TYPE_CREATE",function(){return o}),n.d(t,"OPERATION_TYPE_DEL",function(){return c}),n.d(t,"OPERATION_TYPE_GET_MANY",function(){return l}),n.d(t,"OPERATION_TYPE_GET_ONE",function(){return s}),n.d(t,"OPERATION_TYPE_QUERY",function(){return u}),n.d(t,"OPERATION_TYPE_UPDATE",function(){return d}),n.d(t,"ALL_OPERATION_TYPES",function(){return m}),n.d(t,"ACTION_KEY_SET_INCLUDED",function(){return p}),n.d(t,"API_ACTION_TYPE_FAIL",function(){return h}),n.d(t,"API_ACTION_TYPE_REQUEST",function(){return f}),n.d(t,"API_ACTION_TYPE_SUCCESS",function(){return v}),n.d(t,"SELECTOR_TYPE_GET_ALL_AS_OPTIONS",function(){return b}),n.d(t,"ALL_CUSTOM_SELECTOR_TYPES",function(){return g}),n.d(t,"apiActionTypes",function(){return y});var a="crud",r="resources",i="keyObject",o="create",c="del",l="getMany",s="getOne",u="query",d="update",m=[o,c,l,s,u,d],p="setIncluded",h="fail",f="request",v="success",b="getAllAsOptions",g=[b],y={API_ACTION_TYPE_FAIL:h,API_ACTION_TYPE_REQUEST:f,API_ACTION_TYPE_SUCCESS:v}},58:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(19),i=n(4),o=n(6),c=n(8),l=n(5),s=n(9),u=n(7),d=n(0),m=n.n(d),p=n(1),h=n(56),f=n(22),v=n(116),b=Object(f.a)("modules:commonUi:Accordion"),g={className:void 0,delayItemRenderUntilActive:!1,expandFirstItemOnMountIfEmptyOrOnlyHasKey:!1,expandItemOnAdd:!0,fluid:!0,getShouldExpandFirstItemOnMount:void 0,getShouldRenderItem:void 0,initialActiveMode:v.a,items:[],renderActiveOnly:!1,renderContent:void 0,selectMode:v.f,styled:!0},y=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleSetActive=n.handleSetActive.bind(Object(s.a)(n)),n.handleSetInactive=n.handleSetInactive.bind(Object(s.a)(n)),n.handleToggleActive=n.handleToggleActive.bind(Object(s.a)(n)),n.isActive=n.isActive.bind(Object(s.a)(n)),n.shouldRenderContent=n.shouldRenderContent.bind(Object(s.a)(n));var a=e.initialActiveMode,r=e.items,o={hasBeenActive:{}};return a===v.b?r.forEach(function(e,t){o[t]=!0,o.hasBeenActive[t]=!0}):a===v.c&&(o[0]=!0,o.hasBeenActive[0]=!0),n.state=o,n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.expandFirstItemOnMountIfEmptyOrOnlyHasKey,n=e.getShouldExpandFirstItemOnMount,a=e.getShouldRenderItem,r=e.items;if(1===r.length&&t&&(Object(h.isEmpty)(r[0])||1===Object.keys(r[0]).length&&void 0!==r[0].key)&&this.handleSetActive(0),a){var i,o=r.filter(function(e,t){var n=a(e);return n&&(i=t),n});1===o.length&&n&&n(o[0])&&this.handleSetActive(i)}}},{key:"componentWillReceiveProps",value:function(e){this.props.expandItemOnAdd&&e.items.length>this.props.items.length&&this.handleSetActive(e.items.length-1)}},{key:"handleSetInactive",value:function(e){this.state[e]&&this.setState(Object(r.a)({},e,!1))}},{key:"handleSetActive",value:function(e){var t=this;this.state[e]||this.setState(function(n){var i=Object(a.a)({},n);return t.props.delayItemRenderUntilActive&&(i.hasBeenActive=Object(a.a)({},t.state.hasBeenActive,Object(r.a)({},e,!0))),t.props.selectMode===v.f&&(i=Object.keys(n).reduce(function(e,t){return Number.isNaN(Number(t))?e:Object(a.a)({},e,Object(r.a)({},t,!1))},i)),i[e]=!0,i})}},{key:"handleToggleActive",value:function(e){this.state[e]?this.handleSetInactive(e):this.handleSetActive(e)}},{key:"isActive",value:function(e){return!!this.state[e]}},{key:"shouldRenderContent",value:function(e){var t=this.props,n=t.delayItemRenderUntilActive,a=t.renderActiveOnly;return n?this.state.hasBeenActive[e]||this.isActive(e):!a||this.isActive(e)}},{key:"render",value:function(){var e=this;b.render();var t=this.props,n=t.className,r=t.fluid,i=t.getShouldRenderItem,o=t.items,c=t.renderContent,l=t.renderTitle,s=t.styled;return m.a.createElement(p.a,{className:n,fluid:r,styled:s},o.map(function(t,n){if(i&&!i(t))return null;var r=e.isActive(n);return m.a.createElement(m.a.Fragment,{key:t.id||t.key||n},m.a.createElement(p.a.Title,{active:r,index:n,onClick:function(t){t.preventDefault(),e.handleToggleActive(n)}},l(Object(a.a)({active:r,handleSetActive:e.handleSetActive,handleSetInactive:e.handleSetInactive,index:n},t))),e.shouldRenderContent(n)&&c&&m.a.createElement(p.a.Content,{active:r},c(Object(a.a)({active:r,handleSetActive:e.handleSetActive,handleSetInactive:e.handleSetInactive,index:n},t))))}))}}]),t}(d.Component);y.defaultProps=g;var O=y,E=n(25),j=function(e){var t=e.textKey,n=e.onClose,a=e.text;return m.a.createElement(p.i,{padded:!0},m.a.createElement(p.i.Column,null,m.a.createElement(p.j,null,(a||t)&&m.a.createElement(E.Translate,{capitalize:!0,fallback:a,textKey:t}),n&&m.a.createElement(p.k,{name:"close",onClick:n,style:{cursor:"pointer",float:"right"}}))))};j.defaultProps={onClose:void 0,text:void 0,textKey:void 0};var T=j,S=n(50),I=function(e){var t,n=e.dateText,a=e.day,r=e.endDate,i=e.i18n.moduleTranslate,o=e.interpretedTimestamp,c=e.month,l=e.startDate,s=e.timestamp,u=e.year;return t=l&&r?"".concat(i({capitalize:!0,textKey:"between"})," ").concat(l," ").concat(i({textKey:"and"})," ").concat(r):l?"".concat(i({capitalize:!0,textKey:"after"})," ").concat(l):r?"".concat(i({capitalize:!0,textKey:"before"})," ").concat(r):u||c||a?function(e){var t=e.day,n=e.month,a=e.year,r=n&&1==="".concat(n).length?"0".concat(n):n,i=t&&1==="".concat(t).length?"0".concat(t):t;return a&&n&&t?"".concat(a,"-").concat(r,"-").concat(i):a&&n?"".concat(a,"-").concat(r):a}({day:a,month:c,year:u}):o||s?o||s:n,m.a.createElement("span",null,t)};I.defaultProps={dateText:void 0,day:void 0,endDate:void 0,interpretedTimestamp:void 0,month:void 0,startDate:void 0,timestamp:void 0,year:void 0};var C=Object(S.withI18n)({module:"commonUi",scope:"Date"})(I),N=n(40),k=function(){return m.a.createElement(p.w,{id:"footer",inverted:!0,style:{padding:"5em"},vertical:!0},m.a.createElement(p.d,null,m.a.createElement(p.i,{divided:!0,inverted:!0,stackable:!0},m.a.createElement(p.i.Row,null,m.a.createElement(p.i.Column,{width:3},m.a.createElement(p.j,{as:"h4",content:"Site",inverted:!0}),m.a.createElement(p.o,{inverted:!0,link:!0,size:"large"},m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"home"}),m.a.createElement(N.b,{to:"/"},"Start"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"user"}),m.a.createElement(N.b,{to:"/login"},"Login"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"database"}),m.a.createElement(N.b,{to:"/docs"},"Data model"))))),m.a.createElement(p.i.Column,{width:3},m.a.createElement(p.j,{as:"h4",content:"Documentation",inverted:!0}),m.a.createElement(p.o,{inverted:!0,link:!0,size:"large"},m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"wikipedia"}),m.a.createElement("a",{href:"https://www.dina-project.net/wiki/Welcome_to_the_DINA_project!"},"DINA wiki"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"database"}),m.a.createElement(N.b,{to:"/docs"},"Data model"))))),m.a.createElement(p.i.Column,{width:3},m.a.createElement(p.j,{as:"h4",content:"Developer",inverted:!0}),m.a.createElement(p.o,{inverted:!0,link:!0,size:"large"},m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"github"}),m.a.createElement("a",{href:"https://github.com/DINA-Web"},"DINA-Web Github"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement("a",{href:"https://github.com/DINA-Web/dina-collections"},m.a.createElement(p.k,{name:"github"}),"Collections on Github"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"external"}),m.a.createElement("a",{href:"https://dina-style.nrm.se/"},"Style guide"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"external"}),m.a.createElement("a",{href:"https://dina-api.nrm.se/docs"},"Api documentation"))),m.a.createElement(p.o.Item,null,m.a.createElement(p.o.Content,null,m.a.createElement(p.k,{name:"external"}),m.a.createElement("a",{href:"/coverage/index.html"},"Test coverage")))))))))},w=n(21),x=n(13),A=n(508),R=n(130),F=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.children;return m.a.createElement(m.a.Fragment,null,e)}}]),t}(d.PureComponent),P=Object(x.c)(Object(A.a)({layer:R.a}))(F),L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=Object(w.a)(e,["children"]);return m.a.createElement(p.s,n,m.a.createElement(P,null,t))}}]),t}(d.PureComponent),M=n(650),_=Object(f.a)("modules:commonUi:ThreeColumnGrid"),D={center:void 0,centerColumnTextAlign:"left",classNames:void 0,left:void 0,leftColumnTextAlign:"left",right:void 0,rightColumnTextAlign:"left"};function B(e){var t=e.center,n=e.centerColumnTextAlign,a=e.classNames,r=e.left,i=e.leftColumnTextAlign,o=e.right,c=e.rightColumnTextAlign;return _.render(),m.a.createElement(p.i,{className:a,columns:3},m.a.createElement(p.i.Column,{textAlign:i},!!r&&r),m.a.createElement(p.i.Column,{textAlign:n},!!t&&t),m.a.createElement(p.i.Column,{textAlign:c},!!o&&o))}B.defaultProps=D;var V=B,U=function(e){var t=e.textKey,n=Object(w.a)(e,["textKey"]);return m.a.createElement(p.n,n,m.a.createElement(E.Translate,{textKey:t}))};n.d(t,"Accordion",function(){return O}),n.d(t,"ColumnRowHeader",function(){return T}),n.d(t,"DateString",function(){return C}),n.d(t,"Footer",function(){return k}),n.d(t,"LayerModal",function(){return L}),n.d(t,"PageTemplate",function(){return M.a}),n.d(t,"ThreeColumnGrid",function(){return V}),n.d(t,"TranslatedLabel",function(){return U})},59:function(e,t,n){"use strict";var a=n(19),r=n(8),i=n(5),o=n(7),c=n(10),l=n(4),s=n(6),u=n(37),d=function(e){return"".concat("_dependor","-").concat(e)},m=u.a.isTest,p=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.a)(this,e),this[d("dependencies")]=Object(c.a)({},n),Object.keys(n).forEach(function(e){if(t[e])throw new Error("Cant add dependency ".concat(e,". Already exists"));t[e]=n[e]})}return Object(s.a)(e,[{key:"add",value:function(e){var t=this;Object.keys(e).forEach(function(n){if(t[n])throw new Error("Cant add dependency ".concat(n,". Already exists"));t[n]=e[n]})}},{key:"mock",value:function(){console.error("not allowed to call reset outside test")}},{key:"reset",value:function(){console.error("not allowed to call reset outside test")}},{key:"freeze",value:function(){console.error("not allowed to call freeze outside test")}}]),e}(),h=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"freeze",value:function(e){var t=this,n=this[d("dependencies")],r=e||Object.keys(n);this.mock(r.reduce(function(e,r){return t[r]===n[r]?Object(c.a)({},e,Object(a.a)({},r,function(e){return function(){throw new Error("Function ".concat(e," is frozen in dependor and should not be called"))}}(r))):e},{}))}},{key:"mock",value:function(e){var t=this;if(!m)throw new Error("Dependor _mock should only be used in testing");Object.keys(e).forEach(function(n){if(!t[n])throw new Error("Cant mock dependency ".concat(n,". Dont exists"));t[n]=e[n]})}},{key:"reset",value:function(e){var t=this;if(!m)throw new Error("Dependor _reset should only be used in testing");var n=this[d("dependencies")];if(!e)return Object.keys(n).forEach(function(e){t[e]=n[e]});if(Array.isArray(e))return e.forEach(function(e){if(!t[e])throw new Error("Cant reset dependency ".concat(e,". Dont exists"));t[e]=n[e]});if(!this[e])throw new Error("Cant mock dependency ".concat(e,". Dont exists"));return this[e]=n[e],this[e]}}]),t}(p);t.a=m?h:p},61:function(e,t,n){"use strict";n.r(t),n.d(t,"USER_LOG_IN_REQUEST",function(){return a}),n.d(t,"USER_LOG_IN_SUCCESS",function(){return r}),n.d(t,"USER_LOG_IN_FAIL",function(){return i}),n.d(t,"USER_LOG_OUT_REQUEST",function(){return o}),n.d(t,"USER_LOG_OUT_SUCCESS",function(){return c}),n.d(t,"USER_LOG_OUT_FAIL",function(){return l}),n.d(t,"USER_GET_USER_REQUEST",function(){return s}),n.d(t,"USER_GET_USER_SUCCESS",function(){return u}),n.d(t,"USER_GET_USER_FAIL",function(){return d}),n.d(t,"USER_GET_USER_PREFERENCES_REQUEST",function(){return m}),n.d(t,"USER_GET_USER_PREFERENCES_SUCCESS",function(){return p}),n.d(t,"USER_GET_USER_PREFERENCES_FAIL",function(){return h}),n.d(t,"USER_UPDATE_USER_PREFERENCES_REQUEST",function(){return f}),n.d(t,"USER_UPDATE_USER_PREFERENCES_SUCCESS",function(){return v}),n.d(t,"USER_UPDATE_USER_PREFERENCES_FAIL",function(){return b});var a="USER_LOG_IN_REQUEST",r="USER_LOG_IN_SUCCESS",i="USER_LOG_IN_FAIL",o="USER_LOG_OUT_REQUEST",c="USER_LOG_OUT_SUCCESS",l="USER_LOG_OUT_FAIL",s="USER_GET_USER_REQUEST",u="USER_GET_USER_SUCCESS",d="USER_GET_USER_FAIL",m="USER_GET_USER_PREFERENCES_REQUEST",p="USER_GET_USER_PREFERENCES_SUCCESS",h="USER_GET_USER_PREFERENCES_FAIL",f="USER_UPDATE_USER_PREFERENCES_REQUEST",v="USER_UPDATE_USER_PREFERENCES_SUCCESS",b="USER_UPDATE_USER_PREFERENCES_FAIL"},62:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n(15),c=n(4),l=n(6),s=n(8),u=n(5),d=n(9),m=n(7),p=n(13),h=n(20),f=n.n(h),v=n(50),b=n(98),g=n(76),y={capitalize:!1,inline:!1,inlineDescription:void 0,input:void 0,onBlur:void 0,onChange:void 0,placeholder:void 0,tagTypeInitialOptionValue:void 0,tagTypeMatchAllOptionText:void 0,translationScope:void 0,value:""},O=function(e){function t(e){var n;if(Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChange=f.a.get(e,"input.onChange")||e.onChange,!n.onChange)throw new Error("onChange or input.onChange must be provided");return n.state={options:[]},n.fetchAvailableTags=n.fetchAvailableTags.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.capitalize,a=t.i18n.moduleTranslate,r=t.module,i=t.translationScope,o=t.tagTypeInitialOptionValue,c=t.tagTypeMatchAllOptionText;return this.fetchAvailableTags().then(function(t){var l=t.map(function(e){return e.attributes.key}).sort().map(function(e){return{key:e,text:a({capitalize:n,fallback:e,module:r,scope:i,textKey:e}),value:e}});c&&l.unshift({key:c,text:c,value:g.ANY}),e.setState({options:l}),o&&e.onChange(o)})}},{key:"fetchAvailableTags",value:function(){var e=this.props.buildLocalAggregationQuery({input:{aggregationFunctionType:"type",getAll:!0}});return this.props.search(e).then(function(e){return e})}},{key:"handleChange",value:function(e,t){this.onChange(t.value),this.props.input&&this.props.input.onBlur&&this.props.input.onBlur(t.value)}},{key:"render",value:function(){var e=this.props,t=e.inline,n=e.inlineDescription,a=e.input,o=e.placeholder,c=e.value,l=this.state.options,s=c||a&&a.value||"";return n?r.a.createElement("div",{style:{fontStyle:"italic"}},r.a.createElement("span",null,n," "),r.a.createElement(i.g,{className:"placeholder-same-color-as-text",inline:!0,onChange:this.handleChange,options:l,placeholder:o,value:s})):t?r.a.createElement(i.g,{className:"placeholder-same-color-as-text",inline:!0,onChange:this.handleChange,options:l,placeholder:o,value:s}):r.a.createElement(i.g,{onChange:this.handleChange,options:l,placeholder:o,search:!0,selection:!0,value:s})}}]),t}(a.Component);O.defaultProps=y;var E=Object(p.c)(Object(b.a)({storeSearchResult:!1}),Object(v.withI18n)({}))(O),j=function(e){var t=e.buildLocalAggregationQuery,n=e.capitalize,a=e.disableClearUnitValue,c=e.module,l=e.name,s=e.resource,u=e.search,d=e.tagTypeDropdownPlaceholder,m=e.tagTypeInitialOptionValue,p=e.tagTypeInlineDescription,h=e.tagTypeMatchAllOptionText,f=e.translationScope,v=e.unitOptions;return r.a.createElement(i.i,{textAlign:"left",verticalAlign:"top"},r.a.createElement(i.i.Row,null,r.a.createElement(i.i.Column,{width:16},r.a.createElement(o.Field,{autoComplete:"off",buildLocalAggregationQuery:t,capitalize:n,component:E,enableHelpNotifications:!1,inline:!0,inlineDescription:p,module:c,name:"".concat(l,".rangeType"),placeholder:d,resource:s,search:u,tagTypeInitialOptionValue:m,tagTypeMatchAllOptionText:h,translationScope:f})),r.a.createElement(i.i.Column,{width:5},r.a.createElement(o.Field,{autoComplete:"off",component:o.Input,enableHelpNotifications:!1,fluid:!0,label:"from",min:0,module:c,name:"".concat(l,".rangeValue.min"),subLabel:!0,type:"number"})),r.a.createElement(i.i.Column,{width:5},r.a.createElement(o.Field,{autoComplete:"off",component:o.Input,enableHelpNotifications:!1,fluid:!0,label:"to",min:0,module:c,name:"".concat(l,".rangeValue.max"),subLabel:!0,type:"number"})),r.a.createElement(i.i.Column,{width:6},r.a.createElement(o.Field,{autoComplete:"off",component:o.DropdownSearch,disableClearValue:a,enableHelpNotifications:!1,fluid:!0,label:"unit",module:c,name:"".concat(l,".rangeUnit"),options:v,subLabel:!0,type:"dropdown-search-local"}))))};j.defaultProps={capitalize:void 0,disableClearUnitValue:void 0,tagTypeDropdownPlaceholder:void 0,tagTypeInitialOptionValue:void 0,tagTypeInlineDescription:void 0,tagTypeMatchAllOptionText:void 0,translationScope:void 0};var T=j,S=n(19),I=n(10),C=n(17),N=n(288),k={aggregationFunctionName:void 0,aggregationKey:void 0,aggregationLimit:1e4,drillDownQuery:void 0,onCheckboxChange:void 0},w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={allIds:[],drillDownIds:[],values:{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.search(this.getQuery(void 0,{getAll:!0})).then(function(t){var n=t.map(function(e){return e.id});e.props.search(e.getQuery(n)).then(function(t){var a=t.map(function(e){return e.id});e.setState({allIds:n,drillDownIds:a})})})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.drillDownQuery!==e.drillDownQuery&&this.props.search(this.getQuery(this.state.allIds,{drillDownQuery:e.drillDownQuery})).then(function(e){var n=e.map(function(e){return e.id});t.setState({drillDownIds:n})})}},{key:"getQuery",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.drillDownQuery,a=t.getAll,r=void 0!==a&&a,i=this.props,o=i.aggregationFunctionName,c=i.aggregationKey,l=i.aggregationLimit,s=i.drillDownQuery,u=i.filterFunctionName,d=n||s,m={idsOnly:!1};return r||(m.query={and:[].concat(Object(C.a)(d&&d.and||[]),[{or:e.map(function(e){return{filter:{filterFunction:u,input:{value:e}}}})}])}),o&&(m.aggregations=[{aggregationFunction:o,key:c,options:{limit:l}}]),m}},{key:"handleCheckboxChange",value:function(e){var t=this;this.setState(function(n){var a=Object(I.a)({},n.values,e),r=Object.keys(a).reduce(function(e,t){return a[t]&&e.push(t),e},[]);return t.props.input.onChange(r),t.props.onCheckboxChange&&t.props.onCheckboxChange(r),{values:a}})}},{key:"render",value:function(){var e=this,t=this.props.input,n=this.state,a=n.allIds,o=n.drillDownIds,c=n.values;return a&&a.length?r.a.createElement(i.i,{textAlign:"left",verticalAlign:"middle"},r.a.createElement(i.i.Row,null,a.map(function(n){return r.a.createElement(i.i.Column,{key:n,width:16},r.a.createElement(N.a,{disabled:!o.includes(n)&&!c[n],input:{name:"".concat(t.name,".").concat(n),onChange:function(t){e.handleCheckboxChange(Object(S.a)({},n,t))},value:c[n]},label:n}))}))):null}}]),t}(a.Component);w.defaultProps=k;Object(b.a)({storeSearchResult:!1})(w);var x=n(16),A=n(636),R=n(56),F=n(211),P={checkedValues:[],displayCount:!1,onCheckboxChange:void 0,otherFieldFilters:void 0},L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={allIds:[],drillDownOptionsMap:{},loading:!0},n.handleCheckboxChange=n.handleCheckboxChange.bind(Object(d.a)(n)),n.handleDrillDownSearchResult=n.handleDrillDownSearchResult.bind(Object(d.a)(n)),n.debounceSearch=Object(R.debounce)(function(){n.props.search(n.props.buildLocalAggregationQuery()).then(n.handleDrillDownSearchResult)},400,{maxWait:800}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;return this.props.search(this.props.buildLocalAggregationQuery({input:{getAll:!0}})).then(function(t){var n=t.map(function(e){return e.id}).sort();return e.setState({allIds:n}),e.props.search(e.props.buildLocalAggregationQuery()).then(e.handleDrillDownSearchResult)}).then(function(){e.setState({loading:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.props.otherFieldFilters!==e.otherFieldFilters&&this.debounceSearch()}},{key:"componentWillUnmount",value:function(){this.debounceSearch.cancel()}},{key:"handleCheckboxChange",value:function(e,t){var n;n=t?[].concat(Object(C.a)(this.props.checkedValues),[e]):this.props.checkedValues.filter(function(t){return t!==e}),this.props.input.onChange(n),this.props.onCheckboxChange&&this.props.onCheckboxChange(n)}},{key:"handleDrillDownSearchResult",value:function(e){var t=e.reduce(function(e,t){var n=t.attributes;return e[t.id]={count:n&&n.count,key:n&&n.key},e},{});this.setState({drillDownOptionsMap:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.checkedValues,a=t.displayCount,o=t.input,c=t.meta,l=this.state,s=l.allIds,u=l.drillDownOptionsMap;return l.loading?r.a.createElement(i.i,{padded:!0,textAlign:"left",verticalAlign:"middle"},r.a.createElement(i.i.Column,null,r.a.createElement(i.p,{active:!0,inline:!0,size:"tiny"}))):s&&s.length?r.a.createElement(i.i,{style:{pointerEvents:"none"},textAlign:"left",verticalAlign:"middle"},r.a.createElement(i.i.Row,null,s.map(function(t){var l=u[t],s=n.includes(t);return r.a.createElement(i.i.Column,{key:t,style:{pointerEvents:"initial"},width:16},r.a.createElement(N.a,{disabled:!l&&!s,input:{name:"".concat(o.name,".").concat(t),onChange:function(n){e.handleCheckboxChange(t,n)},value:s},label:a&&l?"".concat(t," (").concat(l.count,")"):t,meta:c}))}))):r.a.createElement(i.i,{padded:!0,textAlign:"left",verticalAlign:"middle"},r.a.createElement(i.i.Column,null,"No options available"))}}]),t}(a.Component);L.defaultProps=P;var M=Object(p.c)(F.a,Object(b.a)({storeSearchResult:!1}),Object(x.b)(function(e,t){var n=t.meta.form,a=t.input.name;return{checkedValues:Object(A.a)(n)(e,a)}}))(L),_=n(21),D=function(e){var t=e.addTagTypeToText,n=e.onDeselectAllForSearchQuery,a=e.onSelectAllForSearchQuery,o=e.onToggleTagSelected,c=e.results,l=e.searchQuery,s=e.title;return r.a.createElement(i.i,{verticalAlign:"middle"},r.a.createElement(i.i.Column,{width:16},r.a.createElement(i.j,{size:"medium"},s,r.a.createElement(i.b,{onClick:function(){return n(l)},style:{marginLeft:"1em"}},"Deselect all"),r.a.createElement(i.b,{onClick:function(){return a(l)}},"Select all"))),r.a.createElement(i.i.Column,{width:16},r.a.createElement(i.n.Group,null,c.map(function(e){var n=e.attributes,a=e.id,c=e.selected,s=t?" (".concat(n.tagType,") "):" ";return r.a.createElement(i.n,{as:"a",color:c?"green":void 0,key:a,onClick:function(){return o({id:a,searchQuery:l})}},"".concat(n.tagValue).concat(s).concat(n&&void 0!==n.count?" (".concat(n.count,")"):""))}))))},B=n(34),V=Object(B.createSelector)(function(e){return e},function(e){return Object.values(e||{}).reduce(function(e,t){var n=t.matchingTags;return"freeText"!==t.searchOption.other.optionType?e:e.concat(n)},[])}),U=Object(B.createSelector)(function(e){return e},function(e){return Object.keys(e||{}).reduce(function(t,n){return"freeText"!==e[n].searchOption.other.optionType?t:[].concat(Object(C.a)(t),[n])},[])}),K=Object(B.createSelector)(V,function(e){return e.length}),H=Object(B.createSelector)(V,function(e){return e.reduce(function(e,t){return t.selected?e+1:e},0)}),z=function(e){var t=e.addTagTypeToText,n=e.inline,a=e.numberOfSearchResults,c=e.numberOfSelectedResults,l=e.onClose,s=e.onDeselectAllForSearchQuery,u=e.onSelectAllForSearchQuery,d=e.onToggleTagSelected,m=e.reduxFormValues,p=U(m);return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{size:"medium"},"Refine filter (".concat(c,"/").concat(a,")")),p.map(function(e){var n=m[e].searchOption.text;return r.a.createElement(D,{addTagTypeToText:t,key:e,onDeselectAllForSearchQuery:s,onSelectAllForSearchQuery:u,onToggleTagSelected:d,results:m[e].matchingTags,searchQuery:e,title:n})})):r.a.createElement(o.FormModal,{closeIcon:!0,onClose:l,open:!0},r.a.createElement(i.s.Header,null,"Refine filter (".concat(c,"/").concat(a,")")),r.a.createElement(i.s.Content,null,r.a.createElement(i.s.Description,null,p.map(function(e){var n=m[e].searchOption.text;return r.a.createElement(D,{addTagTypeToText:t,key:e,onDeselectAllForSearchQuery:s,onSelectAllForSearchQuery:u,onToggleTagSelected:d,results:m[e].matchingTags,searchQuery:e,title:n})}))))};z.defaultProps={reduxFormValues:{}};var G=z,q=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.refineOpen,n=e.reduxFormValues,a=e.onCloseRefine,o=e.onOpenRefine,c=K(n),l=H(n);return r.a.createElement(i.b,{disabled:!c,onClick:t?a:o,style:{paddingLeft:"0.5em",paddingRight:"0.5em",textAlign:"left",width:"3.5em"}},r.a.createElement(i.k,{name:"sliders",style:{margin:"0px"}}),!!c&&c!==l&&r.a.createElement(i.k,{name:"check circle",style:{fontSize:"0.8em",margin:"0px",position:"relative",top:"-0.25em"}}))}}]),t}(a.Component);q.defaultProps={reduxFormValues:{},refineOpen:!1};var Q=q,W={addTagTypeToText:!0,capitalize:void 0,inlineRefine:!1,tagTypeFilterEnabled:!1,tagTypeInitialOptionValue:void 0,tagTypeInlineDescription:void 0,tagTypeMatchAllOptionText:void 0,translationScope:void 0},Y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getItemsForSearchQuery=n.getItemsForSearchQuery.bind(Object(d.a)(n)),n.getOptions=n.getOptions.bind(Object(d.a)(n)),n.getSelectedOptions=n.getSelectedOptions.bind(Object(d.a)(n)),n.setSearchQueryResultsSelected=n.setSearchQueryResultsSelected.bind(Object(d.a)(n)),n.handleGetSearchQuery=n.handleGetSearchQuery.bind(Object(d.a)(n)),n.handleCloseRefine=n.handleCloseRefine.bind(Object(d.a)(n)),n.handleOpenRefine=n.handleOpenRefine.bind(Object(d.a)(n)),n.handleSearchChange=n.handleSearchChange.bind(Object(d.a)(n)),n.handleSelectSearchQueries=n.handleSelectSearchQueries.bind(Object(d.a)(n)),n.handleSelectAllForSearchQuery=n.handleSelectAllForSearchQuery.bind(Object(d.a)(n)),n.handleDeselectAllForSearchQuery=n.handleDeselectAllForSearchQuery.bind(Object(d.a)(n)),n.handleToggleTagSelected=n.handleToggleTagSelected.bind(Object(d.a)(n)),n.handleUpdateTagFilterValue=n.handleUpdateTagFilterValue.bind(Object(d.a)(n)),n.state={options:[],refineOpen:!1,searchQuery:"",tagTypeFilterValue:""},n.debouncedGetItemsForSearchQuery=Object(R.debounce)(function(e){var t=n.state.tagTypeFilterValue;return n.getItemsForSearchQuery({tagType:t&&t!==g.ANY?t:void 0,tagValue:e}).then(function(t){var a=n.createOptions({items:t,searchQuery:e});n.setState({options:a})})},400,{maxWait:800}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.debouncedGetItemsForSearchQuery.cancel()}},{key:"getItemsForSearchQuery",value:function(e){var t=e.aggregationFunctionType,n=void 0===t?"value":t,a=e.exact,r=e.limit,i=void 0===r?10:r,o=e.tagType,c=e.tagValue,l=this.props.buildLocalAggregationQuery({input:{aggregationFunctionType:n,exact:a,limit:i,tagType:o,tagValue:c}});return l.limit=i,this.props.search(l).then(function(e){return e})}},{key:"getOptions",value:function(){return this.state.options}},{key:"setSearchQueryResultsSelected",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.input.value,a=f.a.get(n,e);if(a){var r=a.matchingTags,i=a.searchOption,o=this.createReduxFormValues({matchingTags:r,prevReduxFormValues:n,searchOption:i,selected:t});this.props.input.onChange(o)}}},{key:"getSelectedOptions",value:function(e,t){var n=this;return t.map(function(e){return n.props.input.value[e].searchOption})}},{key:"handleGetSearchQuery",value:function(){return this.state.searchQuery}},{key:"handleCloseRefine",value:function(){this.setState({refineOpen:!1})}},{key:"handleOpenRefine",value:function(){this.setState({refineOpen:!0})}},{key:"handleSearchChange",value:function(e){var t=e.searchQuery;return this.setState({searchQuery:t}),t?this.debouncedGetItemsForSearchQuery(t):this.setState({options:[],searchQuery:t})}},{key:"handleSelectSearchQueries",value:function(e){var t=this;e.length||this.props.input.onChange({});var n=this.props.input.value;if(e.length>Object.keys(n||{}).length){var a=e[e.length-1],r=this.state.options.find(function(e){return e.key===a});if(!r)return null;var i=r.key,o=r.other,c=o.tagType,l=o.tagValue,s=o.optionType;return this.getItemsForSearchQuery({exact:!(!c||!i||"freeText"===s),limit:1e3,tagType:c===g.ANY?void 0:c,tagValue:l}).then(function(e){var a=t.createReduxFormValues({matchingTags:e,prevReduxFormValues:n,searchOption:r,selected:!0});return t.props.input.onChange(a)})}var u=n&&e.reduce(function(e,t){return e[t]=n[t],e},{});return this.props.input.onChange(u)}},{key:"handleSelectAllForSearchQuery",value:function(e){this.setSearchQueryResultsSelected(e,!0)}},{key:"handleDeselectAllForSearchQuery",value:function(e){this.setSearchQueryResultsSelected(e,!1)}},{key:"handleToggleTagSelected",value:function(e){var t=e.searchQuery,n=e.id,a=this.props.input.value,r=f.a.get(a,t);if(r){var i=r.matchingTags,o=r.searchOption,c=this.createReduxFormValues({matchingTags:i.map(function(e){return e.id!==n?e:Object(I.a)({},e,{selected:!e.selected})}),prevReduxFormValues:a,searchOption:o});this.props.input.onChange(c)}}},{key:"createOption",value:function(e){return{key:e.key,other:{optionType:e.optionType,tagType:e.tagType,tagValue:e.tagValue},text:e.text,value:e.value}}},{key:"createOptions",value:function(e){var t=this,n=e.searchQuery,a=e.items,r=this.state.tagTypeFilterValue,i=this.props.addTagTypeToText,o=a.map(function(e){var n=e.attributes;if(n){var a=n.key,r=n.tagType,o=n.tagValue,c=i?" [".concat(r,"] "):" ";return t.createOption({key:a,optionType:"tag",tagType:r,tagValue:o,text:"".concat(o).concat(c),value:a})}return null}).filter(function(e){return!!e}),c=r===g.ANY?"(free text)":"(free text ".concat(r,")");return[this.createOption({key:n,optionType:"freeText",tagType:r,tagValue:n,text:"".concat(n," ").concat(c),value:n})].concat(Object(C.a)(o))}},{key:"createReduxFormValues",value:function(e){var t=e.matchingTags,n=e.prevReduxFormValues,a=void 0===n?{}:n,r=e.searchOption,i=e.selected,o=r.key,c={key:o,matchingTags:t.map(function(e){return void 0===i?e:Object(I.a)({},e,{selected:i})}),searchOption:r};return Object(I.a)({},a,Object(S.a)({},o,c))}},{key:"handleUpdateTagFilterValue",value:function(e){this.setState({tagTypeFilterValue:e})}},{key:"render",value:function(){var e=this.props,t=e.addTagTypeToText,n=e.buildLocalAggregationQuery,a=e.capitalize,i=e.i18n.moduleTranslate,c=e.inlineRefine,l=e.input,s=e.module,u=e.resource,d=e.tagTypeFilterEnabled,m=e.tagTypeInlineDescription,p=e.tagTypeInitialOptionValue,h=e.tagTypeMatchAllOptionText,f=e.translationScope,v=Object(_.a)(e,["addTagTypeToText","buildLocalAggregationQuery","capitalize","i18n","inlineRefine","input","module","resource","tagTypeFilterEnabled","tagTypeInlineDescription","tagTypeInitialOptionValue","tagTypeMatchAllOptionText","translationScope"]),b=this.state,g=b.refineOpen,y=b.tagTypeFilterValue,O=l.value,j=Object(I.a)({},l,{onBlur:this.handleSelectSearchQueries,value:Object.keys(O||{})}),T=K(O),S=H(O);return r.a.createElement(r.a.Fragment,null,d&&r.a.createElement(E,{buildLocalAggregationQuery:n,capitalize:a,inline:!0,inlineDescription:m,module:s,onChange:this.handleUpdateTagFilterValue,resource:u,tagTypeInitialOptionValue:p,tagTypeMatchAllOptionText:h,translationScope:f,value:y}),r.a.createElement(o.MultipleSearchSelectionDropdown,Object.assign({},v,{enableHelpNotifications:!1,getOptions:this.getOptions,getSearchQuery:this.handleGetSearchQuery,getSelectedOptions:this.getSelectedOptions,icon:"search",input:j,label:!1,noResultsMessage:i({textKey:"typeQueryAndPressEnter"}),onSearchChange:this.handleSearchChange,resource:u,rightButton:r.a.createElement(Q,{onCloseRefine:this.handleCloseRefine,onOpenRefine:this.handleOpenRefine,reduxFormValues:O||void 0,refineOpen:g}),type:"multiple-search-selection-dropdown-connect"})),g&&r.a.createElement(G,{addTagTypeToText:t,inline:c,numberOfSearchResults:T,numberOfSelectedResults:S,onClose:this.handleCloseRefine,onDeselectAllForSearchQuery:this.handleDeselectAllForSearchQuery,onSelectAllForSearchQuery:this.handleSelectAllForSearchQuery,onToggleTagSelected:this.handleToggleTagSelected,open:!0,reduxFormValues:Object(I.a)({},O||{})}))}}]),t}(a.PureComponent);Y.defaultProps=W;var X=Object(v.withI18n)({module:"search"})(Y),J=Object(b.a)({storeSearchResult:!1})(X),Z=Object(F.a)(J),$=Object(p.c)(Object(v.withI18n)())(function(e){var t=e.i18n.moduleTranslate;return r.a.createElement("div",{style:{padding:"1em"}},r.a.createElement(i.r,{content:t({capitalize:!0,module:"search",textKey:"noResultFound.content"}),header:t({capitalize:!0,module:"search",textKey:"noResultFound.header"}),icon:"info",size:"small"}))}),ee=n(274),te={displayCount:!1,otherFieldFilters:void 0},ne=function(e){function t(e){var n;Object(c.a)(this,t);var a=e.input&&e.input.value;return(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={previews:[],searchString:a||""},n.handleOnChange=n.handleOnChange.bind(Object(d.a)(n)),n.handleDrillDownSearchResult=n.handleDrillDownSearchResult.bind(Object(d.a)(n)),n.debouncedUpdateFormValue=Object(R.debounce)(function(e){n.props.input.onChange(e)},200,{maxWait:400}),n.debounceSearch=Object(R.debounce)(function(e){n.props.search(n.props.buildLocalAggregationQuery({input:{searchString:e}})).then(n.handleDrillDownSearchResult)},400,{maxWait:800}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.otherFieldFilters!==e.otherFieldFilters&&e.input.value&&this.debounceSearch(e.input.value),this.props.input.value!==e.input.value&&e.input.value&&this.debounceSearch(e.input.value)}},{key:"componentWillUnmount",value:function(){this.debounceSearch.cancel()}},{key:"handleOnChange",value:function(e){this.setState({searchString:e.target.value}),this.debouncedUpdateFormValue(e.target.value)}},{key:"handleDrillDownSearchResult",value:function(e){var t=e.map(function(e){var t=e.attributes;return{id:e.id,preview:t.preview,srcField:t.srcField}});this.setState({previews:t})}},{key:"render",value:function(){var e=this.state,t=e.previews,n=e.searchString,a=this.props,o=a.input,c=Object(_.a)(a,["input"]),l=o.value,s=t.length&&l,u=Object(I.a)({},o,{onChange:this.handleOnChange,value:n});return r.a.createElement(i.i,{textAlign:"left",verticalAlign:"middle"},r.a.createElement(i.i.Column,{width:16},r.a.createElement(ee.a,Object.assign({},c,{icon:"search",iconPosition:"right",input:u,type:"text"}))),r.a.createElement(i.i.Column,{width:16},r.a.createElement(i.w,{style:{background:"white",height:300,overflowY:"scroll"}},!s&&r.a.createElement("p",null," Preview (top 50 matches)"),s?t.map(function(e){return r.a.createElement("p",{dangerouslySetInnerHTML:{__html:"".concat(e.preview," (").concat(e.srcField,")")},key:"".concat(e.id,"-").concat(e.srcField,"-").concat(e.preview)})}):null)))}}]),t}(a.Component);ne.defaultProps=te;var ae=Object(p.c)(Object(b.a)({storeSearchResult:!1}))(ne),re=Object(F.a)(E);n.d(t,"a",function(){return T}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return Z}),n.d(t,"d",function(){return $}),n.d(t,"e",function(){return ae}),n.d(t,"f",function(){return re})},63:function(e,t,n){"use strict";n.r(t);var a=n(280),r=n(0),i=n.n(r),o=n(13),c=n(16),l=n(40),s=n(1),u=n(272),d=n(25),m=Object(d.createModuleTranslate)("commonUi"),p=function(e){var t=e.navItem,n=t.exact,a=t.icon,r=t.name,o=t.path,c=t.push,u=t.translate,d=void 0===u||u;return i.a.createElement(l.b,{activeClassName:"active",className:c?"item push bottom":"item",exact:n,key:o,style:{textAlign:"left"},to:o},a&&i.a.createElement(s.k,{name:a,size:"large"}),d?i.a.createElement(m,{capitalize:!0,textKey:"routes.".concat(r)}):r)},h=Object(d.createModuleTranslate)("commonUi"),f=function(e){var t=e.navGroupItem,n=t.exact,a=t.icon,r=t.items,o=t.name,c=t.path,u=t.push,d=t.translate,m=void 0===d||d;return c?i.a.createElement(l.b,{activeClassName:"active",className:u?"item push bottom":"item",exact:n,key:c||o,to:c},a&&i.a.createElement(s.k,{name:a,size:"large"}),m?i.a.createElement(h,{capitalize:!0,textKey:"routes.".concat(o)}):o,i.a.createElement(s.q.Menu,null,r.map(function(e){return i.a.createElement(p,{key:e.name,navItem:e})}))):i.a.createElement(s.q.Item,{className:u?"push bottom":"item",exact:n,key:o},a&&i.a.createElement(s.k,{name:a,size:"large"}),m?i.a.createElement(h,{capitalize:!0,textKey:"routes.".concat(o)}):o,i.a.createElement(s.q.Menu,null,r.map(function(e){return i.a.createElement(p,{key:e.name,navItem:e})})))},v=Object(d.createModuleTranslate)("commonUi"),b={logout:u.a},g=function(e){var t=e.displayHome,n=e.displayLogout,a=e.nested,r=e.logout,o=e.navigationItems,c=e.width;return i.a.createElement(s.x,{animation:"overlay",as:s.q,borderless:a,className:"flex",icon:a?void 0:"labeled",inverted:!0,size:"large",style:{overflow:"hidden",width:c},vertical:!0,visible:!0},o.map(function(e){return e.items?i.a.createElement(f,{key:e.name,navGroupItem:e}):i.a.createElement(p,{key:e.name,navItem:e})}),t&&i.a.createElement(l.b,{activeClassName:"active",className:"item push bottom",exact:!0,key:"/",to:"/"},i.a.createElement(s.k,{name:"reply"}),i.a.createElement(v,{capitalize:!0,textKey:"routes.start"})),n&&i.a.createElement(s.q.Item,{onClick:function(e){e.preventDefault(),r()}},i.a.createElement(s.k,{name:"sign out"}),i.a.createElement(v,{capitalize:!0,textKey:"Navbar.logout"})))};g.defaultProps={displayHome:!1,displayLogout:!1,navigationItems:[],nested:!1,width:100};var y=Object(o.c)(l.g,Object(c.b)(void 0,b))(g),O=Object(a.injectNavigationItems)(y),E=function(e){var t=e.title;return i.a.createElement("h2",null,t)},j=function(e){var t=e.color,n=e.title,a=e.children;return i.a.createElement(s.w,{color:t,inverted:!0},i.a.createElement(s.i,null,i.a.createElement(s.i.Row,null,i.a.createElement(s.i.Column,{width:8},i.a.createElement(E,{title:n})),i.a.createElement(s.i.Column,{floated:"right",textAlign:"right",width:4},a))))};j.defaultProps={children:null,color:"blue"};var T=j,S=function(e){var t=e.children,n=e.preContent;return i.a.createElement(s.i.Row,null,n&&i.a.createElement(s.i.Column,{width:16},n),i.a.createElement(s.i.Column,{width:16},i.a.createElement(s.w,{stacked:!0},t)))};S.defaultProps={children:null,preContent:null};var I=S,C=function(e){var t=e.children;return i.a.createElement(s.i,null,t)};C.defaultProps={},C.Header=T,C.Content=I;var N=C,k=n(10),w=n(4),x=n(6),A=n(8),R=n(5),F=n(7),P=n(36),L={columns:void 0,renderColumn:void 0,wrapperClassNames:void 0,wrapperStyle:void 0},M=function(e){function t(){return Object(w.a)(this,t),Object(A.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,a=t.renderColumn,r=t.wrapperClassNames,o=t.wrapperStyle;return n&&n.length?i.a.createElement("div",{className:r,style:Object(k.a)({display:"flex"},o||{})},n.map(function(t,n){var r=Object(P.a)({keys:["classNames","id","key","renderColumn","style","width"],props:t}),o=r.extractedProps,c=r.rest;return i.a.createElement("div",{className:o.classNames,id:o.id,key:o.key||n,style:o.width?Object(k.a)({flex:"none",float:"left",width:o.width},o.style||{}):Object(k.a)({flex:"auto",float:"left",minWidth:0},o.style||{})},!o.renderColumn&&a&&a(o.key,Object(k.a)({},e.props,c)),o.renderColumn&&o.renderColumn(Object(k.a)({},e.props,c)))})):null}}]),t}(r.Component);M.defaultProps=L;var _=M,D=n(88),B=n(214),V=Object(o.c)(l.g,Object(c.b)(function(e){return{rightSidebarIsOpen:B.a.getRightSidebarIsOpen(e)}}))(function(e){return e.rightSidebarIsOpen?i.a.createElement(D.NotificationDisplay,{displayType:"inline"}):null}),U={renderRow:void 0,rows:void 0,wrapperClassNames:void 0,wrapperId:void 0,wrapperStyle:void 0},K=function(e){function t(){return Object(w.a)(this,t),Object(A.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.availableHeight,a=t.renderRow,r=t.rows,o=t.wrapperClassNames,c=t.wrapperId,l=t.wrapperStyle;return r&&r.length?i.a.createElement("div",{className:o,id:c,style:Object(k.a)({display:"flex",flexDirection:"column",height:"".concat(n,"px"),overflow:"hidden"},l||{})},r.map(function(t,n){var r=Object(P.a)({keys:["classNames","id","height","key","renderRow","style"],props:t}),o=r.extractedProps,c=r.rest;return i.a.createElement("div",{className:o.classNames,id:o.id,key:o.key||n,style:o.height?Object(k.a)({flex:"none",float:"left",height:o.height},o.style||{}):Object(k.a)({flex:"auto",float:"left",minHeight:0},o.style||{})},!o.renderRow&&a&&a(o.key,Object(k.a)({},e.props,c)),o.renderRow&&o.renderRow(Object(k.a)({},e.props,c)))})):null}}]),t}(r.Component);K.defaultProps=U;var H=K,z=n(508),G=n(30),q=n(97),Q=n(90),W=n(92),Y=n(130),X=n(9),J=n(155),Z=n(115),$=n(66),ee=Object(d.createModuleTranslate)("commonUi"),te=Object(o.c)(Object(c.b)(function(e){return{username:$.a.getUsername(e)}}))(function(e){var t=e.onLogout,n=e.onClick,a=e.username;return i.a.createElement(s.i,{padded:!0,textAlign:"left",verticalAlign:"middle"},i.a.createElement(s.i.Row,null,i.a.createElement(s.j,null,a)),i.a.createElement(s.f,{style:{margin:0}}),i.a.createElement(s.i.Row,null,i.a.createElement(s.b,{icon:!0,labelPosition:"left",onClick:function(e){e.preventDefault(),t(),n()},size:"large"},i.a.createElement(s.k,{name:"sign out"}),i.a.createElement(ee,{capitalize:!0,textKey:"Navbar.logout"}))))}),ne={logout:Z.logout},ae={activeLocationSubtitle:void 0,activeLocationTitle:void 0},re=function(e){function t(e){var n;return Object(w.a)(this,t),(n=Object(A.a)(this,Object(R.a)(t).call(this,e))).state={isOpen:!1},n.handleClose=n.handleClose.bind(Object(X.a)(n)),n.handleOpen=n.handleOpen.bind(Object(X.a)(n)),n.handleLogout=n.handleLogout.bind(Object(X.a)(n)),n}return Object(F.a)(t,e),Object(x.a)(t,[{key:"handleOpen",value:function(){this.setState({isOpen:!0})}},{key:"handleClose",value:function(){this.setState({isOpen:!1})}},{key:"handleLogout",value:function(){this.props.logout()}},{key:"render",value:function(){var e=this.props,t=e.activeLocationSubtitle,n=e.activeLocationTitle,a=e.toggleLeftSidebar;return i.a.createElement(i.a.Fragment,null,i.a.createElement(J.a,{shortcuts:[{command:"l o",description:"Log out",onPress:this.handleLogout}]}),i.a.createElement(s.q,{inverted:!0,style:{borderRadius:0,margin:0}},i.a.createElement(s.q.Item,{onClick:a},i.a.createElement(s.k,{name:"sidebar",size:"large"})),n&&i.a.createElement(s.i,{padded:!0,textAlign:"center",verticalAlign:"middle"},i.a.createElement(s.i.Column,null,i.a.createElement(s.j,{inverted:!0},n,t&&" ",t&&t))),i.a.createElement(s.t,{basic:!0,content:i.a.createElement(te,{onClick:this.handleClose,onLogout:this.handleLogout}),on:"click",onClose:this.handleClose,onOpen:this.handleOpen,open:this.state.isOpen,position:"bottom right",trigger:i.a.createElement(s.q.Item,{position:"right",style:{cursor:"pointer"}},i.a.createElement(s.k,{name:"user",size:"large"}))})))}}]),t}(r.PureComponent);re.defaultProps=ae;var ie=Object(o.c)(Object(c.b)(void 0,ne),a.injectActiveLocationDescription)(re),oe={setLeftSidebarIsOpen:W.a.set["leftSidebar.isOpen"]},ce=function(e){var t=e.children,n=e.isLarge,a=e.leftSidebarEnabled,r=e.leftSidebarIsOpen,o=e.leftSidebarTogglable,c=e.leftSidebarWidth,l=e.setLeftSidebarIsOpen,u=e.topMenuEnabled,d=e.windowHeight;if(!d)return null;var m=function(e){var t=e.leftSidebarAlwaysVisible,n=e.leftSidebarIsOpen,a=e.leftSidebarTogglable,r=e.leftSidebarWidth,i=a?{transform:n?"translate(".concat(r,"px, 0px)"):"",WebkitTransform:n?"translate(".concat(r,"px, 0px)"):"",zIndex:200}:{paddingLeft:t?r:0,zIndex:1};return Object(k.a)({},{height:"100vh",left:0,minWidth:"100%",overflow:"hidden",position:"relative",top:0,transition:"transform 0.2s",zIndex:200},i)}({leftSidebarAlwaysVisible:n&&a,leftSidebarIsOpen:r,leftSidebarTogglable:o,leftSidebarWidth:c}),p=o&&r,h=function(){return l(!r)};return i.a.createElement("div",{style:m},i.a.createElement(s.e.Dimmable,{dimmed:p},u&&i.a.createElement(ie,{toggleLeftSidebar:a&&o&&h}),i.a.createElement(s.e,{active:p,onClickOutside:h}),i.a.createElement("div",{className:"ui fluid dina background",style:{height:u?d-Object(G.a)(3.4375):d,overflow:"auto"}},t)))};ce.defaultProps={leftSidebarEnabled:!1,leftSidebarTogglable:!1,leftSidebarWidth:100,topMenuEnabled:!1};var le=Object(o.c)(Object(z.a)({layer:Y.b}),Q.injectWindowHeight,Object(c.b)(function(e){return{isLarge:q.a.getIsLarge(e),leftSidebarIsOpen:W.d.get["leftSidebar.isOpen"](e)}},oe))(ce);n.d(t,"AppNavigationSidebar",function(){return O}),n.d(t,"Block",function(){return N}),n.d(t,"ColumnLayout",function(){return _}),n.d(t,"InformationSidebar",function(){return V}),n.d(t,"NavigationSidebar",function(){return y}),n.d(t,"RowLayout",function(){return H}),n.d(t,"ViewWrap",function(){return le})},65:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return s});var a="latest",r="day",i="form",o="month",c="range",l="single",s="year"},650:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=function(e){var t=e.children,n=e.container,a=e.fullViewHeight;return n?r.a.createElement(i.d,{style:{minHeight:a?"100vh":void 0,paddingBottom:30,paddingTop:30}},t):r.a.createElement("div",{style:{minHeight:a?"100vh":void 0,padding:20,paddingTop:20}},t)};o.defaultProps={children:null,container:!0,fullViewHeight:!1},t.a=o},651:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(12),d=n.n(u),m=n(16),p=n(13),h=n(70),f=n(37),v=n(66);function b(e){var t={push:h.d},n=(d.a.bool.isRequired,d.a.func.isRequired,d.a.bool.isRequired,function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"componentWillMount",value:function(){this.checkAuth(this.props.loggedIn,this.props.userLoading)}},{key:"componentWillReceiveProps",value:function(e){this.checkAuth(e.loggedIn,e.userLoading)}},{key:"checkAuth",value:function(e,t){!f.a.auth.active||t||e||this.props.push("/login")}},{key:"render",value:function(){return this.props.loggedIn||!f.a.auth.active?s.a.createElement(e,this.props):null}}]),n}(l.Component)),u=Object(p.c)(Object(m.b)(function(e){return{loggedIn:v.a.getUserLoggedIn(e),userLoading:v.a.getUserLoading(e)}},t))(n);return u.requireLoggedInUser=!0,u}function g(e){var t={push:h.d},n=(d.a.bool.isRequired,d.a.func.isRequired,d.a.bool.isRequired,function(t){function n(){return Object(a.a)(this,n),Object(i.a)(this,Object(o.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"componentWillMount",value:function(){this.checkAuth(this.props.loggedIn,this.props.userLoading)}},{key:"componentWillReceiveProps",value:function(e){this.checkAuth(e.loggedIn,e.userLoading)}},{key:"checkAuth",value:function(e,t){!t&&e&&this.props.push("/app")}},{key:"render",value:function(){return this.props.loggedIn?null:s.a.createElement(e,this.props)}}]),n}(l.Component));return Object(p.c)(Object(m.b)(function(e){return{loggedIn:v.a.getUserLoggedIn(e),userLoading:v.a.getUserLoading(e)}},t))(n)}n.d(t,"requireLoggedIn",function(){return b}),n.d(t,"requireLoggedOut",function(){return g})},652:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n(47),i=n(4),o=n(6),c=n(8),l=n(5),s=n(9),u=n(7),d=n(0),m=n.n(d),p=n(111),h=n(50),f=n(21),v=n(25),b=n(16),g=n(31),y=n(636),O=n(902),E=n(133),j=n.n(E),T=n(15),S=n(136),I=n(30),C=n(10),N=n(38),k=n.n(N),w=n(85),x=n.n(w).a.getModels(),A=function(){var e=Object(C.a)({},x);return e=k.a.set(e,"taxon.required",["acceptedTaxonName","parent"]),e=k.a.set(e,"taxon.properties.acceptedTaxonName",{properties:{id:{minLength:1,type:"string"}},required:["id"],type:"object"}),e=k.a.set(e,"taxon.properties.parent",{properties:{id:{minLength:1,type:"string"}},required:["id"],type:"object"}),e=k.a.set(e,"taxon.properties.synonyms",{items:{properties:{id:{minLength:1,type:"string"}}},type:"array"}),e=k.a.set(e,"taxon.properties.vernacularNames",{items:{properties:{language:{type:"string"},name:{type:"string"}},type:"object"},type:"array"}),e=k.a.set(e,"taxonName.required",["name","rank"]),e=k.a.set(e,"taxonName.properties.name",{minLength:1,type:"string"}),e=k.a.set(e,"taxonName.properties.rank",{minLength:1,type:"string"})}(),R=n(296),F=n(138),P={scientificNameRoot:{name:"scientificNameRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.scientificName"}},{componentName:"Input",componentProps:{columnProps:{width:9},fluid:!0,type:"text"},name:"name",required:!0,wrapInField:!0},{componentName:"RankDropdown",componentProps:{columnProps:{clear:!0,width:9}},name:"rank",required:!0,wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:6},fluid:!0,type:"text"},name:"rubinNumber",wrapInField:!0}]},taxonStatus:{name:"taxonStatus",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.status"}},{componentName:"TaxonNameTaxonStatus"}]}},L=[{name:"scientificName",units:[P.scientificNameRoot,P.taxonStatus,F.b]}],M=Object(I.a)(4.625),_={reset:g.g},D={getAllowTransition:void 0,itemSubHeader:void 0,preventLeavingForm:!1,unsavedChangesMessage:void 0},B=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleUndoChanges=n.handleUndoChanges.bind(Object(s.a)(n)),n.formValueSelector=Object(y.a)(e.form),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleUndoChanges",value:function(){this.props.reset(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.form,a=e.getAllowTransition,r=e.handleSubmit,i=e.itemHeader,o=e.itemSubHeader,c=e.preventLeavingForm,l=e.unsavedChangesMessage,s=Object(f.a)(e,["availableHeight","form","getAllowTransition","handleSubmit","itemHeader","itemSubHeader","preventLeavingForm","unsavedChangesMessage"]);return m.a.createElement(T.Form,{formName:n,getAllowTransition:a,onSubmit:r(function(){}),preventLeavingForm:c,sectionSpecs:L,setFormRef:this.setFormRef,unsavedChangesMessage:l},m.a.createElement(T.FormRow,Object.assign({},s,{availableHeight:t-M,customParts:R.a,formName:n,formValueSelector:this.formValueSelector,itemHeader:i,itemSubHeader:o,module:"taxon",moduleName:"taxon",sectionSpecs:L})))}}]),t}(d.Component);B.defaultProps=D;var V=Object(a.c)(Object(b.b)(void 0,_))(B),U=Object(O.a)({enableReinitialize:!0,validate:Object(a.c)(Object(S.createMapRequiredStrings)(["name","rank"]),j()({model:"taxonName",models:A}))})(V),K={itemId:void 0},H=function(e,t){return"POP"!==t&&e.search.includes("mainColumn=edit")},z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemId,n=e.onInteraction,a=Object(f.a)(e,["itemId","onInteraction"]),r=t?{parent:{id:t},taxonNameType:"scientific"}:{taxonNameType:"scientific"};return m.a.createElement(U,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"taxonNameCreate",getAllowTransition:H,initialValues:r,itemHeader:m.a.createElement(v.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"headers.newScientificName"}),onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},preventLeavingForm:!0,unsavedChangesMessage:"You have not saved the new record, are you sure you want to leave?"}))}}]),t}(d.PureComponent);z.defaultProps=K;var G=z,q=["nestedTaxonName","resourceActivities"],Q={nestedItem:void 0},W=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nestedItem,n=e.onInteraction,a=Object(f.a)(e,["nestedItem","onInteraction"]);if(!t)return null;var r=t.name,i=t.rank,o=t.resourceActivities,c=t.rubinNumber,l=t.taxonNameType;return m.a.createElement(U,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"taxonNameEdit",initialValues:{name:r,rank:i,rubinNumber:c,taxonNameType:l},nestedTaxonName:t,onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},onInteraction:n,passthroughProps:q,resourceActivities:o}))}}]),t}(d.PureComponent);W.defaultProps=Q;var Y=Object(a.c)(Object(h.withI18n)({module:"taxon"}))(W),X=n(1),J=n(22),Z=n(99),$=n(43),ee=Object(J.a)("modules:locality:BaseForm"),te=function(){},ne=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){ee.render();var e=this.props,t=e.error,n=e.handleSubmit;return m.a.createElement(X.i,{padded:!0},m.a.createElement(X.i.Column,null,m.a.createElement(X.h,{error:!!t,onSubmit:n(te)},m.a.createElement(X.i,{textAlign:"left",verticalAlign:"top"},m.a.createElement(X.i.Row,null,m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.Input,enableHelpNotifications:!1,label:"Scientific name",model:"taxonName",module:"taxon",name:"name",type:"text"})),m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.DropdownSearch,enableHelpNotifications:!1,fluid:!0,label:"Rank",model:"taxonName",module:"taxon",name:"rank",options:$.DROPDOWN_FILTER_OPTIONS,type:"dropdown-search-local"})),m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.Input,enableHelpNotifications:!1,label:"RUBIN no.",model:"taxonName",module:"taxon",name:"rubinNumber",type:"text"})))))))}}]),t}(d.Component);ne.defaultProps={error:""};var ae=Object(O.a)({destroyOnUnmount:!1,form:"taxonNameFilter"})(ne);function re(e){var t=e.values,n=[{filter:{filterFunction:"taxonNameType",input:{value:"scientific"}}}];return t.name&&n.push({filter:{filterFunction:"nameSearch",input:{value:t.name}}}),t.rank&&n.push({filter:{filterFunction:"rank",input:{value:t.rank}}}),t.rubinNumber&&n.push({filter:{filterFunction:"rubinNumber",input:{value:t.rubinNumber}}}),n.length?{and:n}:{}}var ie=[{fieldPath:"name",label:"modules.taxon.fieldLabels.scientificName",width:250},{fieldPath:"rank",label:"modules.taxon.fieldLabels.rank",width:250},{fieldPath:"rubinNumber",label:"modules.taxon.fieldLabels.rubinNumber",width:250}],oe=["acceptedToTaxon","resourceActivities","synonymToTaxon"],ce={include:oe,refresh:!0,relationships:oe,resolveRelationships:["resourceActivity","taxon"],resource:"taxonName"},le={taxonNameType:"scientific"},se=["acceptedToTaxon","synonymToTaxon"],ue=["attributes.name:asc"],de={itemId:void 0},me=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleInteraction=n.handleInteraction.bind(Object(s.a)(n)),n.buildEditItemHeaders=n.buildEditItemHeaders.bind(Object(s.a)(n)),n.renderCreateForm=n.renderCreateForm.bind(Object(s.a)(n)),n.renderEditForm=n.renderEditForm.bind(Object(s.a)(n)),n.renderFilterForm=n.renderFilterForm.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.onNavigation(e,t)}},{key:"buildEditItemHeaders",value:function(e){return e?{itemHeader:e.name,itemSubHeader:"".concat(this.props.i18n.moduleTranslate({textKey:"scientificNameOfRank"})," ").concat(e.rank)}:{}}},{key:"renderEditForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.itemId;return m.a.createElement(Y,Object.assign({},e,{itemId:t,onInteraction:this.handleInteraction}))}},{key:"renderCreateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(G,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"renderFilterForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(ae,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"render",value:function(){return m.a.createElement(p.ResourceManager,Object.assign({},this.props,{buildEditItemHeaders:this.buildEditItemHeaders,buildFilterQuery:re,createGetNestedItemHocInput:ce,filterHeader:"Find scientific names",filterResourceCount:le,onInteraction:this.handleInteraction,relationshipsToCheckBeforeDelete:se,renderCreateForm:this.renderCreateForm,renderEditForm:this.renderEditForm,renderFilterForm:this.renderFilterForm,resource:"taxonName",sortOrder:ue,tableColumnSpecifications:ie,treeEnabled:!1}))}}]),t}(d.Component);me.defaultProps=de;var pe=Object(a.c)(Object(h.withI18n)({module:"taxon"}))(me),he=Object(a.c)(Object(r.createLocalState)(),Object(r.createNavigationState)())(pe),fe=n(20),ve=n.n(fe),be={scientificNames:{name:"scientificNames",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.connectedScientificNames"}},{componentName:"ScientificNamesTable",containsReduxFormField:!0}]},taxonRoot:{name:"taxonRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.taxon"}},{componentName:"TaxonDropdownPickerSearch",componentProps:{columnProps:{width:14}},name:"parent.id",required:!0,wrapInField:!0}]},vernacularNames:{name:"vernacularNames",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.vernacularNames"}},{componentName:"VernacularNamesTable",containsReduxFormField:!0,name:"vernacularNames"}]}},ge=[{name:"taxon",units:[be.taxonRoot,be.scientificNames,be.vernacularNames,F.b]}],ye=function(e){return ve.a.get(e,"acceptedTaxonName.fullPath")||ve.a.get(e,"acceptedTaxonName.id.fullPath")?Object(C.a)({},e,{acceptedTaxonName:{id:{errorCode:"REQUIRED",fullPath:"acceptedTaxonName.id"}}}):e},Oe=Object(I.a)(4.625),Ee={reset:g.g},je={getAllowTransition:void 0,itemSubHeader:void 0,preventLeavingForm:!1,unsavedChangesMessage:void 0},Te=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleUndoChanges=n.handleUndoChanges.bind(Object(s.a)(n)),n.formValueSelector=Object(y.a)(e.form),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleUndoChanges",value:function(){this.props.reset(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.form,a=e.getAllowTransition,r=e.handleSubmit,i=e.itemHeader,o=e.itemSubHeader,c=e.preventLeavingForm,l=e.unsavedChangesMessage,s=Object(f.a)(e,["availableHeight","form","getAllowTransition","handleSubmit","itemHeader","itemSubHeader","preventLeavingForm","unsavedChangesMessage"]);return m.a.createElement(T.Form,{formName:n,getAllowTransition:a,onSubmit:r(function(){}),preventLeavingForm:c,sectionSpecs:ge,setFormRef:this.setFormRef,unsavedChangesMessage:l},m.a.createElement(T.FormRow,Object.assign({},s,{availableHeight:t-Oe,customParts:R.a,formName:n,formValueSelector:this.formValueSelector,itemHeader:i,itemSubHeader:o,module:"taxon",moduleName:"taxon",sectionSpecs:ge})))}}]),t}(d.Component);Te.defaultProps=je;var Se=Object(a.c)(Object(b.b)(void 0,Ee))(Te),Ie=Object(O.a)({enableReinitialize:!0,validate:Object(a.c)(ye,S.mapParentError,j()({model:"taxon",models:A}))})(Se),Ce={allTaxonNamesFetched:void 0,itemId:void 0},Ne=function(e,t){return"POP"!==t&&e.search.includes("mainColumn=edit")},ke=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.itemId,e.onInteraction),n=Object(f.a)(e,["itemId","onInteraction"]);return m.a.createElement(Ie,Object.assign({},n,{displayBackButton:!0,displayResetButton:!0,form:"taxonCreate",getAllowTransition:Ne,itemHeader:m.a.createElement(v.ModuleTranslate,{capitalize:!0,module:"taxon",textKey:"headers.newTaxon"}),onClose:function(e){e.preventDefault(),t("FORM_CANCEL")},preventLeavingForm:!0,unsavedChangesMessage:"You have not saved the new record, are you sure you want to leave?"}))}}]),t}(d.PureComponent);ke.defaultProps=Ce;var we=ke,xe={nestedItem:void 0},Ae=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onInteraction,n=e.nestedItem,a=Object(f.a)(e,["onInteraction","nestedItem"]);if(!n)return null;var r=n.resourceActivities,i=Object(C.a)({},n);return ve.a.get(i,"parent.acceptedTaxonName")&&delete i.parent.acceptedTaxonName,m.a.createElement(Ie,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"taxonEdit",initialValues:i,onClose:function(e){e.preventDefault(),t("FORM_CANCEL")},onInteraction:t,resourceActivities:r}))}}]),t}(d.PureComponent);Ae.defaultProps=xe;var Re=Ae,Fe=Object(J.a)("modules:locality:BaseForm"),Pe=function(){},Le=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){Fe.render();var e=this.props,t=e.error,n=e.handleSubmit;return m.a.createElement(X.i,{padded:!0},m.a.createElement(X.i.Column,null,m.a.createElement(X.h,{error:!!t,onSubmit:n(Pe)},m.a.createElement(X.i,{textAlign:"left",verticalAlign:"top"},m.a.createElement(X.i.Row,null,m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.Input,enableHelpNotifications:!1,label:"Accepted name",model:"taxonName",module:"taxon",name:"name",type:"text"})),m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.DropdownSearch,enableHelpNotifications:!1,fluid:!0,label:"Accepted name rank",model:"taxonName",module:"taxon",name:"rank",options:$.DROPDOWN_FILTER_OPTIONS,type:"dropdown-search-local"})),m.a.createElement(X.i.Column,{width:16},m.a.createElement(Z.a,{autoComplete:"off",component:T.Input,enableHelpNotifications:!1,label:"Vernacular name",model:"taxonName",module:"taxon",name:"vernacularName",type:"text"})))))))}}]),t}(d.Component);Le.defaultProps={error:""};var Me=Object(O.a)({destroyOnUnmount:!1,form:"taxonFilter"})(Le);function _e(e){var t=e.values,n=[];return t.name&&n.push({filter:{filterFunction:"nameSearch",input:{value:t.name}}}),t.rank&&n.push({filter:{filterFunction:"nameRank",input:{value:t.rank}}}),t.vernacularName&&n.push({filter:{filterFunction:"vernacularNameSearch",input:{value:t.vernacularName}}}),n.length?{and:n}:{}}var De=function e(t,n){return t?t&&t.acceptedTaxonName&&t.acceptedTaxonName.rank===n?t:t&&t.parent?e(t.parent,n):null:null},Be=[{fieldPath:"acceptedTaxonName.name",label:"modules.taxon.fieldLabels.acceptedTaxonName.name",width:350},{fieldPath:"acceptedTaxonName.rank",label:"modules.taxon.fieldLabels.acceptedTaxonName.rank",width:350},{buildText:function(e){var t=e.value,n=De(t,"class");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.class",width:250},{buildText:function(e){var t=e.value,n=De(t,"order");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.order",width:250},{buildText:function(e){var t=e.value,n=De(t,"family");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.family",width:250},{buildText:function(e){var t=e.value,n=De(t,"genus");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.genus",width:250},{buildText:function(e){var t=e.value,n=De(t,"species");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.species",width:250},{buildText:function(e){var t=e.value,n=De(t,"subspecies");if(!n)return"";var a=n.acceptedTaxonName;return a?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(a.name," (removed)")):a.name:""},fieldPath:"",label:"modules.taxon.fieldLabels.subspecies",width:250},{buildText:function(e){return e.value.map(function(e){return e.name}).join(", ")},fieldPath:"vernacularNames",label:"modules.taxon.fieldLabels.vernacularNames.name",width:350},{buildText:function(e){return e.value.map(function(e){return e.name}).join(", ")},fieldPath:"synonyms",label:"modules.taxon.fieldLabels.synonyms.name",width:350}],Ve=function(e){var t=e.nestedItem.acceptedTaxonName;return t?m.a.createElement("span",null,m.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},t.name),m.a.createElement("span",null,"[",t.rank,"]")):""},Ue=["acceptedTaxonName","parent","resourceActivities","synonyms","vernacularNames"],Ke={include:Ue,refresh:!0,relationships:Ue,resolveRelationships:["resourceActivity","taxon","taxonName"],resource:"taxon"},He=["children","specimens","storageLocations"],ze={id:"1"},Ge={include:["parent.acceptedTaxonName","parent.parent.acceptedTaxonName","parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent.acceptedTaxonName","acceptedTaxonName","vernacularNames","synonyms"],relationships:["parent","parent.acceptedTaxonName","parent.parent.acceptedTaxonName","parent.parent.parent.acceptedTaxonName","parent.parent.parent.parent.acceptedTaxonName","acceptedTaxonName","vernacularNames","synonyms"],resolveRelationships:["taxonName","taxon"]},qe={include:["acceptedTaxonName"],relationships:["acceptedTaxonName","children"],resolveRelationships:["taxonName"]},Qe={itemId:void 0},We=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleInteraction=n.handleInteraction.bind(Object(s.a)(n)),n.buildEditItemHeaders=n.buildEditItemHeaders.bind(Object(s.a)(n)),n.renderCreateForm=n.renderCreateForm.bind(Object(s.a)(n)),n.renderEditForm=n.renderEditForm.bind(Object(s.a)(n)),n.renderFilterForm=n.renderFilterForm.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.onNavigation(e,t)}},{key:"buildEditItemHeaders",value:function(e){if(!e)return{};var t=ve.a.get(e,"acceptedTaxonName.name"),n=ve.a.get(e,"acceptedTaxonName.rank");return{itemHeader:t,itemSubHeader:"".concat(this.props.i18n.moduleTranslate({textKey:"taxonOfRank"})," ").concat(n)}}},{key:"renderEditForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.itemId;return m.a.createElement(Re,Object.assign({},e,{itemId:t,onInteraction:this.handleInteraction}))}},{key:"renderCreateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(we,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"renderFilterForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(Me,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"render",value:function(){return m.a.createElement(p.ResourceManager,Object.assign({},this.props,{baseTreeFilter:ze,buildEditItemHeaders:this.buildEditItemHeaders,buildFilterQuery:_e,createGetNestedItemHocInput:Ke,filterHeader:"Find taxa",itemFetchOptions:qe,ItemTitle:Ve,onInteraction:this.handleInteraction,relationshipsToCheckBeforeDelete:He,renderCreateForm:this.renderCreateForm,renderEditForm:this.renderEditForm,renderFilterForm:this.renderFilterForm,resource:"taxon",tableBatchFetchOptions:Ge,tableColumnSpecifications:Be,treeEnabled:!0}))}}]),t}(d.Component);We.defaultProps=Qe;var Ye=Object(a.c)(Object(h.withI18n)({module:"taxon"}))(We),Xe=Object(a.c)(Object(r.createLocalState)(),Object(r.createNavigationState)())(Ye),Je=n(352),Ze=n(466),$e=n(245),et=n(212),tt=Object(a.c)(Object(r.createQueryState)(),Object(r.createNavigationState)())(Ye),nt=n(58),at=n(176),rt=null;var it={fieldSearchQuery:void 0,fieldValue:void 0},ot=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldSearchQuery,n=e.fieldValue,a=e.onClose,r=e.onInteraction,i=e.onPickerButtonClick,o=e.pickerActive,c=Object(f.a)(e,["fieldSearchQuery","fieldValue","onClose","onInteraction","onPickerButtonClick","pickerActive"]);if(o){var l=t?{name:t}:void 0;return m.a.createElement(nt.LayerModal,{onClose:a,open:!0,style:{overflow:"hidden"}},m.a.createElement(X.s.Content,null,m.a.createElement(rt,{initialFilterValues:l,initialItemId:n,isPicker:!0,onInteraction:r,pickerTitle:"Pick Taxon name",treeEnabled:!1})))}var s=m.a.createElement(X.b,{onClick:i},"Picker");return m.a.createElement(at.a,Object.assign({rightButton:s},c))}}]),t}(d.Component);ot.defaultProps=it;var ct=Object(r.createPickerWrapper)({})(ot),lt=Object(a.c)(Object(r.createQueryState)(),Object(r.createNavigationState)())(pe),st=n(467),ut=n(474);n.d(t,"AcceptedTaxonNameDropdownPickerSearch",function(){return Je.a}),n.d(t,"RankDropdown",function(){return Ze.a}),n.d(t,"TaxonDropdownPickerSearch",function(){return $e.a}),n.d(t,"TaxonDropdownSearch",function(){return et.a}),n.d(t,"TaxonManager",function(){return tt}),n.d(t,"TaxonNameDropdownPickerSearch",function(){return ct}),n.d(t,"TaxonNameDropdownSearch",function(){return at.a}),n.d(t,"TaxonNameManager",function(){return lt}),n.d(t,"TaxonNameTaxonStatus",function(){return st.a}),n.d(t,"TogglableTaxonDropdownPickerSearch",function(){return ut.a}),Object(Je.b)(Xe),Object($e.b)(Xe),rt=he},653:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a});var a="app"},654:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a});var a="dataViewer"},655:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a});var a="docs"},656:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(25);t.a=function(e){var t=e.match.params.docName,n=void 0===t?"general":t;return r.a.createElement("div",null,r.a.createElement(i.Markdown,{fallbackLanguage:"en",textKey:"modules.docs.overview.".concat(n)}))}},657:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(210),o=n(1),c=n(85),l=n.n(c).a.getOpenApiSpec();t.a=function(e){var t=e.match,n=t.params.schemaVersion;return n?r.a.createElement("div",null,r.a.createElement("h2",null,"Version: ",n),r.a.createElement(o.w,null,r.a.createElement(i.a,{markdown:l.info["x-versionInfo"]}))):r.a.createElement("div",null,"Unknown version: ",t.params.schemaVersion)}},658:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a});var a="public"},659:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(13),m=n(16),p=n(40),h=n(912),f=n(911),v=n(31),b=n(34),g=n(70),y=n(20),O=n.n(y),E=n(35),j=n(155),T=n(516),S=n(63),I=n(30),C=n(214),N=n(49),k=n(66),w=n(98),x=n(106),A=n(97),R=n(115),F=n(80),P=n(118),L=n(17),M=n(19),_=n(10);var D=n(12),B=n.n(D);function V(e){return{and:e.filter(function(e){return!!e})}}function U(e){var t=e.aggregation,n=e.query,a={};return t&&(a.aggregations=[t],a.limit=0),n&&(a.query=n),a}function K(e){var t=e.querySpecificationsMap,n=e.selectors;return function(){return function(e){B.a.string.isRequired,B.a.any,B.a.object,B.a.object,B.a.object;var p={fieldValue:void 0,formValues:{},otherFieldFilters:void 0,sectionValues:{}},h=function(n){function s(e){var t;return Object(a.a)(this,s),(t=Object(i.a)(this,Object(o.a)(s).call(this,e))).buildLocalAggregationQuery=t.buildLocalAggregationQuery.bind(Object(c.a)(t)),t}return Object(l.a)(s,n),Object(r.a)(s,[{key:"buildLocalAggregationQuery",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).input,n=this.props,a=n.fieldName,r=n.fieldValue,i=n.formValues,o=n.otherFieldFilters,c=n.sectionValues;return function(e){var t=e.fieldName,n=e.fieldValue,a=e.input,r=void 0===a?{}:a,i=e.otherFieldFilters,o=e.querySpecificationsMap,c=e.sectionValues,l=o[t];if(!l)throw new Error("Specification not found for: ".concat(t));var s=l.aggregation,u=l.rootQueryModifier,d=l.searchFilter,m=r.getAll,p=s({fieldValue:n,input:r,sectionValues:c}),h=null;if(!m&&(h=i,d)){var f=d({fieldValue:n,input:r,sectionValues:c});f&&(h=V([i,f]))}var v=U({aggregation:p,query:h});return u?u({rootQuery:v}):v}({fieldName:a,fieldValue:r,formValues:i,input:e,otherFieldFilters:o,querySpecificationsMap:t,sectionValues:c})}},{key:"render",value:function(){var t=this.props.otherFieldFilters;return u.a.createElement(e,Object.assign({},this.props,{buildLocalAggregationQuery:this.buildLocalAggregationQuery,otherFieldFilters:t}))}}]),s}(s.Component);return h.defaultProps=p,Object(d.c)(Object(m.b)(function(e,a){var r=a.input,i=a.name,o=r&&r.name||i;if(!o)throw new Error("fieldName is required");var c=t[o].sectionName;return{fieldName:o,fieldValue:n.fieldValueSelectors[o](e),formValues:n.getFormSelector(e),otherFieldFilters:n.otherFieldFiltersSelectors[o](e),sectionValues:c?n.sectionValueSelectors[c](e):void 0}}))(h)}}}function H(e){var t=e.formName,n=e.selectors;return function(){return function(e){B.a.object;var p={formState:void 0},h=function(s){function d(e){var t;return Object(a.a)(this,d),(t=Object(i.a)(this,Object(o.a)(d).call(this,e))).buildQuery=t.buildQuery.bind(Object(c.a)(t)),t}return Object(l.a)(d,s),Object(r.a)(d,[{key:"buildQuery",value:function(){var e=this.props.formState;return function(e){var t=e.formName,n=e.getSubQueries,a=e.formState;return U({query:V(n({form:Object(M.a)({},t,{values:a})}))})}({formName:t,formState:e,getSubQueries:n.getSubQueries})}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{buildQuery:this.buildQuery}))}}]),d}(s.Component);return h.defaultProps=p,Object(d.c)(Object(m.b)(function(e){return{formState:n.getFormSelector(e)}}))(h)}}}function z(e){var t=e.sectionName,n=e.fieldName,a=e.matchFilterFunctionName,r=e.aggregationFunctionName;return[{aggregation:function(){return{aggregationFunction:r}},fieldName:n,matchFilter:function(e){var t=e.fieldValue;return t&&t.length?{filter:{filterFunction:a,input:{tagTypes:t}}}:null},sectionName:t}]}var G=function(e){var t=e.sectionName,n=e.fieldName,a=e.rangeFilterFunctionName;return[{fieldName:n,matchFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fieldValue,t=(e=void 0===e?{}:e).min,n=e.max;return void 0===t&&void 0===n?null:{filter:{filterFunction:a,input:{value:{max:n,min:t}}}}},sectionName:t}]}({fieldName:"ageAndStage.age",rangeFilterFunctionName:"rangeAge",sectionName:"ageAndStage"}),q=z({aggregationFunctionName:"aggregateAgeStageTags",fieldName:"ageAndStage.stages",matchFilterFunctionName:"matchAgeStageTags",sectionName:"ageAndStage"}),Q=[].concat(Object(L.a)(G),Object(L.a)(q));function W(e){var t=e.sectionName,n=e.includeTagTypesInAggregation,a=void 0===n||n,r=e.matchFilterFunctionName,i=e.searchFilterFunctionName,o=e.tagTypeAggregationFunctionName,c=e.tagValuesAggregationFunctionName;return[{aggregation:function(e){var t=e.input,n=void 0===t?{}:t,r=e.sectionValues,i=r&&r.tagTypes,l=n.exact,s=n.tagType,u=n.tagValue,d=n.limit,m=void 0===d?10:d,p=n.aggregationFunctionType;return"type"===(void 0===p?"value":p)?{aggregationFunction:o}:{aggregationFunction:c,input:{exact:l,limit:m,tagTypes:a?s?[s]:i:void 0,tagValue:u}}},fieldName:e.tagValuesFieldName,matchFilter:function(e){var t=e.fieldValue;if(!t)return null;var n=[];return Object.keys(t).forEach(function(e){var a=t[e],i="freeText"===O.a.get(a,"searchOption.other.optionType"),o=!O.a.get(a,"matchingTags").length;i&&o?n.push({filter:{filterFunction:r,input:{tagType:O.a.get(a,"searchOption.other.tagType"),tagValue:O.a.get(a,"searchOption.text")}}}):t[e].matchingTags.filter(function(e){return!!e.selected}).forEach(function(e){n.push({filter:{filterFunction:r,input:{tagType:e.attributes.tagType,tagValue:e.attributes.tagValue}}})})}),n.length?{or:n}:null},searchFilter:i&&function(e){var t=e.input,n=t.tagType,a=t.tagValue;return{filter:{filterFunction:i,input:{tagType:n,tagValue:a}}}},sectionName:t}]}var Y=W({matchFilterFunctionName:"matchAgentTags",searchFilterFunctionName:"searchAgentTags",sectionName:"agent",tagTypeAggregationFunctionName:"aggregateAgentTagTypes",tagValuesAggregationFunctionName:"aggregateAgentTagValues",tagValuesFieldName:"agent.tagValues"}),X=z({aggregationFunctionName:"aggregateBoneTags",fieldName:"bones.bones",matchFilterFunctionName:"matchBoneTags",sectionName:"bones"}),J=z({aggregationFunctionName:"aggregateConditionTags",fieldName:"collectingCondition.collectingConditions",matchFilterFunctionName:"matchConditionTags",sectionName:"collectingCondition"});var Z=function(e){var t=e.sectionName,n=e.fieldName,a=e.rangeFilterFunctionName;return[{fieldName:n,matchFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fieldValue,t=(e=void 0===e?{}:e).startDate,n=e.endDate,r=t&&t.interpretedTimestamp,i=n&&n.interpretedTimestamp;return void 0===r&&void 0===i?null:{filter:{filterFunction:a,input:{value:{end:i,start:r}}}}},sectionName:t}]}({fieldName:"datePeriod.date",rangeFilterFunctionName:"searchDates",sectionName:"datePeriod"}),$=z({aggregationFunctionName:"aggregateDateTags",fieldName:"datePeriod.types",matchFilterFunctionName:"matchDateTags",sectionName:"datePeriod"}),ee=[].concat(Object(L.a)(Z),Object(L.a)($)),te=W({matchFilterFunctionName:"matchIdentifierTags",searchFilterFunctionName:"searchIdentifierTags",sectionName:"identifier",tagTypeAggregationFunctionName:"aggregateIdentifierTagTypes",tagValuesAggregationFunctionName:"aggregateIdentifierTagValues",tagValuesFieldName:"identifier.tagValues"});function ne(e){var t=e.fieldName,n=e.rangeFilterFunctionName,a=e.rangeTypeAggregateTagsFunctionName;return[{aggregation:function(){return{aggregationFunction:a}},fieldName:t,matchFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fieldValue,t=(e=void 0===e?{}:e).rangeType,a=e.rangeValue,r=e.rangeUnit,i=a||{},o=i.max,c=i.min;return void 0===c&&void 0===o?null:{filter:{filterFunction:n,input:{value:{max:o,min:c,rangeUnit:r,tagType:t}}}}},sectionName:e.sectionName}]}var ae=ne({fieldName:"length",rangeFilterFunctionName:"rangeLength",rangeTypeAggregateTagsFunctionName:"aggregateLengthTags",sectionName:"length"}),re=Object(L.a)(ae),ie=W({matchFilterFunctionName:"matchLocationTags",searchFilterFunctionName:"searchLocationTags",sectionName:"locality.localities",tagTypeAggregationFunctionName:"aggregateLocationTagTypes",tagValuesAggregationFunctionName:"aggregateLocationTagValues",tagValuesFieldName:"locality.localities.tagValues"}),oe=W({matchFilterFunctionName:"matchHigherGeographyTags",searchFilterFunctionName:"searchHigherGeographyTags",sectionName:"locality.higherGeography",tagTypeAggregationFunctionName:"aggregateHigherGeographyTagTypes",tagValuesAggregationFunctionName:"aggregateHigherGeographyTagValues",tagValuesFieldName:"locality.higherGeography.tagValues"}),ce=z({aggregationFunctionName:"aggregateAppearanceTags",fieldName:"collectingInformation.establishmentMeansType",matchFilterFunctionName:"matchAppearanceTags",sectionName:"locality.appearance"}),le=z({aggregationFunctionName:"aggregateSelectiveBreedingTags",fieldName:"originInformation.isResultOfSelectiveBreeding",matchFilterFunctionName:"matchSelectiveBreedingTags",sectionName:"locality.selectiveBreeding"}),se=[].concat(Object(L.a)(ce),Object(L.a)(oe),Object(L.a)(ie),Object(L.a)(le)),ue=z({aggregationFunctionName:"aggregateSkeletonTags",fieldName:"physicalObject.skeleton",matchFilterFunctionName:"matchSkeletonTags",sectionName:"physicalObject"}),de=z({aggregationFunctionName:"aggregateSkinTags",fieldName:"physicalObject.skin",matchFilterFunctionName:"matchSkinTags",sectionName:"physicalObject"}),me=z({aggregationFunctionName:"aggregateWetPreparationTags",fieldName:"physicalObject.wetPreparation",matchFilterFunctionName:"matchWetPreparationTags",sectionName:"physicalObject"}),pe=z({aggregationFunctionName:"aggregateOtherPreparationTags",fieldName:"physicalObject.otherPreparation",matchFilterFunctionName:"matchOtherPreparationTags",sectionName:"physicalObject"}),he=[].concat(Object(L.a)(ue),Object(L.a)(de),Object(L.a)(me),Object(L.a)(pe));var fe=function(e){var t=e.inputFieldName,n=e.searchFilterFunctionName,a=e.searchPreviewAggregationFunctionName,r=e.sectionName,i=e.srcFieldFieldName,o=e.srcFieldsAggregationFunctionName;return[{aggregation:function(e){var t=e.input,n=void 0===t?{}:t,r=e.sectionValues,i=n.searchString,o=void 0===i?"":i,c=r.srcField;return o?{aggregationFunction:a,input:{searchString:o,srcFields:"any"===c?void 0:[c]}}:null},fieldName:t,matchFilter:n&&function(e){var t=e.fieldValue,a=e.sectionValues,r=(void 0===a?{}:a).srcField;return t?{filter:{filterFunction:n,input:{searchString:t,srcFields:"any"===r?void 0:[r]}}}:null},rootQueryModifier:function(e){var t=e.rootQuery;return Object(_.a)({},t,{limit:50,sort:["relevance"]})},searchFilter:n&&function(e){var t=e.input,a=e.sectionValues,r=void 0===a?{}:a,i=t.searchString,o=r.srcField;return i?{filter:{filterFunction:n,input:{searchString:i,srcFields:"any"===o?void 0:[o]}}}:null},sectionName:r},{aggregation:function(){return{aggregationFunction:o}},fieldName:i,sectionName:r}]}({inputFieldName:"remarks.search",searchFilterFunctionName:"searchRemarks",searchPreviewAggregationFunctionName:"aggregateRemarksTextPreview",sectionName:"remarks",srcFieldFieldName:"remarks.srcField",srcFieldsAggregationFunctionName:"aggregateRemarkSrcFields"}),ve=z({aggregationFunctionName:"aggregateSexTags",fieldName:"sex.sex",matchFilterFunctionName:"matchSexTags",sectionName:"collectingSex"}),be=n(76);function ge(e){var t=e.aggregationFunctionName,n=e.fieldName,a=e.matchFilterFunctionName;return[{aggregation:function(){return{aggregationFunction:t}},fieldName:n,matchFilter:function(e){var t=e.fieldValue;return t&&t!==be.ANY?{filter:{filterFunction:a,input:{value:t}}}:null},sectionName:e.sectionName}]}var ye=W({matchFilterFunctionName:"matchStorageLocationTags",searchFilterFunctionName:"searchStorageLocationTags",sectionName:"storage",tagTypeAggregationFunctionName:"aggregateStorageLocationTagTypes",tagValuesAggregationFunctionName:"aggregateStorageLocationTagValues",tagValuesFieldName:"storage.tagValues"}),Oe=ge({aggregationFunctionName:"aggregateStorageLocationTagTypes",fieldName:"storage.tagType",matchFilterFunctionName:"matchPhysicalObjectStorageLocationGroups",sectionName:"storage"}),Ee=[].concat(Object(L.a)(ye),Object(L.a)(Oe)),je=W({matchFilterFunctionName:"matchTaxonomyTags",searchFilterFunctionName:"searchTaxonomyTags",sectionName:"taxonomy",tagTypeAggregationFunctionName:"aggregateTaxonomyTagTypes",tagValuesAggregationFunctionName:"aggregateTaxonomyTagValues",tagValuesFieldName:"taxonomy.tagValues"}),Te=ge({aggregationFunctionName:"aggregateTaxonomyTagTypes",fieldName:"taxonomy.tagType",matchFilterFunctionName:"matchCuratorialTaxonRank",sectionName:"taxonomy"}),Se=[].concat(Object(L.a)(je),Object(L.a)(Te)),Ie=ne({fieldName:"weight",rangeFilterFunctionName:"rangeWeight",rangeTypeAggregateTagsFunctionName:"aggregateWeightTags",sectionName:"weight"}),Ce=Object(L.a)(Ie),Ne=[].concat(Object(L.a)(Q),Object(L.a)(Y),Object(L.a)(X),Object(L.a)(J),Object(L.a)(ee),Object(L.a)(te),Object(L.a)(re),Object(L.a)(se),Object(L.a)(he),Object(L.a)(fe),Object(L.a)(ve),Object(L.a)(Ee),Object(L.a)(Se),Object(L.a)(Ce)),ke=function(e){var t=e.formName,n=e.querySpecifications,a=n.reduce(function(e,t){return Object(_.a)({},e,Object(M.a)({},t.fieldName,t))},{}),r=function(e){var t=e.formName,n=e.querySpecifications,a=function(e){return Object(f.a)(t)(e)},r=n.reduce(function(e,t){var n=t.sectionName;return n?e.includes(n)?e:[].concat(Object(L.a)(e),[n]):e},[]),i=function(){return null},o=r.reduce(function(e,t){return Object(_.a)({},e,Object(M.a)({},t,function(e){var n=a(e);return O.a.get(n,t)}))},{}),c=n.reduce(function(e,t){var n=t.fieldName;return Object(_.a)({},e,Object(M.a)({},n,function(e){var t=a(e);return O.a.get(t,n)}))},{}),l=n.reduce(function(e,t){var n=t.fieldName,a=t.matchFilter,r=t.sectionName;if(!a)return e;var l=c[n],s=r?o[r]:i,u=Object(b.createSelector)(l,s,function(e,t){return a({fieldValue:e,sectionValues:t})});return Object(_.a)({},e,Object(M.a)({},n,u))},{}),s=n.reduce(function(e,t){var a=t.fieldName,r=n.map(function(e){return e.fieldName}).filter(function(e){return a!==e}).map(function(e){return l[e]}).filter(function(e){return!!e}),i=Object(b.createSelector)(r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t&&t.length?{and:t.filter(function(e){return!!e})}:null});return Object(_.a)({},e,Object(M.a)({},a,i))},{});return{fieldMatchFilterSelectors:l,fieldValueSelectors:c,getFormSelector:a,getSubQueries:function(e){return n.map(function(t){var n=t.fieldName,a=l[n];return a?a(e):null}).filter(function(e){return!!e})},otherFieldFiltersSelectors:s,sectionValueSelectors:o}}({formName:t,querySpecifications:n});return{higherOrderComponents:function(e){var t=e.formName,n=e.querySpecificationsMap,a=e.selectors;return{createFieldHoc:K({querySpecificationsMap:n,selectors:a}),createFormHoc:H({formName:t,querySpecificationsMap:n,selectors:a})}}({formName:t,querySpecificationsMap:a,selectors:r}),selectors:r}}({formName:F.SPECIMEN_FILTERS_FORM_NAME,querySpecifications:Ne}).higherOrderComponents,we=n(21),xe=n(90),Ae=n(111),Re=n(636),Fe=n(22),Pe=n(218),Le=n.n(Pe),Me=n(46),_e=n(51),De={featureObservations:{}};function Be(e){var t=e.establishmentMeansTypes,n=void 0===t?[]:t,a=e.featureTypes,r=void 0===a?[]:a,i=e.identifierTypes,o=void 0===i?[]:i,c=e.specimen,l=void 0===c?{}:c,s=JSON.parse(JSON.stringify(l));if(s.individual||(s.individual={}),s.individual.determinations||(s.individual.determinations=[]),!s.individual.identifiers&&o.length>0){var u=o.find(function(e){var t=e.attributes;return t&&"catalog-no"===t.key});s.individual.identifiers=[{identifierType:{id:u.id},namespace:"",remarks:"",value:""}]}if(s.individual.recordHistoryEvents||(s.individual.recordHistoryEvents=[]),!s.individual.collectingInformation&&n.length>0){var d=n.find(function(e){var t=e.attributes;return t&&"wild-and-native"===t.key});s.individual.collectingInformation=[{establishmentMeansType:{id:d.id}}]}if(!s.individual.originInformation&&n.length>0){var m=n.find(function(e){var t=e.attributes;return t&&"unknown"===t.key});s.individual.originInformation=[{establishmentMeansType:{id:m.id},isResultOfSelectiveBreeding:"unknown"}]}return s.individual.featureObservations=function(e){var t=e.featureObservations,n=e.featureTypes;return t?Object.values(n).reduce(function(e,n){var a=n.attributes,r=n.id,i=t.find(function(e){return O.a.get(e,"featureType.id")===r});if(i)return Object(_.a)({},e,Object(M.a)({},r,i));var o={featureType:n};return"length"!==a.group&&"weight"!==a.group||(o.featureObservationUnit="unspecified"),Object(_.a)({},e,Object(M.a)({},r,o))},{}):De.featureObservations}({featureObservations:s.individual.featureObservations,featureTypes:r}),s}var Ve=Object(b.createSelector)(function(e){return e.establishmentMeansTypes},function(e){return e.featureTypes},function(e){return e.identifierTypes},function(e,t,n){return Be({establishmentMeansTypes:e,featureTypes:t,identifierTypes:n})}),Ue=Be,Ke=n(902),He=n(15),ze=n(72),Ge=n(194),qe=n(133),Qe=n.n(qe),We=n(25),Ye=n(38),Xe=n.n(Ye),Je=n(85),Ze=n.n(Je).a.getModels(),$e=function(){var e=Object(_.a)({},Ze);return e=Xe.a.set(e,"dateRange",Object(_.a)({},e.dateRange,{allOf:[{"x-validation-date-range-in-the-past":!0},{"x-validation-date-range-end-after-start":!0},{"x-validation-date-range-start-and-end":!0},{"x-validation-date-range-valid-if-not-empty":!0},{"x-validation-date-range-no-orphan-day":!0},{"x-validation-date-range-no-orphan-month":!0}]})),e=Xe.a.set(e,"determination.properties",Object(_.a)({},e.determination.properties,{key:{type:"string"}})),e=Xe.a.set(e,"individual.properties.featureObservations",Object(_.a)({},e.individual.properties.featureObservations,{patternProperties:{"/./g":{$ref:"featureObservation"}},type:"object"})),e=Xe.a.set(e,"position.properties.latitude",Object(_.a)({},e.position.properties.latitude,{allOf:[{"x-validation-digits-and-decimal-point":!0},{"x-validation-latitude":!0}]})),e=Xe.a.set(e,"position.properties.longitude",Object(_.a)({},e.position.properties.longitude,{allOf:[{"x-validation-digits-and-decimal-point":!0},{"x-validation-longitude":!0}]})),e=Xe.a.set(e,"collectionItem.required",["physicalObject"]),e=Xe.a.set(e,"physicalObject.required",["storageLocation"]),e=Xe.a.set(e,"storageLocation.required",["id"]),e=Xe.a.set(e,"storageLocation.properties.id",{minLength:1,type:"string"})}(),et=n(906),tt=n(1),nt=function(e){return e&&e.match(/^(\d{6}|\d{8})$/)?void 0:{errorCode:"INVALID_CATALOG_NUMBER"}},at=Object(We.createModuleTranslate)("collectionMammals"),rt={handleSubmit:void 0,history:void 0,valid:!1},it=function(e){function t(){var e;return Object(a.a)(this,t),(e=Object(i.a)(this,Object(o.a)(t).call(this))).handleBackToModalOne=e.handleBackToModalOne.bind(Object(c.a)(e)),e.handleCancel=e.handleCancel.bind(Object(c.a)(e)),e.handleGotoModalTwo=e.handleGotoModalTwo.bind(Object(c.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(c.a)(e)),e.state={createManually:!1},e}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleCancel",value:function(){this.props.history.go(-1)}},{key:"handleBackToModalOne",value:function(){var e=this.props,t=e.formName;(0,e.reset)(t),this.setState({createManually:!1})}},{key:"handleGotoModalTwo",value:function(){this.setState({createManually:!0})}},{key:"handleSubmit",value:function(e){this.props.handleSubmit(e)}},{key:"render",value:function(){var e=this.props,t=e.submitting,n=e.valid,a=this.state.createManually;return u.a.createElement(He.FormModal,{open:!0,size:"small"},u.a.createElement(tt.s.Header,null,u.a.createElement(at,{textKey:"other.createNewSpecimen"})),a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.s.Content,null,u.a.createElement(tt.s.Description,null,u.a.createElement(tt.i,null,u.a.createElement(tt.i.Column,{width:8},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,enableHelpNotifications:!1,helpText:u.a.createElement(at,{textKey:"other.sixOrEightDigits"}),label:u.a.createElement(at,{textKey:"other.catalogNumber"}),module:"collectionMammals",name:"individual.identifiers.0.value",type:"text",validate:[nt]}))))),u.a.createElement(tt.s.Actions,{style:{textAlign:"left"}},u.a.createElement(tt.b,{disabled:!n,loading:t,onClick:this.handleSubmit},u.a.createElement(at,{textKey:"other.useThisNumber"})),u.a.createElement(tt.b,{onClick:this.handleBackToModalOne},u.a.createElement(at,{textKey:"other.back"})),u.a.createElement(tt.b,{basic:!0,onClick:this.handleCancel},u.a.createElement(at,{textKey:"other.cancel"})))),!a&&u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.s.Content,null,u.a.createElement(tt.s.Description,null,u.a.createElement(at,{textKey:"other.automaticCatalogNumber"}))),u.a.createElement(tt.s.Actions,{style:{textAlign:"left"}},u.a.createElement(tt.b,{loading:t,onClick:this.handleSubmit},u.a.createElement(at,{textKey:"other.yesCreateNumber"})),u.a.createElement(tt.b,{onClick:this.handleGotoModalTwo},u.a.createElement(at,{textKey:"other.enterManully"})),u.a.createElement(tt.b,{basic:!0,onClick:this.handleCancel},u.a.createElement(at,{textKey:"other.cancel"})))))}}]),t}(s.PureComponent);it.defaultProps=rt;var ot=Object(d.c)(Object(m.b)(function(e,t){var n=t.formName;return{submitting:Object(et.a)(n)(e)}}),p.g)(it),ct=n(56);function lt(e){var t=e.establishmentMeansTypes,n=e.specimen,a=void 0===n?{}:n,r=JSON.parse(JSON.stringify(a));r.individual||(r.individual={});var i=O.a.get(r,"individual.determinations");i&&i.length&&(r.individual.determinations=i.map(function(e){var t=Object(_.a)({},e);return delete t.key,t}).filter(function(e){return!Object(ct.isEmpty)(e)}));var o=O.a.get(r,"individual.identifiers");o&&o.length&&(r.individual.identifiers=o.filter(function(e){return!!e.value}));var c=O.a.get(r,"individual.taxonInformation.customTaxonNames");return c&&c.length&&(r.individual.taxonInformation.customTaxonNames=c.filter(function(e){return!!e.value})),r.individual.featureObservations&&(r.individual.featureObservations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){var n=e[t];if(!n)return null;var a=n.featureType,r=Object(we.a)(n,["featureType"]);if(!Object.keys(r).length)return null;if(!n.featureObservationText)return null;var i={id:a.id};return Object(_.a)({},r,{featureType:i})}).filter(function(e){return!!e})}(r.individual.featureObservations)),r.individual.originInformation&&(r.individual.originInformation=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).originInformation.map(function(t){var n=t.establishmentMeansType,a=t.isResultOfSelectiveBreeding,r=t.originLocality,i=t.remarks,o=Object(_.a)({},t),c=e.find(function(e){return"unknown"===e.attributes.key});return r||i||n.id!==c.id||"unknown"!==a||(delete o.establishmentMeansType,delete o.isResultOfSelectiveBreeding,delete o.originLocality,delete o.remarks),o}).filter(function(e){return!Object(ct.isEmpty)(e)})}(t,r.individual),0===r.individual.originInformation.length&&delete r.individual.originInformation),r}var st=function(e){var t=O.a.get(e,"physicalObject.fullPath"),n=O.a.get(e,"physicalObject.storageLocation.fullPath");return t||n?{physicalObject:{storageLocation:{id:{errorCode:"REQUIRED",fullPath:t?"".concat(t,".storageLocation.id"):"".concat(n,".id")}}}}:e},ut=function(e){var t=O.a.get(e,"individual.collectionItems");return t&&O.a.set(e,"individual.collectionItems",t.map(st)),e},dt=n(138),mt=n(193),pt={name:"acquisition",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.acquisition"}},{componentName:"AddButton",componentProps:{textKey:"other.addAcquisition"},initiallyShown:!0}].concat(Object(L.a)(Object(mt.d)({initiallyHidden:!0,name:"individual.acquisition.date"})),Object(L.a)(Object(mt.a)({baseName:"individual.acquisition.handedInByAgent",initiallyHidden:!0,model:"acquisition"})),[{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.acquisition",model:"acquisition",resultPrefixTextKey:"remarks.resultPrefix.acquisition"},initiallyHidden:!0,name:"individual.acquisition.remarks",wrapInField:!0}])},ht={name:"collectingDate",parts:[{componentName:"TranslatedHeaderWithHelpIcon",componentProps:{as:"h3",helpNotificationProps:{descriptionHeaderKey:"modules.collectionMammals.headers.collectingDate",descriptionKey:"modules.collectionMammals.helpTexts.collectingInformation.collectingDate"},textKey:"headers.collectingDate"}}].concat(Object(L.a)(Object(mt.c)({baseName:"individual.collectingInformation.0.event.dateRange",displayDateTypeRadios:!0,emptyStateTextKey:"remarks.emptyState.date",model:"collectingInformation",resultPrefixTextKey:"remarks.resultPrefix.date"})))},ft={name:"collectingDeathRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.collectingAndDeathDetails"}}]},vt={name:"collectingLocation",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.collectingLocality"}},{componentName:"CollectingLocality",containsReduxFormField:!0,name:"individual.collectingInformation.0.event.locationInformation"},{componentName:"TextArea",componentProps:{columnProps:{width:11},rows:2,type:"text"},name:"individual.collectingInformation.0.event.locationInformation.localityI",wrapInField:!0},{componentName:"LocalityDropdownPickerSearch",componentProps:{columnProps:{width:11}},name:"individual.collectingInformation.0.event.locationInformation.places.0.id",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{clear:!0,width:5},type:"text"},name:"individual.collectingInformation.0.event.locationInformation.swedishGrid5km",wrapInField:!0},{componentName:"EstablishmentMeansTypeRadioGroup",label:"other.appearanceAtCollecting",module:"collectionMammals",name:"individual.collectingInformation.0.establishmentMeansType.id",wrapInField:!0},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.collectingLocationRemarks",model:"collectingInformation",resultPrefixTextKey:"remarks.resultPrefix.collectingLocationRemarks"},name:"individual.collectingInformation.0.remarks",wrapInField:!0}]},bt={name:"collectorExpedition",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.collectorAndExpedition"}}].concat(Object(L.a)(Object(mt.a)({baseName:"individual.collectingInformation.0.collectedByAgent",model:"collectingInformation"})),[{componentName:"Input",componentProps:{columnProps:{width:10},fluid:!0,type:"text"},name:"individual.collectingInformation.0.event.expeditionText",wrapInField:!0}])},gt={name:"death",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.death"}},{componentName:"Checkbox",componentProps:{inline:!0,textKey:"diedAtColleting"},name:"individual.collectingInformation.0.isDeathDate",wrapInField:!0},{componentName:"CauseOfDeathDropdownSearch",componentProps:{columnProps:{width:6},inline:!0,textKey:"causeOfDeathType"},name:"individual.deathInformation.0.causeOfDeathType.id",wrapInField:!0},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.death",model:"deathInformation",resultPrefixTextKey:"remarks.resultPrefix.death"},name:"individual.deathInformation.0.remarks",wrapInField:!0}]},yt={name:"determinations",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.determinations"}},{componentName:"DeterminationsAccordion",containsReduxFormField:!0,name:"individual.determinations",relativeNames:["taxonNameV","taxonNameI","determinedByAgent.textV","determinedByAgent.textI","determinedByAgent.normalized.id","date","remarks"]}]},Ot={name:"features",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.features"}},{componentName:"FeatureObservations",containsReduxFormField:!0,name:"individual.featureObservations",relativeNames:["featureType.id","featureObservationText","featureObservationUnit","methodText"]}]},Et={name:"identifiers",parts:[{componentName:"TranslatedHeaderWithHelpIcon",componentProps:{as:"h3",helpNotificationProps:{descriptionHeaderKey:"modules.collectionMammals.headers.identifiers",descriptionKey:"modules.collectionMammals.helpTexts.identifiers"},textKey:"headers.identifiers"},name:"individual.identifiers"},{componentName:"IdentifiersTable",containsReduxFormField:!0,name:"individual.identifiers",relativeNames:["identifierType.id","value"]}]},jt={name:"localityOriginRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.localityOrigin"}}]},Tt={compareInitiallyHiddenWithBaseValues:!0,name:"origin",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.origin"}},{componentName:"AddButton",componentProps:{textKey:"other.addOrigin"},initiallyShown:!0},{componentName:"TextArea",componentProps:{columnProps:{width:11},rows:2,type:"text"},initiallyHidden:!0,name:"individual.originInformation.0.originLocality",wrapInField:!0},{componentName:"EstablishmentMeansTypeRadioGroup",initiallyHidden:!0,label:"other.appearanceAtOrigin",module:"collectionMammals",name:"individual.originInformation.0.establishmentMeansType.id",wrapInField:!0},{componentName:"SelectiveBreeding",initiallyHidden:!0,label:"other.selectiveBreeding",name:"individual.originInformation.0.isResultOfSelectiveBreeding",wrapInField:!0},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.origin",model:"originInformation",resultPrefixTextKey:"remarks.resultPrefix.origin"},initiallyHidden:!0,name:"individual.originInformation.0.remarks",wrapInField:!0}]},St=n(81);function It(e){var t=Object(ct.camelCase)(e);return[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.physicalObjects.".concat(t)}},{componentName:"PhysicalObjectsAccordion",componentProps:{category:e},containsReduxFormField:!0,name:"individual.collectionItems",relativeNames:["preparationType.id","physicalObject.storageLocation.id","description"]}]}var Ct={acquisition:pt,collectingDate:ht,collectingDeathRoot:ft,collectingLocation:vt,collectorExpedition:bt,death:gt,determinations:yt,features:Ot,identifiers:Et,localityOriginRoot:jt,origin:Tt,physicalObjectsOtherPreparation:{name:"physicalObjectsOtherPreparation",parts:Object(L.a)(It(St.OTHER_PREPARATION))},physicalObjectsRoot:{name:"physicalObjectsRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.physicalObjects"}},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.collectionItems",model:"specimen",resultPrefixTextKey:"remarks.resultPrefix.physicalObjects"},name:"collectionItemsRemarks",wrapInField:!0}]},physicalObjectsSkeleton:{name:"physicalObjectsSkeleton",parts:Object(L.a)(It(St.SKELETON))},physicalObjectsSkin:{name:"physicalObjectsSkin",parts:Object(L.a)(It(St.SKIN))},physicalObjectsWetPreparation:{name:"physicalObjectsWetPreparation",parts:Object(L.a)(It(St.WET_PREPARATION))},recordHistoryExternalEvents:{name:"recordHistoryExternalEvents",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.externalEvents"}},{componentName:"RecordHistoryExternalEvents",containsReduxFormField:!0,name:"individual.recordHistoryEvents",relativeNames:["agent","date"]}]},specimenRoot:{name:"specimenRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",columnProps:{width:12},textKey:"headers.basicInformation"}},{componentName:"Checkbox",componentProps:{columnProps:{width:4},inline:!0,model:"specimen",textKey:"public"},name:"publishRecord",wrapInField:!0},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.specimen",model:"specimen",resultPrefixTextKey:"remarks.resultPrefix.specimen"},name:"remarks",wrapInField:!0}]},taxonomyRoot:{name:"taxonomyRoot",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.taxonomy"}},{componentName:"Remarks",componentProps:{emptyStateTextKey:"remarks.emptyState.taxonomy",model:"taxonomy",resultPrefixTextKey:"remarks.resultPrefix.taxonomy"},name:"individual.taxonInformation.taxonRemarks",wrapInField:!0}]},taxonOtherName:{name:"taxonOtherName",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.taxonOtherNames"}},{componentName:"CustomTaxonNamesTable",containsReduxFormField:!0,name:"individual.taxonInformation.customTaxonNames",relativeNames:["customTaxonNameType.id","value"]}]},taxonPreferredName:{name:"taxonPreferredName",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.taxon"}},{componentName:"TogglableTaxonDropdownPickerSearch",name:"individual.taxonInformation.curatorialTaxon.id",wrapInField:!0}]},typeStatus:{name:"typeStatus",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h3",textKey:"headers.typeInformation"}},{componentName:"AddButton",componentProps:{textKey:"other.addTypeStatus"},initiallyShown:!0},{componentName:"TypeSpecimenTypeDropdownSearch",componentProps:{columnProps:{clear:!0,width:6}},initiallyHidden:!0,name:"individual.taxonInformation.typeStatus.id",wrapInField:!0},{componentName:"Input",componentProps:{columnProps:{width:8},fluid:!0,type:"text"},initiallyHidden:!0,name:"individual.taxonInformation.typifiedName",wrapInField:!0}]}},Nt=[{name:"basicInformation",units:[Ct.specimenRoot,Ct.identifiers,Ct.acquisition,Ct.recordHistoryExternalEvents,dt.b,dt.a]},{name:"taxonomy",units:[Ct.taxonomyRoot,Ct.taxonPreferredName,Ct.taxonOtherName,Ct.typeStatus,Ct.determinations]},{name:"localityOrigin",units:[Ct.localityOriginRoot,Ct.collectingLocation,Ct.origin]},{name:"collectingDeath",units:[Ct.collectingDeathRoot,Ct.collectorExpedition,Ct.collectingDate,Ct.death]},{name:"physicalObjects",units:[Ct.physicalObjectsRoot,Ct.physicalObjectsSkeleton,Ct.physicalObjectsSkin,Ct.physicalObjectsWetPreparation,Ct.physicalObjectsOtherPreparation]},{name:"features",units:[Ct.features]}],kt=n(505),wt=n(157),xt=n(463),At=n(464),Rt=n(465),Ft=Object(wt.a)({CauseOfDeathDropdownSearch:xt.a,EstablishmentMeansTypeRadioGroup:At.a,TypeSpecimenTypeDropdownSearch:Rt.a}),Pt=n(517),Lt=n(296),Mt=n(39),_t={float:"left"},Dt={coordinatesVerbatim:void 0,georeferenceSourcesText:void 0,onEdit:void 0,position:void 0,verticalPosition:void 0},Bt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coordinatesVerbatim,n=e.georeferenceSourcesText,a=e.onEdit,r=e.position,i=e.verticalPosition,o=r||{},c=o.latitude,l=o.longitude,s=o.uncertaintyInMeters,d=c||l,m=d?function(e,t){var n=e&&Number(e),a=n<0?"S":"N",r=t&&Number(t),i=t<0?"W":"E";return e&&t?"".concat(Math.abs(n)," ").concat(a,", ").concat(Math.abs(r),"\n      ").concat(i," (WGS84)"):e?"".concat(Math.abs(n)," ").concat(a," (WGS84)"):"".concat(Math.abs(r)," ").concat(i," (WGS84)")}(c,l):t,p=void 0!==s&&"Uncertainty: ".concat(s," m"),h=i||{},f=h.maximumDepthInMeters,v=h.maximumElevationInMeters,b=h.minimumDepthInMeters,g=h.minimumElevationInMeters,y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(", ")}(m,p,(void 0!==v||void 0!==g)&&function(e,t){return void 0===e?"Elevation: ".concat(t," m"):void 0===t?"Elevation: ".concat(e," m"):"Elevation: ".concat(t," to\n    ").concat(e," m")}(v,g),(void 0!==f||void 0!==b)&&function(e,t){return void 0===e?"Depth: ".concat(t," m"):void 0===t?"Depth: ".concat(e," m"):"Depth: ".concat(t," to ").concat(e," m")}(f,b),n);return u.a.createElement(u.a.Fragment,null,d&&u.a.createElement("div",{style:_t},u.a.createElement(tt.k,{name:"marker"})),y&&y,u.a.createElement("span",{style:{paddingLeft:"0.8em"}},u.a.createElement(tt.k,{name:"edit",onClick:a,style:{cursor:"pointer"}})))}}]),t}(s.PureComponent);Bt.defaultProps=Dt;var Vt=Object(d.c)(Object(Mt.pathBuilder)())(Bt),Ut=n(252),Kt=n(100),Ht={float:"left",paddingRight:"0.1em",width:"6em"},zt={name:void 0},Gt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.max,a=e.min,r=e.module;return u.a.createElement(He.FieldTemplate,{float:"left",meta:{},module:r,name:t},u.a.createElement("div",null,u.a.createElement("div",{style:Ht},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,displayLabel:!1,displaySubLabels:!1,fluid:!0,labelPosition:"right",module:r,name:a,type:"number"})),u.a.createElement("div",{style:{float:"left",marginTop:"0.5em",textAlign:"center",width:"2em"}},"/"),u.a.createElement("div",{style:Ht},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,displayLabel:!1,displaySubLabels:!1,fluid:!0,labelPosition:"right",module:r,name:n,type:"number"}))))}}]),t}(s.PureComponent);Gt.defaultProps=zt;var qt=Gt,Qt=Object(We.createModuleTranslate)("collectionMammals"),Wt=Object(Ut.a)(function(e){return[e("coordinatesVerbatim"),e("position.latitude"),e("position.longitude"),e("georeferenceSourcesText"),e("position.uncertaintyInMeters"),e("verticalPosition"),e("verticalPosition")]}),Yt=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isInvalid,n=e.getPath,a=e.module,r=e.onClose,i=e.open;return u.a.createElement(He.FormModal,{open:i,size:"tiny"},u.a.createElement(tt.s.Header,null,u.a.createElement(Qt,{module:a,textKey:"headers.localityPosition"})),u.a.createElement(tt.s.Content,null,u.a.createElement(tt.s.Description,null,u.a.createElement(tt.i,null,u.a.createElement(tt.i.Row,{className:"relaxed"},u.a.createElement(tt.i.Column,{width:13},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,fluid:!0,module:a,name:n("coordinatesVerbatim"),type:"text"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Coordinates,label:u.a.createElement(Qt,{textKey:"other.coordinates"}),latitudeLabel:u.a.createElement(Qt,{textKey:"other.latitude"}),longitudeLabel:u.a.createElement(Qt,{textKey:"other.longitude"}),module:a,name:n("position")})),u.a.createElement(tt.i.Column,{width:7},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,fluid:!0,module:a,name:n("position.uncertaintyInMeters"),type:"number"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(qt,{max:n("verticalPosition.maximumElevationInMeters"),min:n("verticalPosition.minimumElevationInMeters"),module:a,name:n("verticalPosition.elevation")})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(qt,{max:n("verticalPosition.maximumDepthInMeters"),min:n("verticalPosition.minimumDepthInMeters"),module:a,name:n("verticalPosition.depth")})),u.a.createElement(tt.i.Column,{width:13},u.a.createElement(He.Field,{autoComplete:"off",component:He.TextArea,fluid:!0,module:a,name:n("georeferenceSourcesText"),type:"text"})))))),u.a.createElement(tt.s.Actions,{style:{textAlign:"left"}},u.a.createElement(tt.b,{disabled:t,onClick:r},u.a.createElement(Qt,{textKey:"other.done"}))))}}]),t}(s.PureComponent),Xt=Object(m.b)(function(e,t){var n=t.open,a=t.formName,r=t.getPath;return{isInvalid:n&&Kt.a.getAnyFieldIsInvalid(e,{fieldNames:Wt(r),formName:a,requireTouched:!1})}})(Yt),Jt=Object(Fe.a)("modules:collectionMammals:MammalForm:CollectingLocality"),Zt={float:"left",marginBottom:"1.56em",paddingLeft:"1.32em",paddingRight:"1.32em"},$t={coordinatesVerbatim:void 0,georeferenceSourcesText:void 0,position:void 0,verticalPosition:void 0},en=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(c.a)(n)),n.handleOpen=n.handleOpen.bind(Object(c.a)(n)),n.state={open:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this.props,t=e.coordinatesVerbatim,n=e.georeferenceSourcesText,a=e.getPath,r=e.formName,i=e.module,o=e.position,c=e.verticalPosition,l=this.state.open,s=o&&Object.keys(o).length,d=c&&Object.keys(c).length,m=t||n||s||d;return Jt.render(),u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.i.Column,{width:11},u.a.createElement(He.Field,{autoComplete:"off",component:He.TextArea,displayLabel:!0,fluid:!0,module:i,name:a("localityV"),rows:2,type:"text"})),m?u.a.createElement(tt.i.Column,{width:11},u.a.createElement(Vt,{coordinatesVerbatim:t,georeferenceSourcesText:n,module:i,onEdit:this.handleOpen,position:o,verticalPosition:c})):u.a.createElement(tt.i.Column,{width:5},u.a.createElement(tt.b,{floated:"left",onClick:this.handleOpen,style:Zt,type:"button"},u.a.createElement(tt.k,{name:"marker"}),u.a.createElement(We.ModuleTranslate,{capitalize:!0,module:i,textKey:"other.addPosition"}))),u.a.createElement(Xt,{formName:r,getPath:a,module:i,name:a("position"),onClose:this.handleClose,open:l}))}}]),t}(s.PureComponent);en.defaultProps=$t;var tn=Object(d.c)(Object(Mt.pathBuilder)(),Object(m.b)(function(e,t){var n=t.formValueSelector,a=t.getPath;return{coordinatesVerbatim:n(e,a("coordinatesVerbatim")),georeferenceSourcesText:n(e,a("georeferenceSourcesText")),position:n(e,a("position")),verticalPosition:n(e,a("verticalPosition"))}}))(en),nn=n(134),an=n(73),rn=n(50),on=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/CustomTaxonNamesTable/Row"),cn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.changeFieldValue,n=e.customTaxonName;t((0,e.getPath)("customTaxonName.id"),n.id)}},{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.index;(0,e.removeArrayFieldByIndex)(t(),n)}},{key:"render",value:function(){var e=this.props,t=e.customTaxonNameTypeOptions,n=e.getPath,a=e.i18n.moduleTranslate;return on.render(),u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"middle"},u.a.createElement(tt.i.Column,{width:6},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.DropdownSearch,displayLabel:!1,module:"collectionMammals",name:n("customTaxonNameType.id"),options:t,placeholder:a({capitalize:!0,textKey:"other.selectKindOfName"}),type:"dropdown-search-local"})),u.a.createElement(tt.i.Column,{width:8},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,displayLabel:!1,fluid:!0,module:"collectionMammals",name:n("value"),placeholder:a({capitalize:!0,textKey:"other.addNameOrNames"}),type:"text"})),u.a.createElement(tt.i.Column,{width:2},u.a.createElement(He.ConfirmationPopup,{cancelButtonText:a({capitalize:!0,textKey:"other.cancel"}),confirmButtonText:a({capitalize:!0,textKey:"other.remove"}),header:a({capitalize:!0,textKey:"other.removeThisOtherName"}),hideOnScroll:!0,iconName:"trash",onConfirm:this.handleRemove,size:"large",type:"icon"})))}}]),t}(s.PureComponent),ln=Object(d.c)(Object(rn.withI18n)({module:"collectionMammals"}),Object(Mt.pathBuilder)())(cn),sn=nn.a.AddButton,un=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/CustomTaxonNamesTable");function dn(e){var t=e.allCustomTaxonNameTypesFetched,n=e.changeFieldValue,a=e.getPath,r=e.customTaxonNames,i=e.customTaxonNameTypeOptions,o=e.removeArrayFieldByIndex;return un.render(),t?u.a.createElement(u.a.Fragment,null,r.map(function(e,t){return u.a.createElement(tt.i.Column,{key:t,width:16},u.a.createElement(ln,{changeFieldValue:n,customTaxonName:e,customTaxonNameTypeOptions:i,index:t,key:t,removeArrayFieldByIndex:o}))}).filter(function(e){return!!e}),u.a.createElement(sn,{id:"add-customTaxonName",onClick:function(e){e.preventDefault(),n(a(r.length),{})},textKey:"other.addOtherName"})):null}dn.defaultProps={allCustomTaxonNameTypesFetched:!1,customTaxonNames:[]};var mn=Object(d.c)(Object(m.b)(function(e,t){var n=t.formValueSelector,a=t.name;return{allCustomTaxonNameTypesFetched:an.b.get[":resource.allItems.fetched"](e,{resource:"customTaxonNameType"}),customTaxonNames:n(e,a),customTaxonNameTypeOptions:_e.a.customTaxonNameType.getAllAsOptions(e)}}),Object(Mt.pathBuilder)())(dn),pn=n(268),hn=n.n(pn),fn=n(37),vn=n(58),bn=n(116),gn=n(175),yn=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/DeterminationsAccordion/DeterminationContent"),On=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.handleSetInactive,a=e.index,r=e.removeArrayFieldByIndex;n(a),r(t(),a)}},{key:"render",value:function(){var e=this.props,t=e.getPath,n=e.getTranslationPath,a=e.handleSetInactive,r=e.i18n.moduleTranslate,i=e.index,o=e.removeArrayFieldByIndex,c=e.skipRemoveDeterminationConfirmation;return yn.render(),u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"bottom"},u.a.createElement(tt.i.Row,{className:"relaxed"},u.a.createElement(tt.i.Column,{width:8},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,fluid:!0,module:"collectionMammals",name:t("taxonNameV"),type:"text"})),u.a.createElement(tt.i.Column,{width:8},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,fluid:!0,module:"collectionMammals",name:t("taxonNameI"),type:"text"})),u.a.createElement(tt.i.Column,{width:7},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,fluid:!0,model:"determinations",module:"collectionMammals",name:t("determinedByAgent.textV"),type:"text"})),u.a.createElement(tt.i.Column,{width:9},u.a.createElement(He.Field,{autoComplete:"off",buttonTextKey:"other.interpretThisName",component:gn.TogglableAgentDropdownPickerSearch,displayEmptyStateLabel:!1,displayResultLabel:!1,module:"collectionMammals",name:t("determinedByAgent")})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.SingleDate,module:"collectionMammals",name:t("date"),parameterKey:"determinations.date"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Remarks,emptyStateTextKey:"remarks.emptyState.determination",model:"determination",module:"collectionMammals",name:t("remarks")})),u.a.createElement(tt.i.Column,{textAlign:"right",width:16},c&&u.a.createElement(tt.b,{basic:!0,onClick:function(e){e.preventDefault(),a(i),o(n(),i)},type:"button"},r({capitalize:!0,textKey:"other.remove"})),!c&&u.a.createElement(He.ConfirmationPopup,{cancelButtonText:r({capitalize:!0,textKey:"other.cancel"}),confirmButtonText:r({capitalize:!0,textKey:"other.remove"}),header:r({capitalize:!0,textKey:"other.removeThisDetermination"}),hideOnScroll:!0,onConfirm:this.handleRemove,text:r({capitalize:!0,textKey:"other.deleteDetermination"})}))))}}]),t}(s.Component),En=Object(d.c)(Object(rn.withI18n)({module:"collectionMammals"}),Object(Mt.pathBuilder)())(On),jn=n(84),Tn=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/DeterminationsAccordion/DeterminationTitle"),Sn={date:void 0,determinedByAgent:void 0,invalidDate:!1,normalizedAgent:void 0,remarks:void 0,taxonNameI:void 0,taxonNameV:void 0};function In(e){var t=e.active,n=e.date,a=e.determinedByAgent,r=e.invalidDate,i=e.normalizedAgent,o=e.remarks,c=e.taxonNameI,l=e.taxonNameV;Tn.render();var s=[c||l,i&&i.fullName||a&&a.textI||a&&a.textV,n&&n.startDate&&Object(jn.buildYYYYMMDD)(n.startDate),o].filter(function(e){return!!e}).join("; ");return u.a.createElement(tt.i,{className:r&&!t?"error":void 0},u.a.createElement(tt.i.Column,null,u.a.createElement(tt.k,{name:"dropdown"}),!t&&s))}In.defaultProps=Sn;var Cn=Object(d.c)(Object(E.createGetNestedItemById)({idPath:"determinedByAgent.normalized.id",nestedItemKey:"normalizedAgent",resource:"normalizedAgent"}),Object(Mt.pathBuilder)(),Object(m.b)(function(e,t){var n=t.formName,a=t.getPath;return{invalidDate:Kt.a.getAnyFieldIsInvalid(e,{fieldNames:[a("date")],formName:n})}}))(In),Nn=nn.a.AddButton,kn=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/DeterminationsAccordion"),wn=function(e){var t=e.changeFieldValue,n=e.determinations,a=e.formName,r=e.removeArrayFieldByIndex;return kn.render(),u.a.createElement(u.a.Fragment,null,n&&n.length>0&&u.a.createElement(tt.i.Column,{width:16},u.a.createElement(vn.Accordion,{expandFirstItemOnMountIfEmptyOrOnlyHasKey:!0,initialActiveMode:bn.a,items:n,renderContent:function(e){return u.a.createElement(En,Object.assign({removeArrayFieldByIndex:r,skipRemoveDeterminationConfirmation:fn.a.isTest},e))},renderTitle:function(e){var t=e.index,r=Object(we.a)(e,["index"]);return u.a.createElement(Cn,Object.assign({formName:a,index:t},n[t]||{},r))},skipRemoveDeterminationConfirmation:fn.a.isTest})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(Nn,{id:"add-determination",module:"collectionMammals",onClick:function(e){e.preventDefault();var a=n&&n.length||0;t("individual.determinations.".concat(a),{key:hn()()})},textKey:"other.addDetermination"})))};wn.defaultProps={determinations:[]};var xn=Object(d.c)(Object(m.b)(function(e,t){return{determinations:(0,t.formValueSelector)(e,"individual.determinations")}}),Object(Mt.pathBuilder)())(wn),An=n(468),Rn=n(300),Fn=Object(Fe.a)("modules:collectionMammals:MammalForm:FeatureObservations:FeatureObservationsTableRow"),Pn=Object(We.createModuleTranslate)("collectionMammals"),Ln=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.changeFieldValue,n=e.getPath,a=e.featureType;t(n("featureType.id"),a.id)}},{key:"render",value:function(){var e=this.props,t=e.featureType,n=e.getPath,a=e.i18n.moduleTranslate,r=e.index,i=e.module,o=t.attributes,c=o.group,l=o.key,s=o.selectableMethods,d=o.selectableUnits,m=o.selectableValues,p=function(e,t){var n;switch(e){case"bone-count":break;case"length":n="length";break;case"weight":n="weight";break;default:n=t}return n&&"featureObservations.placeholders.".concat(n)}(c,l),h=!!s,f=!!d,v=!!m,b=f||h,g="length"===c||"weight"===c,y=function(e){switch(e){case"bone-count":return 1;case"carcass-condition":return 7;case"age-and-stage":case"age-stage":case"sex":return 6;default:return 4}}(c),O=function(e){switch(e){case"bone-count":case"sex":return 2;case"length":case"carcass-condition":return 3;case"age-and-stage":case"age-stage":return 5;default:return 4}}(c);return Fn.render(),u.a.createElement(tt.z.Row,{key:r},u.a.createElement(tt.z.Cell,{key:n("featureType.id"),width:O},u.a.createElement(He.FieldTemplate,{label:u.a.createElement(Pn,{fallback:l,module:i,scope:"featureObservations",textKey:"other.".concat(l)}),module:i,name:"features.".concat(l)})),v?u.a.createElement(tt.z.Cell,{key:n("featureObservationText"),width:y},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:Rn.FeatureObservationDropdownSearch,displayLabel:!1,module:i,name:n("featureObservationText"),placeholder:p&&a({capitalize:!0,module:i,textKey:p}),rawOptions:m,type:"text"})):u.a.createElement(tt.z.Cell,{key:n("featureObservationText"),width:y},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,displayLabel:!1,fluid:!0,module:i,name:n("featureObservationText"),placeholder:p&&a({capitalize:!0,module:i,textKey:p}),type:"text"})),f&&u.a.createElement(tt.z.Cell,{key:n("featureObservationUnit"),width:5},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:Rn.FeatureObservationDropdownSearch,defaultOptionValue:g?"unspecified":void 0,disableClearValue:g,displayLabel:!1,module:i,name:n("featureObservationUnit"),placeholder:a({capitalize:!0,module:i,textKey:"featureObservations.placeholders.selectUnit"}),rawOptions:d,type:"text"})),h&&u.a.createElement(tt.z.Cell,{key:n("methodText"),width:6},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:Rn.FeatureObservationDropdownSearch,displayLabel:!1,module:i,name:n("methodText"),placeholder:a({capitalize:!0,module:i,textKey:"featureObservations.placeholders.selectMethod"}),rawOptions:s,type:"text"})),!b&&u.a.createElement(tt.z.Cell,{width:6}),f&&u.a.createElement(tt.z.Cell,{width:4}))}}]),t}(s.PureComponent),Mn=Object(d.c)(Object(rn.withI18n)(),Object(Mt.pathBuilder)())(Ln),_n=Object(Fe.a)("modules:collectionMammals:MammalForm:FeatureObservations:FeatureObservationsTable");var Dn=Object(d.c)(Object(m.b)(function(){var e=Object(An.makeGetFeatureTypesInGroups)();return function(t,n){var a=n.groups;return{featureTypes:e(t,a)}}}))(function(e){var t=e.changeFieldValue,n=e.featureTypes;return n.length?(_n.render(),u.a.createElement(tt.z,{basic:"very"},u.a.createElement(tt.z.Body,null,n.map(function(e){return u.a.createElement(Mn,{changeFieldValue:t,featureType:e,index:e.id,key:e.attributes.key,module:"collectionMammals"})})))):null}),Bn=Object(Fe.a)("modules:collectionMammals:MammalForm:FeatureObservations:FeatureObservationsTitle");var Vn=function(e){var t=e.headlineKey;return Bn.render(),u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.k,{name:"dropdown"}),u.a.createElement(We.ModuleTranslate,{module:"collectionMammals",scope:"enums.featureObservations",textKey:t}))},Un=Object(Fe.a)("modules:collectionMammals:MammalForm:FeatureObservations"),Kn=[{groups:["age-and-stage","age-stage"],headlineKey:"age-development-stage"},{groups:["sex"],headlineKey:"sex"},{groups:["carcass-condition"],headlineKey:"carcass-condition"},{groups:["bone-count"],headlineKey:"bone-count"},{groups:["weight"],headlineKey:"weight"},{groups:["length"],headlineKey:"length"}],Hn=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allFeatureTypesFetched,n=e.changeFieldValue;return t?(Un.render(),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(vn.Accordion,{delayItemRenderUntilActive:!fn.a.isTest,items:Kn,renderContent:function(e){return u.a.createElement(Dn,Object.assign({changeFieldValue:n},e))},renderTitle:function(e){return u.a.createElement(Vn,e)}}))):null}}]),t}(s.PureComponent);Hn.defaultProps={allFeatureTypesFetched:!1};var zn=Object(d.c)(Object(m.b)(function(e){return{allFeatureTypesFetched:an.b.get[":resource.allItems.fetched"](e,{resource:"featureType"})}}),Object(Mt.pathBuilder)())(Hn),Gn=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/IdentifiersTable/Row"),qn=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.changeFieldValue,n=e.getPath,a=e.identifier;t(n("identifier.id"),a.id)}},{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.index;(0,e.removeArrayFieldByIndex)(t(),n)}},{key:"render",value:function(){var e=this.props,t=e.identifierTypeOptions,n=e.getPath,a=e.i18n.moduleTranslate;return Gn.render(),u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"middle"},u.a.createElement(tt.i.Column,{width:6},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.DropdownSearch,displayLabel:!1,module:"collectionMammals",name:n("identifierType.id"),options:t,placeholder:a({capitalize:!0,textKey:"other.selectIdentifierType"}),type:"dropdown-search-local"})),u.a.createElement(tt.i.Column,{width:8},u.a.createElement(He.Field,{autoComplete:"off",className:"transparent",component:He.Input,displayLabel:!1,fluid:!0,module:"collectionMammals",name:n("value"),placeholder:a({capitalize:!0,textKey:"other.addIdentifierOrIdentifiers"}),type:"text"})),u.a.createElement(tt.i.Column,{width:2},u.a.createElement(He.ConfirmationPopup,{cancelButtonText:a({capitalize:!0,textKey:"other.cancel"}),confirmButtonText:a({capitalize:!0,textKey:"other.remove"}),header:a({capitalize:!0,textKey:"other.removeThisIdentifier"}),hideOnScroll:!0,iconName:"trash",onConfirm:this.handleRemove,size:"large",type:"icon"})))}}]),t}(s.PureComponent),Qn=Object(d.c)(Object(rn.withI18n)({module:"collectionMammals"}),Object(Mt.pathBuilder)())(qn),Wn=nn.a.AddButton,Yn=Object(Fe.a)("modules:collectionMammals:MammalManager/MainColumn/RecordForm/formParts/IdentifiersTable");function Xn(e){var t=e.allIdentifierTypesFetched,n=e.changeFieldValue,a=e.getPath,r=e.identifiers,i=e.identifierTypeOptions,o=e.removeArrayFieldByIndex;return r.length&&t?(Yn.render(),u.a.createElement(u.a.Fragment,null,r[0].value&&u.a.createElement(tt.i.Column,{width:16},"Catalog no.: ".concat(r[0].value)),r.slice(1).map(function(e,t){return u.a.createElement(tt.i.Column,{key:t,width:16},u.a.createElement(Qn,{changeFieldValue:n,identifier:e,identifierTypeOptions:i,index:t+1,key:t+1,removeArrayFieldByIndex:o}))}).filter(function(e){return!!e}),u.a.createElement(Wn,{id:"add-identifier",onClick:function(e){e.preventDefault(),n(a(r.length),{})},textKey:"other.addIdentifier"}))):null}Xn.defaultProps={allIdentifierTypesFetched:!1,identifiers:[]};var Jn=Object(d.c)(Object(m.b)(function(e,t){var n=t.formValueSelector,a=t.name;return{allIdentifierTypesFetched:an.b.get[":resource.allItems.fetched"](e,{resource:"identifierType"}),identifiers:n(e,a),identifierTypeOptions:_e.a.identifierType.getAllAsOptions(e).filter(function(e){return"Catalog no."!==e.text})}}),Object(Mt.pathBuilder)())(Xn),Zn=n(110),$n=n.n(Zn),ea=n(428),ta=n(277),na=n(353),aa=n(494),ra=n(154),ia=Object(Fe.a)("modules:collectionMammals:formParts:PhysicalObjectsAccordion:CuratorialAssessmentForm:FormActions"),oa=Object(We.createModuleTranslate)("collectionMammals"),ca={displayBackButton:!1,displayRemoveButton:!1,displayResetButton:!1,error:"",onRemove:void 0,submitButtonTextKey:void 0},la=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=fn.a.isTest;ia.render();var t=this.props,n=t.displayBackButton,a=t.displayRemoveButton,r=t.displayResetButton,i=t.error,o=t.form,c=t.invalid,l=t.onClose,s=t.onRemove,d=t.pristine,m=t.reset,p=t.submitButtonTextKey,h=t.submitFailed,f=t.submitSucceeded,v=t.submitting;return u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{mobile:16},u.a.createElement(tt.b,{disabled:v,size:"large",type:"submit"},u.a.createElement(oa,{textKey:p||"other.add"})),r&&u.a.createElement(tt.b,{basic:!0,disabled:d||v,onClick:m,size:"large",type:"button"},u.a.createElement(oa,{textKey:"other.reset"})),n&&u.a.createElement(tt.b,{basic:!0,onClick:l,size:"large",type:"button"},u.a.createElement(oa,{textKey:"other.cancel"})),a&&e&&s&&u.a.createElement(tt.b,{onClick:s,size:"large",type:"button"},u.a.createElement(oa,{textKey:"other.remove"})),a&&!e&&s&&u.a.createElement(He.ConfirmationPopup,{cancelButtonText:u.a.createElement(oa,{textKey:"other.cancel"}),confirmButtonText:u.a.createElement(oa,{textKey:"other.remove"}),header:u.a.createElement(oa,{textKey:"other.removeThisCuratorialAssessment"}),hideOnScroll:!0,onConfirm:s,size:"large",text:u.a.createElement(oa,{textKey:"other.remove"})}),u.a.createElement(ra.ConnectedFormSchemaError,{form:o}),c&&!i&&h&&u.a.createElement(tt.r,{error:!0,header:u.a.createElement(oa,{textKey:"other.formContainsErrors"})}),h&&i&&u.a.createElement(tt.r,{content:i,error:!0,header:u.a.createElement(oa,{textKey:"other.submitFailed"})}),f&&u.a.createElement(tt.r,{header:u.a.createElement(oa,{textKey:"other.saved"}),success:!0})))}}]),t}(s.PureComponent);la.defaultProps=ca;var sa=la,ua=Object(Fe.a)("modules:collectionMammals:formParts:PhysicalObjectsAccordion:CuratorialAssessmentForm:Base"),da={displayBackButton:!1,displayRemoveButton:!1,displayResetButton:!1,error:"",onRemove:void 0,submitButtonTextKey:void 0},ma=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){ua.render();var e=this.props,t=e.displayBackButton,n=e.displayRemoveButton,a=e.displayResetButton,r=e.error,i=e.form,o=e.handleSubmit,c=e.invalid,l=e.onClose,s=e.onRemove,d=e.pristine,m=e.reset,p=e.submitButtonTextKey,h=e.submitFailed,f=e.submitSucceeded,v=e.submitting;return u.a.createElement(tt.h,{error:!!r,onSubmit:o(this.props.onSubmit)},u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Row,{className:"relaxed"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.SingleDate,module:"collectionMammals",name:"date",parameterKey:"curatorialAssessment.date",type:"input-text"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:gn.AgentDropdownPickerSearch,enablePlainTextOption:!1,module:"collectionMammals",name:"agent",parameterKey:"curatorialAssessment.agent"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,module:"collectionMammals",name:"condition",parameterKey:"curatorialAssessment.condition",type:"input-text"})),u.a.createElement(tt.i.Column,{width:4},u.a.createElement("label",{htmlFor:"isInStorage true"},u.a.createElement(He.Field,{component:"input",format:ze.formatBooleanRadio,name:"isInStorage",parse:ze.parseBooleanRadio,type:"radio",value:"true"})," ","In storage")),u.a.createElement(tt.i.Column,{width:4},u.a.createElement("label",{htmlFor:"isInStorage false"},u.a.createElement(He.Field,{component:"input",format:ze.formatBooleanRadio,name:"isInStorage",parse:ze.parseBooleanRadio,type:"radio",value:"false"})," ","Not in storage")),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Remarks,model:"curatorialAssessment",module:"collectionMammals",name:"remarks",parameterKey:"curatorialAssessment.remarks",type:"input-text"}))),u.a.createElement(sa,{displayBackButton:t,displayRemoveButton:n,displayResetButton:a,error:r,form:i,invalid:c,onClose:l,onRemove:s,pristine:d,reset:m,submitButtonTextKey:p,submitFailed:h,submitSucceeded:f,submitting:v})))}}]),t}(s.PureComponent);ma.defaultProps=da;var pa=Object(Ke.a)({destroyOnUnmount:!0,enableReinitialize:!1,form:"curatorialAssessmentForm",validate:Qe()({model:"curatorialAssessment",models:$e})})(ma),ha={agent:void 0,agentText:void 0,condition:void 0,conditionRemarks:void 0,date:void 0,inventoryStatusRemarks:void 0,isInStorage:void 0,remarks:void 0,username:void 0},fa=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.agent,n=e.changeFieldValue,a=e.condition,r=e.date,i=e.fieldName,o=e.isInStorage,c=e.onClose,l=e.remarks,s=e.removeArrayFieldByIndex,d=Object(we.a)(e,["agent","changeFieldValue","condition","date","fieldName","isInStorage","onClose","remarks","removeArrayFieldByIndex"]);return u.a.createElement(pa,Object.assign({displayBackButton:!0,displayRemoveButton:!0,initialValues:{agent:t,condition:a,date:r,isInStorage:o,remarks:l},onClose:function(e){e.preventDefault(),c()},onRemove:function(){var e=i.split("."),t=e[e.length-1],n=e.slice(0,-1).join(".");s(n,t),c()},onSubmit:function(e){n(i,e),c()},submitButtonTextKey:"other.save"},d))}}]),t}(s.PureComponent);fa.defaultProps=ha;var va=Object(m.b)(function(e){return{username:k.a.getUsername(e)}})(fa),ba=Object(We.createModuleTranslate)("collectionMammals"),ga={agent:void 0,condition:void 0,date:void 0,isInStorage:void 0,normalizedAgent:void 0,remarks:void 0},ya=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(c.a)(n)),n.handleOpen=n.handleOpen.bind(Object(c.a)(n)),n.state={open:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this.props,t=e.agent,n=e.changeFieldValue,a=e.condition,r=e.date,i=e.getPath,o=e.isInStorage,c=e.normalizedAgent,l=e.remarks,s=e.removeArrayFieldByIndex,d=this.state.open,m=O.a.get(c,"attributes.fullName")||t&&t.textI,p=O.a.get(c,"attributes.disambiguatingDescription");return u.a.createElement(tt.o.Item,null,u.a.createElement(tt.o.Content,{style:{padding:"0.5em"},verticalAlign:"bottom"},u.a.createElement(He.FormModal,{open:d,size:"small",trigger:!d&&u.a.createElement(tt.i,{onClick:this.handleOpen,style:{cursor:"pointer"},textAlign:"left"},u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{width:16},[r&&r.startDate&&Object(jn.buildYYYYMMDD)(r.startDate),p?"".concat(m," (").concat(p,")"):m,void 0!==o&&(o?"In storage":"Not in storage"),a,l].filter(Boolean).join("; "))))},u.a.createElement(tt.s.Header,null,u.a.createElement(ba,{textKey:"headers.editCuratorialAssessment"})),u.a.createElement(tt.s.Content,null,u.a.createElement(tt.s.Description,null,u.a.createElement(va,{agent:t,changeFieldValue:n,condition:a,date:r,fieldName:i(),isInStorage:o,onClose:this.handleClose,remarks:l,removeArrayFieldByIndex:s}))))))}}]),t}(s.PureComponent);ya.defaultProps=ga;var Oa=Object(d.c)(Object(E.createGetItemById)({idPath:"agent.normalized.id",itemKey:"normalizedAgent",resource:"normalizedAgent"}),Object(Mt.pathBuilder)())(ya),Ea=n(967),ja=n.n(Ea),Ta={username:void 0},Sa=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeFieldValue,n=e.fieldName,a=e.onClose,r=(e.username,Object(we.a)(e,["changeFieldValue","fieldName","onClose","username"])),i=ja()(),o={day:i.date(),month:i.month()+1,year:i.year()};return u.a.createElement(pa,Object.assign({displayBackButton:!0,initialValues:{date:{dateType:"single",endDate:Object(_.a)({},o,{interpretedTimestamp:Object(jn.getTimestampFromYMD)(Object(_.a)({},o,{isEndDate:!0}))}),startDate:Object(_.a)({},o,{interpretedTimestamp:Object(jn.getTimestampFromYMD)(Object(_.a)({},o,{isStartDate:!0}))})},isInStorage:!0},onClose:function(e){e.preventDefault(),a()},onSubmit:function(e){t(n,e),a()}},r))}}]),t}(s.PureComponent);Sa.defaultProps=Ta;var Ia=Object(m.b)(function(e){return{username:k.a.getUsername(e)}})(Sa),Ca=function(e){var t=e.getPath,n=e.index;return u.a.createElement(u.a.Fragment,null,u.a.createElement(He.Field,{component:"input",label:"Is in storage",name:t("".concat(n,".isInStorage")),type:"checkbox"}),u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,label:"Remarks",module:"collectionMammals",name:t("".concat(n,".remarks")),type:"input-text"}),u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,label:"Condition",module:"collectionMammals",name:t("".concat(n,".condition")),type:"input-text"}),u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,label:"Date",module:"collectionMammals",name:t("".concat(n,".date")),type:"input-text"}),u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,label:"Agent",module:"collectionMammals",name:t("".concat(n,".agent")),type:"input-text"}))};Ca.defaultProps={index:0};var Na=Ca,ka=Object(We.createModuleTranslate)("collectionMammals"),wa={descriptionHeaderKey:"modules.collectionMammals.headers.curatorialAssessments",descriptionKey:"modules.collectionMammals.helpTexts.physicalObject.curatorialAssessments"},xa=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(c.a)(n)),n.handleOpen=n.handleOpen.bind(Object(c.a)(n)),n.state={open:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.changeFieldValue,a=t.curatorialAssessments,r=t.getPath,i=t.removeArrayFieldByIndex,o=this.state.open;return u.a.createElement(u.a.Fragment,null,u.a.createElement(aa.a,{as:"h4",helpNotificationProps:wa,module:"collectionMammals",textKey:"headers.curatorialAssessments"}),a.length>0&&u.a.createElement(tt.o,{divided:!0},Object(L.a)(a).map(function(e,t){return u.a.createElement(Oa,Object.assign({changeFieldValue:n,index:t,key:t,removeArrayFieldByIndex:i},e))}).reverse()),u.a.createElement(He.FormModal,{open:o,size:"small",trigger:!o&&u.a.createElement(tt.b,{onClick:function(t){t.preventDefault(),e.handleOpen()}},u.a.createElement(ka,{textKey:"other.newAssessment"}))},u.a.createElement(tt.s.Header,null,u.a.createElement(ka,{textKey:"other.newCuratorialAssessment"})),u.a.createElement(tt.s.Content,null,u.a.createElement(tt.s.Description,null,u.a.createElement(Ia,{changeFieldValue:n,fieldName:"".concat(r(),".").concat(a.length),onClose:this.handleClose})))),fn.a.isTest&&u.a.createElement(Na,{getPath:r}))}}]),t}(s.Component);xa.defaultProps={curatorialAssessments:[]};var Aa=Object(d.c)(Object(Mt.pathBuilder)({name:"curatorialAssessments"}))(xa),Ra=Object(Fe.a)("modules:collectionMammals:formParts:PhysicalObjectContent"),Fa=Object(We.createModuleTranslate)("collectionMammals"),Pa={touch:v.k},La={curatorialAssessments:void 0,preparationTypeOptions:[]},Ma=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleRemove=n.handleRemove.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){this.props.touch(this.props.formName,this.props.getPath("physicalObject.storageLocation.id"))}},{key:"handleRemove",value:function(){var e=this.props,t=e.getTranslationPath,n=e.handleSetInactive,a=e.index,r=e.removeArrayFieldByIndex;n(a),r(t(),a)}},{key:"render",value:function(){var e=this.props,t=e.category,n=e.changeFieldValue,a=e.curatorialAssessments,r=e.preparationTypeOptions,i=e.getPath,o=e.removeArrayFieldByIndex;return Ra.render(),u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Row,{className:"relaxed"},u.a.createElement(tt.i.Column,{width:9},u.a.createElement(He.Field,{autoComplete:"off",component:He.DropdownSearch,disableClearValue:!0,module:"collectionMammals",name:i("preparationType.id"),options:r,type:"dropdown-search-local"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:ea.StorageLocationDropdownPickerSearch,group:na.ALL,module:"collectionMammals",name:i("physicalObject.storageLocation.id"),showParentName:!0})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(Aa,{changeFieldValue:n,curatorialAssessments:a,removeArrayFieldByIndex:o})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Remarks,emptyStateTextKey:"remarks.emptyState.physicalObject.".concat(t),model:"specimen",module:"collectionMammals",name:i("physicalObject.remarks"),showParentName:!0})),u.a.createElement(tt.i.Column,{textAlign:"right",width:16},u.a.createElement(He.ConfirmationPopup,{cancelButtonText:u.a.createElement(Fa,{textKey:"other.cancel"}),confirmButtonText:u.a.createElement(Fa,{textKey:"other.remove"}),header:u.a.createElement(Fa,{textKey:"other.physicalObjects.remove".concat($n()(Object(ct.camelCase)(t)))}),hideOnScroll:!0,onConfirm:this.handleRemove,text:u.a.createElement(Fa,{textKey:"other.physicalObjects.delete".concat($n()(Object(ct.camelCase)(t)))})}))))}}]),t}(s.Component);Ma.defaultProps=La;var _a=Object(d.c)(Object(E.createGetItemById)({idPath:"preparationTypeId",relationships:null,resource:"preparationType"}),Object(m.b)(function(e,t){var n=t.category,a=t.preparationType;return{preparationTypeOptions:ta.a.getPreparationTypeOptions(e,a&&a.category||n||"undefined")}},Pa),Object(Mt.pathBuilder)())(Ma),Da=n(497),Ba=n.n(Da),Va=Object(Fe.a)("modules:collectionMammals:formParts:PhysicalObjectTitle"),Ua={category:void 0,curatorialAssessments:void 0,invalidStorageLocation:!1,preparationType:void 0,storageLocation:void 0};function Ka(e){var t=e.active,n=e.category,a=e.curatorialAssessments,r=e.invalidStorageLocation,i=e.preparationType,o=e.storageLocation;if(Va.render(),t)return u.a.createElement(vn.ThreeColumnGrid,{className:r?"error":void 0,left:u.a.createElement(tt.k,{name:"dropdown"})});var c=a&&a.length&&a[a.length-1];return u.a.createElement(vn.ThreeColumnGrid,{center:o&&u.a.createElement("span",{style:{fontWeight:"normal"}},Ba()(o)),classNames:r?"error":void 0,left:i||n?u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.k,{name:"dropdown"}),i&&i.attributes&&i.attributes.name&&i.attributes.name.en&&u.a.createElement("span",{style:{fontWeight:"normal"}},$n()(i.attributes.name.en))):u.a.createElement(tt.k,{name:"dropdown"}),right:c&&void 0!==c.isInStorage&&u.a.createElement(tt.n,{color:c.isInStorage?"green":"red",horizontal:!0},c.isInStorage?"In storage":"Not in storage"),rightColumnTextAlign:"right"})}Ka.defaultProps=Ua;var Ha=Object(d.c)(Object(E.createGetItemById)({idPath:"preparationTypeId",itemKey:"preparationType",relationships:null,resource:"preparationType"}),Object(E.createGetNestedItemById)({idPath:"physicalObject.storageLocation.id",include:["parent.parent.parent.parent.parent"],nestedItemKey:"storageLocation",relationships:["parent","parent.parent","parent.parent.parent","parent.parent.parent.parent","parent.parent.parent.parent.parent"],resolveRelationships:["storageLocation"],resource:"storageLocation"}),Object(Mt.pathBuilder)(),Object(m.b)(function(e,t){var n=t.formName,a=t.getPath;return{invalidStorageLocation:Kt.a.getAnyFieldIsInvalid(e,{fieldNames:[a("physicalObject.storageLocation.id")],formName:n})}}))(Ka),za=nn.a.AddButton,Ga=Object(Fe.a)("modules:collectionMammals:formParts:PhysicalObjectsAccordion"),qa={"other-preparation":St.UNSPECIFIED_OTHER_PREPARATION_PREPARATION_TYPE_ID,skeleton:St.UNSPECIFIED_SKELETON_PREPARATION_TYPE_ID,skin:St.UNSPECIFIED_SKIN_PREPARATION_TYPE_ID,"wet-preparation":St.UNSPECIFIED_WET_PREPARATION_PREPARATION_TYPE_ID},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1===Object.keys(e).length},Wa={getStorageLocations:Me.a.storageLocation.getMany},Ya=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getShouldRenderAccordion=n.getShouldRenderAccordion.bind(Object(c.a)(n)),n.getShouldRenderItem=n.getShouldRenderItem.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"getShouldRenderItem",value:function(e){var t=e.preparationType,n=this.props;return function(e){var t=e.category,n=e.preparationType,a=e.preparationTypes;if(n&&n.category&&n.category===t)return!0;if(n&&n.id){var r=a[n.id];if(r)return O.a.get(r,"attributes.category")===t}return!1}({category:n.category,preparationType:t,preparationTypes:n.preparationTypes})}},{key:"getShouldRenderAccordion",value:function(){for(var e=this.props,t=e.category,n=e.collectionItems,a=e.preparationTypes,r=0;r<n.length;r+=1){var i=n[r].preparationType;if(this.getShouldRenderItem({category:t,preparationType:i,preparationTypes:a}))return!0}return!1}},{key:"render",value:function(){Ga.render();var e=this.props,t=e.allPreparationTypesFetched,n=e.category,a=e.changeFieldValue,r=e.collectionItems,i=e.formName,o=e.formValueSelector,c=e.removeArrayFieldByIndex;return t?u.a.createElement(u.a.Fragment,null,this.getShouldRenderAccordion()&&r.length>0&&u.a.createElement(tt.i.Column,{computer:16},u.a.createElement(vn.Accordion,{expandItemOnAdd:!0,getShouldExpandFirstItemOnMount:Qa,getShouldRenderItem:this.getShouldRenderItem,initialActiveMode:bn.a,items:r,renderActiveOnly:!0,renderContent:function(e){return u.a.createElement(_a,Object.assign({category:n,changeFieldValue:a,formName:i,formValueSelector:o,preparationTypeId:e.preparationType&&e.preparationType.id,removeArrayFieldByIndex:c},e))},renderTitle:function(e){return u.a.createElement(Ha,Object.assign({category:n,formName:i,preparationTypeId:e.preparationType&&e.preparationType.id},e))}})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(za,{module:"collectionMammals",onClick:function(e){e.preventDefault(),a("individual.collectionItems.".concat(r.length),{preparationType:{id:qa[n]}})},textKey:"other.physicalObjects.add".concat($n()(Object(ct.camelCase)(n)))}))):null}}]),t}(s.PureComponent);Ya.defaultProps={collectionItems:[],preparationTypes:{}};var Xa=Object(d.c)(Object(m.b)(function(e,t){var n=t.formValueSelector,a=t.name;return{allPreparationTypesFetched:an.b.get[":resource.allItems.fetched"](e,{resource:"preparationType"}),collectionItems:n(e,a),preparationTypes:_e.a.preparationType.getItemsObject(e)}},Wa),Object(Mt.pathBuilder)({name:"individual.collectionItems"}))(Ya),Ja=n(358),Za=function(e){var t=e.baseName;return u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:gn.AgentDropdownPickerSearch,module:"collectionMammals",name:"".concat(t,".agent"),resultSuffix:"(agent)",type:"input-text"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.SingleDate,module:"collectionMammals",name:"".concat(t,".date")})))},$a=Object(We.createModuleTranslate)("collectionMammals"),er={agent:void 0,date:void 0,onEdit:void 0},tr=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.agent,a=t.date,r=t.description,i=t.onEdit;if(a){var o=O.a.get(a,"startDate"),c=O.a.get(a,"dateText");e=Object(jn.buildYYYYMMDD)(o||{})||Object(jn.getYYYYMMDDFromTimestamp)(c)}return u.a.createElement(tt.i.Column,{width:16},e&&"".concat(e,": "),"".concat(r," "),n&&!Object(ct.isEmpty)(n)&&u.a.createElement(u.a.Fragment,null,u.a.createElement($a,{textKey:"other.by"})," ",u.a.createElement(gn.AgentIdTextResult,{includeVerbatimAgent:!0,input:{value:n},textOnly:!0})),i&&u.a.createElement(tt.k,{name:"edit",onClick:i,size:"large",style:{cursor:"pointer",marginLeft:"0.5em"}}))}}]),t}(s.PureComponent);tr.defaultProps=er;var nr=tr,ar=Object(We.createModuleTranslate)("collectionMammals"),rr=nn.a.AddButton,ir={catalogCardCreationEvent:void 0,catalogCardCreationEventIndex:void 0,hasAgentOrDate:!1,invalidInput:void 0,otherEvents:void 0,recordHistoryEvents:[]},or=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(c.a)(n)),n.handleOpen=n.handleOpen.bind(Object(c.a)(n)),n.state={open:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.catalogCardCreationEventIndex,n=e.changeFieldValue,a=e.hasAgentOrDate,r=e.name,i=e.recordHistoryEvents;if(i&&t>-1&&!a){var o=Object(L.a)(i);o[t]=void 0,n(r,o=o.filter(function(e){return!!e}))}}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpen",value:function(){var e=this.props,t=e.catalogCardCreationEventIndex,n=e.changeFieldValue,a=e.name,r=e.recordHistoryEvents;-1===t&&n("".concat(a,".").concat(r.length),{description:Ja.CATALOG_CARD_CREATION_DESCRIPTION,system:Ja.CATALOG_CARD}),this.setState({open:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.catalogCardCreationEvent,a=t.fieldsBaseName,r=t.hasAgentOrDate,i=t.invalidInput,o=t.otherEvents,c=this.state.open;return u.a.createElement(u.a.Fragment,null,o&&o.map(function(e,t){var n=e.agent,a=e.date,r=e.description;return u.a.createElement(nr,{agent:n,date:a,description:r,key:"".concat(a,"-").concat(r,"-").concat(t)})}),u.a.createElement(He.FormModal,{open:c,size:"tiny",trigger:!c&&(r?u.a.createElement(nr,{agent:n.agent,date:n.date,description:n.description,onEdit:this.handleOpen}):u.a.createElement(rr,{onClick:function(t){t.preventDefault(),e.handleOpen()},textKey:"other.addCatalogCardCreation"}))},u.a.createElement(tt.s.Header,null,u.a.createElement(ar,{textKey:"other.addCatalogCardInformation"})),u.a.createElement(tt.s.Content,null,u.a.createElement(tt.i,null,u.a.createElement(tt.i.Row,{className:"relaxed"},u.a.createElement(Za,{baseName:a})))),u.a.createElement(tt.s.Actions,{style:{textAlign:"left"}},u.a.createElement(tt.b,{disabled:i,onClick:this.handleClose},u.a.createElement(ar,{capitalize:!0,textKey:"other.done"})))),fn.a.isTest&&u.a.createElement(Za,null))}}]),t}(s.Component);or.defaultProps=ir;var cr=Object(d.c)(Object(m.b)(function(e,t){var n=t.formName,a=t.formValueSelector,r=t.name,i=a(e,r),o=(i||[]).findIndex(function(e){return e.description===Ja.CATALOG_CARD_CREATION_DESCRIPTION});if(!i||!i.length||-1===o)return{catalogCardCreationEventIndex:-1,fieldsBaseName:"".concat(r,".0"),otherEvents:i,recordHistoryEvents:i};var c="".concat(r,".").concat(-1===o?i.length:o),l=i[o],s=l.agent,u=l.date;return{agent:s,catalogCardCreationEvent:l,catalogCardCreationEventIndex:o,fieldsBaseName:c,hasAgentOrDate:!Object(ct.isEmpty)(s)||!Object(ct.isEmpty)(u),invalidInput:Kt.a.getAnyFieldIsInvalid(e,{fieldNames:["".concat(c,".agent"),"".concat(c,".date")],formName:n}),otherEvents:i.filter(function(e){return e.description!==Ja.CATALOG_CARD_CREATION_DESCRIPTION}),recordHistoryEvents:i}}))(or),lr=Object(Fe.a)("modules:collectionMammals:MammalForm:OriginInformation:SelectiveBreeding"),sr=function(e){function t(e){var n;Object(a.a)(this,t),n=Object(i.a)(this,Object(o.a)(t).call(this,e));var r=e.i18n.moduleTranslate;return n.radioOptions=[{key:"no",text:r({capitalize:!0,module:"collectionMammals",textKey:"other.wildAnimal"}),value:"no"},{key:"yes",text:r({capitalize:!0,module:"collectionMammals",textKey:"other.zooAnimal"}),value:"yes"},{key:"unknown",text:r({capitalize:!0,module:"collectionMammals",textKey:"other.unknown"}),value:"unknown"}],n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=e.label;return lr.render(),u.a.createElement(He.Radio,{input:t,label:u.a.createElement(We.ModuleTranslate,{module:"collectionMammals",textKey:n}),radioOptions:this.radioOptions})}}]),t}(s.Component),ur=Object(d.c)(Object(rn.withI18n)(),Mt.wrapInColumn)(sr),dr=Object(_.a)({},kt.a,Ft,Pt.a,Lt.a,{CollectingLocality:tn,CustomTaxonNamesTable:mn,DeterminationsAccordion:xn,FeatureObservations:zn,IdentifiersTable:Jn,PhysicalObjectsAccordion:Xa,RecordHistoryExternalEvents:cr,SelectiveBreeding:ur}),mr=Object(We.createModuleTranslate)("collectionMammals"),pr=Object(d.c)(Object(Ge.c)())(Ae.RecordActionBar),hr=Object(I.a)(4.625),fr=[{key:"formRow"},{height:"".concat(hr,"px"),key:"recordActionBar",style:{borderTop:"1px solid #D4D4D5"}}],vr=function(e){return e.pathname.includes("app/specimens/mammals")&&e.pathname.includes("edit/sections")},br={changeFormValue:v.e,push:g.d,removeArrayField:v.b,reset:v.g,submit:v.j},gr={catalogNumber:void 0,curatorialTaxon:void 0,error:"",establishmentMeansTypes:void 0,loading:!1,mode:"register",redirectOnSuccess:!1},yr=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).changeFieldValue=n.changeFieldValue.bind(Object(c.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(c.a)(n)),n.handleSubmitFromModal=n.handleSubmitFromModal.bind(Object(c.a)(n)),n.handleUndoChanges=n.handleUndoChanges.bind(Object(c.a)(n)),n.removeArrayFieldByIndex=n.removeArrayFieldByIndex.bind(Object(c.a)(n)),n.renderRow=n.renderRow.bind(Object(c.a)(n)),n.setFormRef=n.setFormRef.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"setFormRef",value:function(e){this.form=e}},{key:"handleSubmitFromModal",value:function(){if(this.form){var e=document.createEvent("Event");e.initEvent("submit",!0,!0),this.form.dispatchEvent(e)}}},{key:"handleFormSubmit",value:function(e){var t=this.props,n=t.establishmentMeansTypes,a=t.handleFormSubmit,r=t.match,i=t.push,o=t.redirectOnSuccess;return a(lt({establishmentMeansTypes:n,specimen:Object(_.a)({id:r&&r.params&&r.params.specimenId},e)})).then(function(e){var t=e.id;!r.params.specimenId&&t&&o&&i("/app/specimens/mammals/".concat(t,"/edit/sections/").concat(r.params.sectionId||"0"))}).catch(ze.handleReduxFormSubmitError)}},{key:"changeFieldValue",value:function(e,t){this.props.changeFormValue(this.props.form,e,t)}},{key:"removeArrayFieldByIndex",value:function(e,t){this.props.removeArrayField(this.props.form,e,t)}},{key:"handleUndoChanges",value:function(){this.props.reset(this.props.form)}},{key:"renderRow",value:function(e,t){switch(e){case"formRow":var n=this.props,a=n.availableHeight,r=n.catalogNumber,i=n.curatorialTaxon,o=O.a.get(i,"acceptedTaxonName.name");return u.a.createElement(He.FormRow,Object.assign({},this.props,t,{availableHeight:a-hr,customParts:dr,itemHeader:r||u.a.createElement(mr,{textKey:"headers.newSpecimen"}),itemSubHeader:o,resourceIdPathParamKey:"specimenId",showSectionsInNavigation:!0}));case"recordActionBar":return u.a.createElement(pr,Object.assign({},this.props,t,{onUndoChanges:this.handleUndoChanges,resource:"specimen"}));default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=(e.catalogNumber,e.form),a=e.handleSubmit,r=e.mode,i=Object(we.a)(e,["availableHeight","catalogNumber","form","handleSubmit","mode"]);return u.a.createElement(He.Form,{formName:n,getAllowTransition:vr,onSubmit:a(this.handleFormSubmit),sectionSpecs:Nt,setFormRef:this.setFormRef},u.a.createElement(S.RowLayout,Object.assign({},i,{availableHeight:t,changeFieldValue:this.changeFieldValue,formName:n,module:"collectionMammals",moduleName:"collectionMammals",removeArrayFieldByIndex:this.removeArrayFieldByIndex,renderRow:this.renderRow,rows:fr,sectionSpecs:Nt})),"register"===r&&u.a.createElement(ot,Object.assign({formName:n,handleSubmit:this.handleSubmitFromModal},i)))}}]),t}(s.Component);yr.defaultProps=gr;var Or=Object(d.c)(p.g,Object(m.b)(void 0,br))(yr),Er=Object(Ke.a)({enableReinitialize:!0,keepDirtyOnReinitialize:!1,shouldError:function(e){if(e){var t=e.props,n=e.nextProps;return(t&&t.registeredFields)!==(n&&n.registeredFields)||(t&&t.values)!==(n&&n.values)}return!1},updateUnregisteredFields:!0,validate:Object(d.c)(ut,Qe()({model:"specimen",models:$e}))})(Or),jr=Object(Fe.a)("modules:collectionMammals:components:MammalManager:CreateSpecimen"),Tr=Object(Re.a)("createSpecimen"),Sr={createSpecimen:Me.a.specimen.create},Ir=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){jr.render();var e=this.props,t=e.createSpecimen,n=e.establishmentMeansTypes,a=e.establishmentMeansTypesFetched,r=e.fetchResourceCount,i=e.identifierTypes,o=e.identifierTypesFetched,c=e.onInteraction,l=Object(we.a)(e,["createSpecimen","establishmentMeansTypes","establishmentMeansTypesFetched","fetchResourceCount","identifierTypes","identifierTypesFetched","onInteraction"]);if(!a||!o)return null;var s=Ve({establishmentMeansTypes:n,identifierTypes:i}),d=Ue({establishmentMeansTypes:n,identifierTypes:i,specimen:{}});return jr.debug("initialValues",d),u.a.createElement(Er,Object.assign({baseValues:s,establishmentMeansTypes:n,form:"createSpecimen",formName:"createSpecimen",formValueSelector:Tr,handleFormSubmit:function(e){var n=Le()({item:e,type:"specimen"});return t({item:n}).then(function(e){return r(),c(N.CREATE_SUCCESS,{itemId:e.id}),new Promise(function(t){setTimeout(function(){return t(e)},3e3)})})},initialValues:d,mode:"register",redirectOnSuccess:!0},l))}}]),t}(s.PureComponent),Cr=Object(d.c)(Object(E.createGetResourceCount)({resource:"specimen"}),Object(E.createEnsureAllItemsFetched)({allItemsFetchedKey:"establishmentMeansTypesFetched",resource:"establishmentMeansType"}),Object(E.createEnsureAllItemsFetched)({allItemsFetchedKey:"identifierTypesFetched",resource:"identifierType"}),Object(m.b)(function(e){return{establishmentMeansTypes:_e.a.establishmentMeansType.getAll(e),identifierTypes:_e.a.identifierType.getAll(e)}},Sr))(Ir),Nr=n(470),kr=Object(Fe.a)("modules:collectionMammals:components:MammalManager:EditSpecimen"),wr=Object(Re.a)("editSpecimen"),xr={updateSpecimen:Me.a.specimen.update},Ar=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){kr.render();var e=this.props,t=(e.clearNestedCacheNamespace,e.establishmentMeansTypes),n=e.fetchOneItemById,a=e.identifierTypes,r=e.nestedSpecimen,i=e.updateSpecimen,o=e.featureTypes,c=e.featureTypesFetched,l=Object(we.a)(e,["clearNestedCacheNamespace","establishmentMeansTypes","fetchOneItemById","identifierTypes","nestedSpecimen","updateSpecimen","featureTypes","featureTypesFetched"]);if(!r||!c)return null;var s=O.a.get(r,"individual.taxonInformation.curatorialTaxon"),d=Ve({establishmentMeansTypes:t,featureTypes:o,identifierTypes:a}),m=Ue({establishmentMeansTypes:t,featureTypes:o,identifierTypes:a,specimen:r||{}}),p=m.resourceActivities,h=Object(we.a)(m,["resourceActivities"]);return kr.debug("initialValues",h),u.a.createElement(Er,Object.assign({},l,{baseValues:d,curatorialTaxon:s,establishmentMeansTypes:t,form:"editSpecimen",formName:"editSpecimen",formValueSelector:wr,handleFormSubmit:function(e){var t=Le()({item:e,type:"specimen"});return i({item:t}).then(function(e){var t=e.id;return n(t).then(function(){return{id:t}})})},initialValues:h,itemId:r.id,loading:!r,mode:"edit",resourceActivities:p}))}}]),t}(s.PureComponent);Ar.defaultProps={nestedSpecimen:null};var Rr=Object(d.c)(p.g,Object(E.createGetResourceCount)({resource:"specimen"}),Object(E.createGetNestedItemById)({idPath:"match.params.specimenId",include:["featureTypes","normalizedAgents","physicalObjects.storageLocation","places","resourceActivities","taxa.acceptedTaxonName","taxonNames"],nestedItemKey:"nestedSpecimen",relationships:["all"],resolveRelationships:["physicalObject","storageLocation","resourceActivity","taxon","taxonName"],resource:"specimen"}),Object(E.createEnsureAllItemsFetched)({allItemsFetchedKey:"featureTypesFetched",resource:"featureType"}),Object(E.createEnsureAllItemsFetched)({resource:"establishmentMeansType"}),Object(E.createEnsureAllItemsFetched)({resource:"customTaxonNameType"}),Object(E.createEnsureAllItemsFetched)({resource:"identifierType"}),Object(E.createEnsureAllItemsFetched)({resource:"preparationType"}),Object(m.b)(function(e){return{catalogNumber:Nr.a.createGetCatalogNumber("editSpecimen")(e),establishmentMeansTypes:_e.a.establishmentMeansType.getAll(e),featureTypes:_e.a.featureType.getAll(e),identifierTypes:_e.a.identifierType.getAll(e)}},xr))(Ar),Fr=n(444),Pr=[{name:"identifiersCatalogNumber",width:180},{name:"taxonomyCuratorialName",width:250},{name:"taxonomyRank",width:150},{name:"taxonomyFamily",width:150},{name:"taxonomyGenus",width:150},{name:"taxonomySpecies",width:150},{name:"taxonomySubspecies",width:150},{name:"collectingEventCollectors",width:250},{name:"collectingEventStartDate",width:150},{name:"collectingEventEndDate",width:150},{name:"collectingEventLocality",width:300},{name:"collectingEventInterpretedLocality",width:300},{name:"collectingEventCountry",width:200},{name:"collectingEventProvince",width:200},{name:"collectingEventDistrict",width:200},{name:"originInformationLocality",width:300},{name:"deathInformationDeath",width:200},{name:"physicalUnitSkeleton",width:400},{name:"physicalUnitSkin",width:400},{name:"physicalUnitWetPreparation",width:400},{name:"physicalUnitOtherPreparation",width:400},{name:"featureSex",width:100},{name:"featureAgeStage",width:100},{name:"featureAge",width:100},{name:"featureCompleteBodyWeight",width:180},{name:"featureTotalLength",width:150},{name:"featureBodyLength",width:150},{name:"featureCondition",width:180},{name:"identifiersOtherIdentifiers",width:300},{name:"recordEventCataloged",width:250},{name:"recordEventRegistered",width:150},{name:"recordEventLastModified",width:200}],Lr=Pr.map(function(e){return e.name}),Mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lr;return Pr.reduce(function(t,n){var a=n.name,r=n.width;return e.includes(a)?t+r:t},0)},_r=Pr,Dr={createExportInfo:Me.a.exportJob.create,downloadFile:Fr.a,getOneExportInfo:Me.a.exportJob.getOne},Br={columns:_r.map(function(e){return e.name}),pollInterval:500,pollLimit:100,searchResult:void 0},Vr=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClose=n.handleClose.bind(Object(c.a)(n)),n.handleExportToCsv=n.handleExportToCsv.bind(Object(c.a)(n)),n.exportToCsv=n.exportToCsv.bind(Object(c.a)(n)),n.pollId=n.pollId.bind(Object(c.a)(n)),n.state={exportJobId:void 0,exportStatus:"",fileName:""},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"pollId",value:function(e){var t=this,n=this.props,a=n.pollLimit,r=n.pollInterval,i=0;return function n(){return t.isExporting?(i+=1,t.props.getOneExportInfo({id:e,queryParams:{includeFields:["id","attributes.filePath","attributes.succeededAt","attributes.failedAt"]},relationships:[],storeInState:!1}).then(function(e){if(e){var o=e&&e.attributes;o.succeededAt&&t.updateStatus("exportDone",{exportJobId:e.id,fileName:o.filePath}),o.failedAt&&t.updateStatus("failed")}return i>=a?t.updateStatus("failed"):setTimeout(function(){n()},r)}).catch(function(){t.updateStatus("failed")})):null}()}},{key:"exportToCsv",value:function(){var e=this,t=this.props,n=t.columns,a=t.searchResult,r=void 0===a?{}:a,i=t.i18n,o=n.map(function(e){return{default:"NULL",fieldPath:"attributes.".concat(e),label:i.moduleTranslate({capitalize:!0,textKey:"tableColumns.".concat(e)})}});o.push({fieldPath:"id",label:"Id"});var c=(r.items||[]).map(function(e){return e.id});return this.props.createExportInfo({item:{attributes:{exportFields:o,exportIds:c,resource:"searchSpecimen"}}}).then(function(t){var n=t.id;return e.pollId(n)})}},{key:"handleExportToCsv",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.exportToCsv(),setTimeout(function(){t.updateStatus("exporting")})}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isExporting="exporting"===e;var n=Object(_.a)({exportStatus:e},t);this.setState(n)}},{key:"handleClose",value:function(){this.setState({exportJobId:void 0,exportStatus:"",fileName:""})}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.exportJobId,r=n.fileName,i=n.exportStatus,o="/api/export/v01/exportJobs/".concat(a,"/actions/downloadExport/").concat(r);"failed"===i&&(e=u.a.createElement("div",null,"Something went wrong"," ",u.a.createElement(tt.b,{content:"Close",onClick:this.handleClose,type:"button"}))),"exportDone"===i&&(e=u.a.createElement("div",null,u.a.createElement(tt.b,{onClick:function(e){t.props.downloadFile({fileName:r,fileUrl:o}),t.handleClose(e)},type:"button"},"Download"),u.a.createElement(tt.b,{content:"Close",onClick:this.handleClose,type:"button"}))),"exporting"===i&&(e=u.a.createElement("div",null,u.a.createElement(tt.b,{disabled:!0,loading:!0,type:"button"},"Download"),u.a.createElement(tt.b,{content:"Close",onClick:this.handleClose,type:"button"})));var c=null;return e&&(c=u.a.createElement(He.FormModal,{onClose:this.handleClose,open:!0},u.a.createElement(tt.s.Header,null,"Exporting"," ",u.a.createElement(tt.k,{name:"close",onClick:this.handleClose,size:"small",style:{float:"right"}})),u.a.createElement(tt.s.Content,null,e))),u.a.createElement(u.a.Fragment,null,c,!e&&u.a.createElement(tt.t,{content:!c&&u.a.createElement(tt.b,{content:"Export result to CSV",onClick:function(e){return t.handleExportToCsv(e)},type:"button"}),on:"click",position:"bottom right",trigger:u.a.createElement(tt.q.Item,{link:!0},u.a.createElement(tt.k,{name:"share",style:{cursor:"pointer"}}))}))}}]),t}(s.Component);Vr.defaultProps=Br;var Ur=Object(d.c)(Object(m.b)(function(e){var t=k.a.getUserPreferences(e);return{columns:t&&t[F.SPECIMENS_MAMMALS_TABLE_COLUMNS]||void 0,searchResult:x.c.get[":resource.searchState"](e,{resource:"searchSpecimen"})}},Dr),Object(rn.withI18n)({module:"collectionMammals"}))(Vr),Kr=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isItemViewOrSettings,n=e.isTableViewOrSettings,a=e.onExportCsv,r=e.onFormTabClick,i=e.onSettingClick,o=e.onTableTabClick,c=e.onToggleFilters;return u.a.createElement(tt.q,{attached:"top",icon:!0,tabular:!0},u.a.createElement(tt.q.Item,{active:n,link:!0,name:"table",onClick:function(e){o&&o(e)}},u.a.createElement(tt.k,{name:"table"})),u.a.createElement(tt.q.Item,{active:t,link:!0,name:"form",onClick:function(e){r&&r(e)}},u.a.createElement(tt.k,{name:"wordpress forms"})),u.a.createElement(tt.q.Menu,{className:"icon secondary  ui",position:"right"},a&&u.a.createElement(Ur,null),i&&u.a.createElement(tt.q.Item,{link:!0,onClick:function(e){return i(e)}},u.a.createElement(tt.k,{name:"setting"})),u.a.createElement(tt.q.Item,{link:!0,onClick:function(e){return c(e)},style:{marginLeft:"3.125em"}},u.a.createElement(tt.k,{name:"search"}))))}}]),t}(s.Component),Hr=n(354),zr=Object(We.createModuleTranslate)("collectionMammals"),Gr=function(e){return e.reduce(function(e,t){return Object(_.a)({},e,Object(M.a)({},t,!0))},{})},qr={updateUserPreference:R.updateUserPreference},Qr={error:void 0,savedValue:void 0},Wr=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleCancel=n.handleCancel.bind(Object(c.a)(n)),n.handleSave=n.handleSave.bind(Object(c.a)(n)),n.handleSetAll=n.handleSetAll.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){Array.isArray(this.props.savedValue)&&this.props.initialize(Gr(this.props.savedValue))}},{key:"componentWillReceiveProps",value:function(e){this.props.savedValue!==e.savedValue&&Array.isArray(e.savedValue)&&this.props.initialize(Gr(e.savedValue))}},{key:"handleCancel",value:function(){this.props.onTableTabClick()}},{key:"handleSetAll",value:function(e){var t=this;Lr.forEach(function(n){t.props.change(n,e)})}},{key:"handleSave",value:function(){var e=this,t=function(e){return Object.keys(e).reduce(function(t,n){return e[n]&&t.push(n),t},[])}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return this.props.updateUserPreference(F.SPECIMENS_MAMMALS_TABLE_COLUMNS,t).then(function(){return e.props.onTableTabClick()}).catch(function(e){throw new Hr.a({_error:e.error_description})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.error,a=t.handleSubmit,r=t.pristine,i=t.submitting;return u.a.createElement(tt.h,{error:!!n},u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"middle"},u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{width:15},u.a.createElement(tt.j,null,"Set visible table columns")),u.a.createElement(tt.i.Column,{textAlign:"right",width:1},u.a.createElement(tt.k,{name:"close",onClick:this.handleCancel,size:"large",style:{cursor:"pointer"}}))),u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{width:16},u.a.createElement(tt.b,{onClick:function(){return e.handleSetAll(!0)},size:"small"},"Select all"),u.a.createElement(tt.b,{onClick:function(){return e.handleSetAll(!1)},size:"small"},"Deselect all"))),u.a.createElement(tt.i.Row,null,Lr.map(function(e){return u.a.createElement(tt.i.Column,{key:e,width:16},u.a.createElement(He.Field,{autoComplete:"off",component:He.Checkbox,enableHelpNotifications:!1,inline:!0,label:u.a.createElement(zr,{capitalize:!0,textKey:"tableColumns.".concat(e)}),module:"collectionMammals",name:e,type:"checkbox"}))})),u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{width:16},u.a.createElement(tt.b,{disabled:r||i,onClick:a(this.handleSave),size:"large"},"Save"),u.a.createElement(tt.b,{basic:!0,onClick:this.handleCancel,size:"large"},"Cancel")))),n&&u.a.createElement(tt.r,{error:!0},n))}}]),t}(s.Component);Wr.defaultProps=Qr;var Yr=Object(Ke.a)({form:"resultTableSettingsForm"})(Wr),Xr=Object(m.b)(function(e){var t=k.a.getUserPreferences(e);return{savedValue:t&&t[F.SPECIMENS_MAMMALS_TABLE_COLUMNS]||void 0}},qr)(Yr),Jr=n(167),Zr=n(289),$r=n.n(Zr),ei=n(107),ti=n(62),ni=function(e){var t=e.background,n=e.item,a=e.itemId,r=e.onClick,i=e.rowNumber,o=e.tableColumnsToShow,c=e.width;return n?u.a.createElement(tt.i.Row,{onClick:function(e){e.preventDefault(),r(i,a)},style:{background:t,cursor:"pointer",height:Object(I.a)(3.5),width:c}},_r.map(function(e){var t=e.name,a=e.width;if(o.includes(t)){var r=O.a.get(n,"attributes.".concat(t));return Array.isArray(r)&&(r=r.join("; ")),u.a.createElement(tt.i.Column,{key:t,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:a}},r)}return null})):u.a.createElement(tt.i.Row,{style:{height:Object(I.a)(3.5),width:c}},u.a.createElement(tt.i.Column,{style:{width:60}},u.a.createElement(tt.e,{active:!0,inverted:!0},u.a.createElement(tt.p,{inverted:!0,size:"mini"}))))};ni.defaultProps={item:void 0,itemId:void 0};var ai=Object(m.b)(function(e,t){var n=t.itemId,a=t.resource;return{item:n&&_e.a[a].getOne(e,n)}})(ni),ri=Object(Fe.a)("modules:collectionMammals:MammalManager:ResultTableView:InfiniteTable"),ii=function(e){var t=e.currentTableRowNumber-1,n=O.a.get(e,"searchResult.items.".concat(t,".id"));n&&e.setFocusedSpecimenId(n)},oi={setCurrentTableRowNumber:P.a.set.currentTableRowNumber,setFocusedSpecimenId:P.a.set.focusedSpecimenId},ci={currentTableRowNumber:1,focusedItemId:void 0,searchResult:void 0},li=function(e,t){return u.a.createElement("div",{className:"ui padded grid",ref:t},e)},si=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).list=null,n.setListRef=function(e){n.list=e},n.renderItem=n.renderItem.bind(Object(c.a)(n)),n.handleRowClick=n.handleRowClick.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.scroll(),ii(this.props)}},{key:"componentDidUpdate",value:function(e){this.scroll(e),!O.a.get(e,"searchResult.items.length")&&O.a.get(this.props,"searchResult.items.length")&&ii(this.props)}},{key:"handleRowClick",value:function(e,t){this.props.setFocusedSpecimenId(t),this.props.setCurrentTableRowNumber(e)}},{key:"scroll",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,a=n.currentTableRowNumber,r=n.focusedItemId,i=t.currentTableRowNumber,o=t.focusedItemId;if(this.list&&(a!==i||r&&r!==o)){var c=this.list.getVisibleRange(),l=Object(Jr.a)(c,1)[0];void 0===l&&setTimeout(function(){return e.scroll()}),a<=l+1?this.list.scrollTo(a-1):this.list.scrollAround(a)}}},{key:"renderItem",value:function(e){var t=this.props,n=t.currentTableRowNumber,a=t.fetchItemById,r=t.language,i=t.searchResult,o=t.tableColumnsToShow,c=t.width,l=i.items[e].id;a(l);var s=e+1,d=s===n?"#b5b5b5":e%2===0?"#e5e7e9":"#fff";return u.a.createElement(ai,{background:d,itemId:l,key:l,language:r,onClick:this.handleRowClick,resource:"searchSpecimen",rowNumber:s,tableColumnsToShow:o,width:c})}},{key:"render",value:function(){ri.render();var e=this.props,t=e.currentTableRowNumber,n=e.searchResult,a=e.width;return n&&n.items?0===n.items.length?u.a.createElement(ti.d,null):u.a.createElement("div",{style:{width:a}},u.a.createElement($r.a,{initialIndex:t-1,itemRenderer:this.renderItem,itemsRenderer:li,length:n.items.length,ref:this.setListRef,type:"uniform"})):u.a.createElement(tt.i,{padded:!0},u.a.createElement(tt.i.Row,{style:{height:Object(I.a)(3.5),width:a}},u.a.createElement(tt.i.Column,{style:{paddingTop:60,width:150}},u.a.createElement(tt.e,{active:!0,inverted:!0},u.a.createElement(tt.p,{content:"Loading",inverted:!0})))))}}]),t}(s.Component);si.defaultProps=ci;var ui=Object(d.c)(Object(w.b)({resource:"searchSpecimen"}),Object(E.createBatchFetchItems)({includeFields:["id","attributes"],resource:"searchSpecimen"}),Object(m.b)(function(e){return{language:ei.a.getLanguage(e)||ei.a.getDefaultLanguage(e),searchResult:x.c.get[":resource.searchState"](e,{resource:"searchSpecimen"})}},oi))(si),di=Object(Fe.a)("modules:collectionMammals:MammalManager:ResultTableView:InfiniteTableHeader"),mi=Object(We.createModuleTranslate)("collectionMammals"),pi=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleClickSorting=n.handleClickSorting.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleClickSorting",value:function(e,t,n){e&&e.preventDefault();var a=this.props.tableColumnsToSort;if(a){var r=Object(L.a)(a),i=r.findIndex(function(e){return e.name===t});if(i>-1){var o="asc"===n?"desc":"asc";return r[i]={name:t,sort:o},this.props.onSaveTableColumnsToSort(r)}return this.props.onSaveTableColumnsToSort([{name:t,sort:n}])}return this.props.onSaveTableColumnsToSort([{name:t,sort:n}])}},{key:"renderColumnHeader",value:function(e,t){var n=this,a=this.props.tableColumnsToSort;if(a){var r=a.find(function(e){return e.name===t});if(r){var i=r.sort,o="asc"===i?"caret down":"caret up";return u.a.createElement(tt.i.Column,{key:t,style:{width:e}},u.a.createElement(tt.j,{onClick:function(e){return n.handleClickSorting(e,t,i)},size:"small"},u.a.createElement(tt.j.Content,null,u.a.createElement(mi,{capitalize:!0,textKey:"tableColumns.".concat(t)}),u.a.createElement(tt.k,{name:o}))))}}return u.a.createElement(tt.i.Column,{key:t,style:{width:e}},u.a.createElement(tt.j,{onClick:function(e){return n.handleClickSorting(e,t,"asc")},size:"small"},u.a.createElement(tt.j.Content,null,u.a.createElement(mi,{capitalize:!0,textKey:"tableColumns.".concat(t)}))))}},{key:"render",value:function(){var e=this;di.render();var t=this.props,n=t.height,a=t.topOffset,r=t.scrollLeft,i=t.tableColumnsToShow,o=t.width;return u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.i,{padded:!0,style:{height:n,left:-r,position:"absolute",top:a,width:o},textAlign:"left",verticalAlign:"middle"},_r.map(function(t){var n=t.name,a=t.width;return i.includes(n)?e.renderColumnHeader(a,n):null})))}}]),t}(s.PureComponent);pi.defaultProps={scrollLeft:0};var hi=Object(xe.createInjectScrollLeft)("resultTableScrollContainer")(pi),fi={updateUserPreference:R.updateUserPreference},vi={id:"resultTableScrollContainer",key:"infiniteTable",renderRow:function(e){return u.a.createElement(ui,e)},style:{overflow:"auto"}},bi=[{height:Object(I.a)(3.5),key:"infiniteTableHeader",renderRow:function(e){return u.a.createElement(hi,Object.assign({},e,{height:Object(I.a)(3.5),topOffset:Object(I.a)(11.1875)}))},style:{borderBottom:"1px solid #b5b5b5"}},vi],gi={tableColumnsToShow:Lr,tableColumnsToSort:[]},yi=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleSaveTableColumnsToSort=n.handleSaveTableColumnsToSort.bind(Object(c.a)(n)),n.shortcuts=[{command:"space",description:"Open focused record",onPress:e.onFormTabClick},{command:"f",description:"Show/hide filters",onPress:e.onToggleFilters}],n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSaveTableColumnsToSort",value:function(e){return this.props.updateUserPreference(F.SPECIMENS_MAMMALS_TABLE_COLUMNS_SORTING,e)}},{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.tableColumnsToShow,a=e.tableColumnsToSort,r=Object(we.a)(e,["availableHeight","tableColumnsToShow","tableColumnsToSort"]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(j.a,{shortcuts:this.shortcuts}),u.a.createElement(S.RowLayout,Object.assign({},r,{availableHeight:t,onSaveTableColumnsToSort:this.handleSaveTableColumnsToSort,rows:bi,tableColumnsToShow:n,tableColumnsToSort:a,width:Mr(n)})))}}]),t}(s.PureComponent);yi.defaultProps=gi;var Oi=Object(d.c)(Object(m.b)(function(e){var t=k.a.getUserPreferences(e);return{tableColumnsToShow:t&&t[F.SPECIMENS_MAMMALS_TABLE_COLUMNS]||void 0,tableColumnsToSort:t&&t[F.SPECIMENS_MAMMALS_TABLE_COLUMNS_SORTING]||void 0}},fi),xe.injectWindowHeight)(yi),Ei=Object(I.a)(4.25),ji={height:"".concat(Ei,"px"),key:"recordNavigation",renderRow:function(e){var t="recordNew"===e.mainColumnActiveTab;return u.a.createElement(Ae.RecordNavigationBar,Object.assign({},e,{createItemActive:t,disabled:t}))}},Ti=Object(I.a)(3.625),Si={height:"".concat(Ti,"px"),key:"recordOptions",renderRow:function(e){return u.a.createElement(Kr,e)},style:{paddingLeft:"1rem",paddingRight:"1rem"}},Ii={key:"recordNew",renderRow:function(e){var t=e.availableHeight,n=Object(we.a)(e,["availableHeight"]);return u.a.createElement(Cr,Object.assign({},n,{availableHeight:t-Ei-Ti}))},style:{overflow:"auto"}},Ci={key:"recordEdit",renderRow:function(e){var t=e.availableHeight,n=Object(we.a)(e,["availableHeight"]);return u.a.createElement(Rr,Object.assign({},n,{availableHeight:t-Ei-Ti}))},style:{overflow:"auto"}},Ni={key:"resultTable",renderRow:function(e){var t=e.availableHeight,n=e.currentTableRowNumber,a=Object(we.a)(e,["availableHeight","currentTableRowNumber"]);return u.a.createElement("div",{className:"ui fluid dina background",style:{marginTop:"-1px"}},u.a.createElement(Oi,Object.assign({},a,{availableHeight:t-Ei-Ti,currentTableRowNumber:n})))}},ki={key:"resultTableSettings",renderRow:function(e){var t=e.onTableTabClick,n=Object(we.a)(e,["onTableTabClick"]);return u.a.createElement("div",{className:"ui fluid dina background",style:{padding:"20px"}},u.a.createElement(Xr,Object.assign({},n,{onTableTabClick:t})))},style:{overflow:"auto"}},wi=Object(b.createSelector)(function(e){return e},function(e){var t=[ji,Si];switch(e){case"recordEdit":t.push(Ci);break;case"recordNew":t.push(Ii);break;case"resultTableSettings":t.push(ki);break;case"resultTable":t.push(Ni)}return t}),xi=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.mainColumnActiveTab,n=e.windowHeight,a=Object(we.a)(e,["mainColumnActiveTab","windowHeight"]);return u.a.createElement(S.RowLayout,Object.assign({},a,{availableHeight:n-Object(I.a)(3.4375),mainColumnActiveTab:t,rows:wi(t)}))}}]),t}(s.PureComponent),Ai=Object(d.c)(p.g,xe.injectWindowHeight)(xi),Ri=n(904),Fi=n(907),Pi=n(885),Li=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleSearch=n.handleSearch.bind(Object(c.a)(n)),n.state={loading:!1},n.shortcuts=[{command:"enter",description:"Execute search",onPress:n.handleSearch}],n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleSearch",value:function(e){var t=this;return e.preventDefault(),this.setState({loading:!0}),this.props.onSearchSpecimens().then(function(){t.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props,t=e.invalid,n=e.onResetFilters,a=e.pristine;return u.a.createElement(u.a.Fragment,null,u.a.createElement(j.a,{shortcuts:this.shortcuts}),u.a.createElement(tt.i,{padded:!0},u.a.createElement(tt.i.Column,null,u.a.createElement(tt.b,{disabled:t,loading:this.state.loading,onClick:this.handleSearch,size:"large",style:{float:"left"}},"Search"),u.a.createElement(tt.b,{basic:!0,disabled:a,onClick:n,size:"large",style:{float:"right"}},"Clear all filters"))))}}]),t}(s.PureComponent);Li.defaultProps={};var Mi=Object(d.c)(Object(m.b)(function(e,t){var n=t.form;return{invalid:Object(Fi.a)(n)(e),pristine:Object(Pi.a)(n)(e)}}))(Li),_i=function(e){var t=e.split("|")[1].split("-");return{filterFunction:t[1],filterType:t[0]}},Di=function(e){return _i(e).filterFunction},Bi=function(e,t){return{or:t.map(function(t){return{filter:{filterFunction:Di(e),input:{value:t}}}})}},Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).map(function(n){var a=e[n];if(!a||n===function(e){var t=e.indexOf(".");return-1===t?e:e.slice(t+1)}(t))return null;if(function(e){return e.split("|").length>1}(n))switch(function(e){return _i(e).filterType}(n)){case"multipleChoice":return Bi(n,a);case"searchTags":return{or:Object.values(a).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.selected?{filter:{filterFunction:"match".concat(Di(n)),input:{value:e.id}}}:null}).filter(function(e){return!!e})};case"singleMatch":return{filter:{filterFunction:Di(n),input:{value:a}}};default:return null}return{filter:{filterFunction:n,input:{value:a}}}}).filter(function(e){return!!e})},Ui=["ageAndStage","date","length","weight"],Ki=function(e,t){var n=t.startDate,a=t.endDate;return void 0===e&&void 0===n&&void 0===a?null:{filter:{filterFunction:"searchDates",input:{value:{dateType:e,end:a&&a.interpretedTimestamp,start:n&&n.interpretedTimestamp}}}}},Hi=function(e){var t=e.filterFunction,n=e.typeKey;return function(e,a){var r=a.min,i=a.max;return void 0===e&&void 0===r&&void 0===i?null:n?{filter:{filterFunction:t,input:{value:Object(M.a)({max:i,min:r},n,e)}}}:{filter:{filterFunction:t,input:{value:{max:i,min:r}}}}}},zi=Object(b.createSelector)(function(e){return e},function(e,t){return t},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a={};Object.keys(e).forEach(function(t){Ui.includes(t)?a[t]=e[t]:n.push(e[t])});var r=n.reduce(function(e,t){return Object(_.a)({},e,Object.keys(t).reduce(function(e,n){return Object(_.a)({},e,Object(M.a)({},n,t[n]))},{}))},{}),i=Vi(r,t),o=function(e){return Object.keys(e).map(function(t){var n=e[t],a=n.endDate,r=n.max,i=n.min,o=n.startDate;switch(t){case"ageAndStage":var c="ageStage|multipleChoice-matchAgeStageTags",l=n[c],s=Hi({filterFunction:"rangeAge"});return l&&l.length?void 0===r&&void 0===i?Bi(c,l):{and:[Bi(c,l),{or:l.map(function(e){return s(e,n)})}]}:void 0===r&&void 0===i?null:s(void 0,n);case"date":var u="dateType|multipleChoice-matchDateTags",d=n[u];return d&&d.length?void 0===o&&void 0===a?Bi(u,d):{and:[Bi(u,d),{or:d.map(function(e){return Ki(e,n)})}]}:void 0===o&&void 0===a?null:Ki(void 0,n);case"length":var m="lengthType|multipleChoice-matchLengthTags",p=n[m],h=Hi({filterFunction:"rangeLength",typeKey:"lengthType"});return p&&p.length?void 0===r&&void 0===i?Bi(m,p):{and:[Bi(m,p),{or:p.map(function(e){return h(e,n)})}]}:void 0===r&&void 0===i?null:h(void 0,n);case"weight":var f="weightType|multipleChoice-matchWeightTags",v=n[f],b=Hi({filterFunction:"rangeWeight",typeKey:"weightType"});return v&&v.length?void 0===r&&void 0===i?Bi(f,v):{and:[Bi(f,v),{or:v.map(function(e){return b(e,n)})}]}:void 0===r&&void 0===i?null:b(void 0,n);default:return null}}).filter(function(e){return!!e})}(a);return{and:[].concat(Object(L.a)(i),Object(L.a)(o))}}),Gi=ke.createFieldHoc()(ti.b),qi=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(tt.h.Field,{style:{position:"relative",width:"100%"}},u.a.createElement(He.FieldLabel,{label:"Age in years"}),u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:7},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,enableHelpNotifications:!1,fluid:!0,label:"from",module:"collectionMammals",name:"ageAndStage.age.min",subLabel:!0,type:"number"})),u.a.createElement(tt.i.Column,{width:7},u.a.createElement(He.Field,{autoComplete:"off",component:He.Input,enableHelpNotifications:!1,fluid:!0,label:"to",module:"collectionMammals",name:"ageAndStage.age.max",subLabel:!0,type:"number"}))))),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:Gi,displayCount:!0,enableHelpNotifications:!1,label:"Developmental stage",name:"ageAndStage.stages",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),Qi=ke.createFieldHoc()(ti.c),Wi=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:Qi,enableHelpNotifications:!1,label:"Name",name:"agent.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:"collector",tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any agent type"})))}}]),t}(s.PureComponent),Yi=ke.createFieldHoc()(ti.b),Xi=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:Yi,displayCount:!0,enableHelpNotifications:!1,label:"",name:"bones.bones",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),Ji=ke.createFieldHoc()(ti.b),Zi=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:Ji,displayCount:!0,enableHelpNotifications:!1,label:"",name:"collectingCondition.collectingConditions",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),$i=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:He.RangeDate,displayDateTypeRadios:!1,displayEndDateLabel:!0,displayStartDateLabel:!0,displaySubLabels:!0,enableHelpNotifications:!1,endDateLabel:"Latest date",initialDateType:"range",module:"collectionMammals",name:"datePeriod.date",stack:!0,startDateLabel:"Earliest date"})))}}]),t}(s.PureComponent),eo=ke.createFieldHoc()(ti.c),to=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:eo,enableHelpNotifications:!1,label:"Identifier value",module:"collectionMammals",name:"identifier.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:"catalog-no",tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any identifier type",translationScope:"enums.identifiers"})))}}]),t}(s.PureComponent),no=ke.createFieldHoc()(ti.a),ao=[{key:"unspecified",text:"not set",value:"unspecified"},{key:"m",text:"m",value:"m"},{key:"cm",text:"cm",value:"cm"},{key:"mm",text:"mm",value:"mm"}],ro=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(no,{capitalize:!0,disableClearUnitValue:!0,module:"collectionMammals",name:"length",resource:"searchSpecimen",tagTypeDropdownPlaceholder:"Choose length type",translationScope:"enums.length",unitOptions:ao})}}]),t}(s.PureComponent),io=ke.createFieldHoc()(ti.b),oo=ke.createFieldHoc()(ti.c),co=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{addTagTypeToText:!1,autoComplete:"off",component:oo,enableHelpNotifications:!1,fluid:!0,label:"Higher geography (collecting)",name:"locality.higherGeography.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:be.ANY,tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any geographic level"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:oo,enableHelpNotifications:!1,fluid:!0,label:"Locality (collecting or origin)",module:"collectionMammals",name:"locality.localities.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:"collecting-interpreted",tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any locality type",translationScope:"enums.locality"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:io,displayCount:!0,enableHelpNotifications:!1,label:"Appearance",name:"collectingInformation.establishmentMeansType",resource:"searchSpecimen"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:io,displayCount:!0,enableHelpNotifications:!1,label:"Selective breeding",name:"originInformation.isResultOfSelectiveBreeding",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),lo=ke.createFieldHoc()(ti.b),so=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:lo,displayCount:!0,enableHelpNotifications:!1,label:"Skeleton",name:"physicalObject.skeleton",resource:"searchSpecimen"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:lo,displayCount:!0,enableHelpNotifications:!1,label:"Skin",name:"physicalObject.skin",resource:"searchSpecimen"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:lo,displayCount:!0,enableHelpNotifications:!1,label:"Wet preparation",name:"physicalObject.wetPreparation",resource:"searchSpecimen"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:lo,displayCount:!0,enableHelpNotifications:!1,label:"Other preparation",name:"physicalObject.otherPreparation",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),uo=ke.createFieldHoc()(ti.f),mo=ke.createFieldHoc()(ti.e),po=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Row,null,u.a.createElement(tt.i.Column,{style:{zIndex:10},width:16},u.a.createElement(He.Field,{autoComplete:"off",capitalize:!0,component:uo,enableHelpNotifications:!1,inline:!0,module:"collectionMammals",name:"remarks.srcField",resource:"searchSpecimen",tagTypeInitialOptionValue:be.ANY,tagTypeMatchAllOptionText:"Any remarks type",translationScope:"enums.remarks"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:mo,enableHelpNotifications:!1,name:"remarks.search",resource:"searchSpecimen"}))))}}]),t}(s.PureComponent),ho=ke.createFieldHoc()(ti.b),fo=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{component:ho,displayCount:!0,enableHelpNotifications:!1,label:"",name:"sex.sex",resource:"searchSpecimen"})))}}]),t}(s.PureComponent),vo=ke.createFieldHoc()(ti.c),bo=ke.createFieldHoc()(ti.f),go=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{addTagTypeToText:!1,autoComplete:"off",capitalize:!0,component:vo,enableHelpNotifications:!1,label:"Normal storage location",module:"collectionMammals",name:"storage.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:be.ANY,tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any storage level",translationScope:"enums.storageLocations"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",capitalize:!0,component:bo,enableHelpNotifications:!1,label:"Limit to specimens with storage level",module:"collectionMammals",name:"storage.tagType",resource:"searchSpecimen",tagTypeInitialOptionValue:be.ANY,tagTypeMatchAllOptionText:"Any storage level",translationScope:"enums.storageLocations"})))}}]),t}(s.PureComponent),yo=ke.createFieldHoc()(ti.c),Oo=ke.createFieldHoc()(ti.f),Eo=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(tt.i,{textAlign:"left",verticalAlign:"top"},u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{addTagTypeToText:!0,autoComplete:"off",component:yo,enableHelpNotifications:!1,label:"Taxon",name:"taxonomy.tagValues",resource:"searchSpecimen",tagTypeFilterEnabled:!0,tagTypeInitialOptionValue:be.ANY,tagTypeInlineDescription:"Suggesting from",tagTypeMatchAllOptionText:"any rank"})),u.a.createElement(tt.i.Column,{width:16},u.a.createElement(He.Field,{autoComplete:"off",component:Oo,enableHelpNotifications:!1,label:"Limit to specimens of rank",name:"taxonomy.tagType",resource:"searchSpecimen",tagTypeInitialOptionValue:be.ANY,tagTypeMatchAllOptionText:"Any rank"})))}}]),t}(s.PureComponent),jo=ke.createFieldHoc()(ti.a),To=[{key:"unspecified",text:"not set",value:"unspecified"},{key:"kg",text:"kg",value:"kg"},{key:"g",text:"g",value:"g"}],So={AgeAndStage:qi,Agent:Wi,Bones:Xi,CollectingCondition:Zi,DatePeriod:$i,Identifier:to,Length:ro,Locality:co,PhysicalObject:so,Remarks:po,Sex:fo,Storage:go,Taxonomy:Eo,Weight:function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(jo,{capitalize:!0,disableClearUnitValue:!0,module:"collectionMammals",name:"weight",resource:"searchSpecimen",tagTypeDropdownPlaceholder:"Choose weight type",translationScope:"enums.weight",unitOptions:To})}}]),t}(s.PureComponent)},Io=function(e){var t=e.name,n=So[$n()(t)];if(!n)throw new Error("No filter component found for name: ".concat(t));return u.a.createElement(n,e)},Co=Object(m.b)(function(e,t){var n=t.doDeepEqualInitialValuesComparison,a=t.formValueSelector,r=t.getFormInitialValues,i=t.name,o=r(e),c=o&&o[i],l=a(e,i);return{hasChanged:n?!Object(ct.isEqual)(c,l):c!==l,hasValues:!!Object.keys(l||{}).length}})(function(e){var t=e.hasChanged,n=e.hasValues,a=e.name;return u.a.createElement(tt.i,null,u.a.createElement(tt.i.Column,{width:14},n&&t&&u.a.createElement(tt.k,{name:"check circle"}),u.a.createElement(We.ModuleTranslate,{fallback:$n()(a),module:"collectionMammals",textKey:"filterTitles.".concat(a)})),u.a.createElement(tt.i.Column,{width:2},u.a.createElement(tt.k,{name:"dropdown"})))}),No=[{name:"identifier"},{doDeepEqualInitialValuesComparison:!0,name:"taxonomy"},{name:"locality"},{name:"datePeriod"},{name:"agent"},{name:"physicalObject"},{doDeepEqualInitialValuesComparison:!0,name:"storage"},{name:"ageAndStage"},{name:"sex"},{name:"collectingCondition"},{doDeepEqualInitialValuesComparison:!0,name:"weight"},{doDeepEqualInitialValuesComparison:!0,name:"length"},{name:"bones"},{doDeepEqualInitialValuesComparison:!0,name:"remarks"}],ko={formValues:void 0},wo=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getDrilldownQuery=n.getDrilldownQuery.bind(Object(c.a)(n)),n.renderContent=n.renderContent.bind(Object(c.a)(n)),n.renderTitle=n.renderTitle.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"getDrilldownQuery",value:function(e){return zi(this.props.formValues,e)}},{key:"renderContent",value:function(e){return u.a.createElement(Io,Object.assign({},this.props,e,{getDrilldownQuery:this.getDrilldownQuery}))}},{key:"renderTitle",value:function(e){return u.a.createElement(Co,Object.assign({},this.props,e))}},{key:"render",value:function(){return u.a.createElement(vn.Accordion,{className:"ui form",delayItemRenderUntilActive:!0,items:No,renderContent:this.renderContent,renderTitle:this.renderTitle,selectMode:bn.e})}}]),t}(s.PureComponent);wo.defaultProps=ko;var xo=Object(d.c)(Object(m.b)(function(e,t){var n=t.form;return{formValues:Object(f.a)(n)(e)}}))(wo),Ao=Object(Ke.a)({destroyOnUnmount:!1,enableReinitialize:!0,initialValues:{length:{rangeType:"total-length",rangeUnit:"unspecified"},remarks:{srcField:be.ANY},storage:{tagType:be.ANY},taxonomy:{tagType:be.ANY},weight:{rangeType:"complete-body-weight",rangeUnit:"unspecified"}},keepDirtyOnReinitialize:!0,updateUnregisteredFields:!0})(xo),Ro=Object(Re.a)(F.SPECIMEN_FILTERS_FORM_NAME),Fo=Object(Ri.a)(F.SPECIMEN_FILTERS_FORM_NAME),Po={key:"main",renderRow:function(e){return u.a.createElement(Ao,e)},style:{overflow:"auto"}},Lo=[{height:Object(I.a)(4.25),key:"header",renderRow:function(){return u.a.createElement(vn.ColumnRowHeader,{text:"Find specimens"})}},Po,{height:Object(I.a)(4.625),key:"bottomBar",renderRow:function(e){return u.a.createElement(Mi,e)}}],Mo=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.windowHeight;return u.a.createElement(S.RowLayout,Object.assign({availableHeight:e-Object(I.a)(3.4375),form:F.SPECIMEN_FILTERS_FORM_NAME,formValueSelector:Ro,getFormInitialValues:Fo,rows:Lo},this.props))}}]),t}(s.PureComponent),_o=Object(d.c)(xe.injectWindowHeight)(Mo),Do={key:"main",renderColumn:function(e){return u.a.createElement(Ai,e)}},Bo={background:"white",borderLeft:"1px solid #D4D4D5",zIndex:100},Vo=Object(b.createSelector)(function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(I.a)(25)},function(e){return{key:"filter",renderColumn:function(e){return u.a.createElement(_o,e)},style:Bo,width:e}}),Uo=Object(b.createSelector)(function(e){return e},function(e){return{key:"rightSidebar",renderColumn:function(e){return u.a.createElement(S.InformationSidebar,e)},style:Bo,width:e}}),Ko=Object(b.createSelector)(function(e){return e.filterColumnIsOpen},function(e){return e.isSmall},function(e){return e.rightSidebarIsOpen},function(e){return e.rightSidebarWidth},function(e,t,n,a){var r=[Do];if(e){if(t)return[Vo("100%")];r.push(Vo())}if(n){if(t)return[Uo("100%")];r.push(Uo(a&&"".concat(a,"px")))}return r}),Ho=Object(b.createSelector)(function(e){return e},function(e){return e.includes("edit")?"recordEdit":e.includes("create")?"recordNew":e.includes("settings")?"resultTableSettings":"resultTable"}),zo={delCurrentTableRowNumber:P.a.del.currentTableRowNumber,delFocusedSpecimenId:P.a.del.focusedSpecimenId,push:g.d,reset:v.g,setCurrentTableRowNumber:P.a.set.currentTableRowNumber,setFilterColumnIsOpen:P.a.set.filterColumnIsOpen,setFocusedSpecimenId:P.a.set.focusedSpecimenId,updateUserPreference:R.updateUserPreference},Go={currentTableRowNumber:void 0,filterValues:void 0,focusedSpecimenId:void 0,numberOfListItems:void 0,prefetchLimit:50,rightSidebarWidth:Object(I.a)(25),searchResult:void 0,specimenId:void 0,tableColumnsToSort:void 0,totalNumberOfRecords:0},qo=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).getColumns=n.getColumns.bind(Object(c.a)(n)),n.handleExportToCsv=n.handleExportToCsv.bind(Object(c.a)(n)),n.handleInteraction=n.handleInteraction.bind(Object(c.a)(n)),n.handleOpenEditRecordView=n.handleOpenEditRecordView.bind(Object(c.a)(n)),n.handleOpenNewRecordForm=n.handleOpenNewRecordForm.bind(Object(c.a)(n)),n.handleOpenTableView=n.handleOpenTableView.bind(Object(c.a)(n)),n.handleResetFilters=n.handleResetFilters.bind(Object(c.a)(n)),n.handleSearchSpecimens=n.handleSearchSpecimens.bind(Object(c.a)(n)),n.handleSelectNextRecord=n.handleSelectNextRecord.bind(Object(c.a)(n)),n.handleSelectPreviousRecord=n.handleSelectPreviousRecord.bind(Object(c.a)(n)),n.handleSetCurrentTableRowNumber=n.handleSetCurrentTableRowNumber.bind(Object(c.a)(n)),n.handleSettingClick=n.handleSettingClick.bind(Object(c.a)(n)),n.handleShowAllRecords=n.handleShowAllRecords.bind(Object(c.a)(n)),n.handleSpecimenIdUpdate=n.handleSpecimenIdUpdate.bind(Object(c.a)(n)),n.handleToggleFilters=n.handleToggleFilters.bind(Object(c.a)(n)),n.shortcuts=[{command:"down",description:"Move focus to next record",onPress:n.handleSelectNextRecord},{command:"up",description:"Move focus to previous record",onPress:n.handleSelectPreviousRecord},{command:"n n",description:"Open new record form",onPress:n.handleOpenNewRecordForm},{command:"n t",description:"Open table view",onPress:n.handleOpenTableView}],n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){this.handleSpecimenIdUpdate()}},{key:"componentDidMount",value:function(){this.handleSearchSpecimens(this.props,{openTableView:!1,usePrefetchLimit:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(O.a.get(this.props,"tableColumnsToSort")!==O.a.get(e,"tableColumnsToSort")){var n;if(!this.props.isNewRecordView&&!this.props.isEditRecordView&&e.currentTableRowNumber>0){var a=e.searchResult.items&&e.searchResult.items[e.currentTableRowNumber-1];n=a.id}this.handleSearchSpecimens(e,{openTableView:!1,skipFilter:e.isItemViewOrSettings,usePrefetchLimit:!1}).then(function(){if(n){var e=t.props.searchResult.items.findIndex(function(e){return e.id===n});t.handleSetCurrentTableRowNumber(null,e+1)}})}O.a.get(this.props,"tableColumnsToShow")!==O.a.get(e,"tableColumnsToShow")&&this.handleSearchSpecimens(e,{openTableView:!0,usePrefetchLimit:!1}),!e.isEditRecordView||this.props.specimenId===e.specimenId&&O.a.get(this.props,"searchResult.items")===O.a.get(e,"searchResult.items")||this.handleSpecimenIdUpdate(e)}},{key:"getColumns",value:function(){return Ko(this.props)}},{key:"handleInteraction",value:function(e){var t=this;switch(e){case N.CREATE_SUCCESS:this.props.updateUserPreference(F.SPECIMENS_MAMMALS_TABLE_COLUMNS_SORTING,[{name:"idNumeric",sort:"asc"}]);break;case N.DEL_SUCCESS:var n=this.props,a=n.currentTableRowNumber,r=n.isTableView;this.handleSearchSpecimens(void 0,{openTableView:!1}).then(function(){r||setTimeout(function(){t.handleOpenTableView(),t.handleSetCurrentTableRowNumber(null,Math.min(a,t.props.searchResult.items.length))})})}}},{key:"handleSpecimenIdUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=O.a.get(e,"match.params.specimenId");if(t&&(this.props.setFocusedSpecimenId(t),O.a.get(e,"searchResult.items"))){var n=e.searchResult.items.findIndex(function(e){return e.id===t});n>-1&&this.props.setCurrentTableRowNumber(n+1)}}},{key:"handleSetCurrentTableRowNumber",value:function(e,t){e&&e.preventDefault();var n=this.props,a=n.mainColumnActiveTab,r=n.match,i=r.path,o=r.params;this.props.setCurrentTableRowNumber(t);var c=t-1,l=O.a.get(this.props,"searchResult.items.".concat(c,".id"));return l?"recordEdit"===a?this.props.push(i.replace(":specimenId",l).replace(":sectionId",o.sectionId)):this.props.setFocusedSpecimenId(l):this.props.setFocusedSpecimenId(void 0)}},{key:"handleSelectNextRecord",value:function(e){var t=this.props,n=t.currentTableRowNumber,a=t.numberOfListItems;a&&n<a&&this.handleSetCurrentTableRowNumber(e,n+1)}},{key:"handleSelectPreviousRecord",value:function(e){var t=this.props,n=t.currentTableRowNumber;t.numberOfListItems&&n>1&&this.handleSetCurrentTableRowNumber(e,n-1)}},{key:"handleToggleFilters",value:function(e){e.preventDefault(),this.props.filterColumnIsOpen||this.handleOpenTableView(e),this.props.setFilterColumnIsOpen(!this.props.filterColumnIsOpen)}},{key:"handleSearchSpecimens",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.openTableView,r=void 0===a||a,i=n.skipFilter,o=void 0!==i&&i,c=n.usePrefetchLimit,l=void 0===c||c;!t.isTableView&&r&&this.handleOpenTableView();var s=t.buildQuery,u=t.currentTableRowNumber,d=t.focusedSpecimenId,m=t.tableColumnsToSort,p=t.prefetchLimit,h=m&&m.map(function(e){var t=e.name,n=e.sort;return"attributes.".concat(t,":").concat(n)}),f=s().query;return this.props.search({limit:l?p:5e4,query:o?{}:f,sort:h}).then(function(t){return t&&t.length?(u||d)&&t.find(function(e){return e.id===d})?t.length<u&&(e.props.setCurrentTableRowNumber(t.length),e.props.setFocusedSpecimenId(t[t.length-1].id)):(e.props.setCurrentTableRowNumber(1),e.props.setFocusedSpecimenId(t[0].id)):(e.props.delCurrentTableRowNumber(),e.props.delFocusedSpecimenId()),t&&t.length===p?e.props.search({query:f,sort:h}):null})}},{key:"handleShowAllRecords",value:function(e){var t=this;e.preventDefault(),this.props.reset(F.SPECIMEN_FILTERS_FORM_NAME),setTimeout(function(){return t.handleSearchSpecimens()})}},{key:"handleResetFilters",value:function(e){this.handleShowAllRecords(e)}},{key:"handleOpenNewRecordForm",value:function(e){e.preventDefault(),this.props.setFilterColumnIsOpen(!1),this.props.push("/app/specimens/mammals/create/sections/0")}},{key:"handleOpenTableView",value:function(e){e&&e.preventDefault(),this.props.push("/app/specimens/mammals/search")}},{key:"handleOpenEditRecordView",value:function(e){e&&e.preventDefault(),this.props.setFilterColumnIsOpen(!1);var t=this.props.focusedSpecimenId;t&&this.props.push("/app/specimens/mammals/".concat(t,"/edit/sections/0"))}},{key:"handleExportToCsv",value:function(e){e.preventDefault(),window.alert("Not implemented")}},{key:"handleSettingClick",value:function(e){e&&e.preventDefault(),this.props.push("/app/specimens/mammals/search/settings")}},{key:"render",value:function(){var e=this.props,t=e.currentTableRowNumber,n=e.enableShowAllRecordsButton,a=e.focusedSpecimenId,r=e.isItemViewOrSettings,i=e.isNewRecordView,o=e.isTableView,c=e.isTableViewOrSettings,l=e.mainColumnActiveTab,s=e.numberOfListItems,d=e.showSelectNextRecordButton,m=e.showSelectPreviousRecordButton,p=e.totalNumberOfRecords;return u.a.createElement(u.a.Fragment,null,u.a.createElement(j.a,{activeInLayer:"mammalManager",shortcuts:this.shortcuts}),u.a.createElement(S.ColumnLayout,{columns:this.getColumns(),currentTableRowNumber:t,focusedItemId:a,isItemViewOrSettings:r,isNewRecordView:i,isTableViewOrSettings:c,mainColumnActiveTab:l,numberOfListItems:s,onExportCsv:o&&this.handleExportToCsv,onFormTabClick:o&&this.handleOpenEditRecordView,onInteraction:this.handleInteraction,onOpenNewRecordForm:!i&&this.handleOpenNewRecordForm,onResetFilters:this.handleResetFilters,onSearchSpecimens:this.handleSearchSpecimens,onSelectNextRecord:d&&this.handleSelectNextRecord,onSelectPreviousRecord:m&&this.handleSelectPreviousRecord,onSetCurrentTableRowNumber:!i&&this.handleSetCurrentTableRowNumber,onSettingClick:o&&this.handleSettingClick,onShowAllRecords:n&&this.handleShowAllRecords,onTableTabClick:!o&&this.handleOpenTableView,onToggleFilters:!i&&this.handleToggleFilters,totalNumberOfRecords:p}))}}]),t}(s.Component);qo.defaultProps=Go;t.a=Object(d.c)(p.g,Object(E.createGetResourceCount)({resource:"specimen"}),Object(w.a)({includeFields:["id"],resource:"searchSpecimen"}),Object(w.b)({resource:"searchSpecimen"}),ke.createFormHoc(),Object(T.a)({layer:"mammalManager"}),Object(m.b)(function(e,t){var n=t.match,a=n.params,r=n.url,i=t.resourceCount,o=t.searchResultResourceType,c=k.a.getUserPreferences(e),l=c&&c[F.SPECIMENS_MAMMALS_TABLE_COLUMNS]||void 0,s=c&&c[F.SPECIMENS_MAMMALS_TABLE_COLUMNS_SORTING]||void 0,u=x.c.get[":resource.searchState"](e,{resource:o}),d=Ho(r),m=i,p=u&&u.items&&u.items.length,v=P.b.get.currentTableRowNumber(e),b="recordEdit"===d,g="recordNew"===d,y=d.startsWith("record"),E="resultTable"===d,j=d.startsWith("resultTable"),T=!g&&v<p,S=!g&&v>1,I=Object(h.a)(F.SPECIMEN_FILTERS_FORM_NAME)(e);return{currentTableRowNumber:v,enableShowAllRecordsButton:!b&&I&&p!==m,filterColumnIsOpen:P.b.get.filterColumnIsOpen(e),filterValues:Object(f.a)(F.SPECIMEN_FILTERS_FORM_NAME)(e),focusedSpecimenId:P.b.get.focusedSpecimenId(e),isEditRecordView:b,isItemViewOrSettings:y,isNewRecordView:g,isSmall:A.a.getIsSmall(e),isTableView:E,isTableViewOrSettings:j,mainColumnActiveTab:d,numberOfListItems:p,rightSidebarIsOpen:C.a.getRightSidebarIsOpen(e),showSelectNextRecordButton:T,showSelectPreviousRecordButton:S,specimenId:O.a.get(a,"specimenId"),tableColumnsToShow:l,tableColumnsToSort:s,totalNumberOfRecords:m}},zo))(qo)},66:function(e,t,n){"use strict";var a=n(91),r=n(442);t.a=Object(a.a)(r)},660:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n(47),i=n(4),o=n(6),c=n(8),l=n(5),s=n(9),u=n(7),d=n(0),m=n.n(d),p=n(111),h=n(21),f=n(25),v=n(636),b=n(902),g=n(133),y=n.n(g),O=n(15),E=n(136),j=n(30),T=n(10),S=n(38),I=n.n(S),C=n(85),N=n.n(C).a.getModels(),k=function(){var e=Object(T.a)({},N);return e=I.a.set(e,"place.required",["group","name","parent"]),e=I.a.set(e,"place.properties.group",{minLength:1,type:"string"}),e=I.a.set(e,"place.properties.name",{minLength:1,type:"string"}),e=I.a.set(e,"place.properties.parent",{properties:{id:{minLength:1,type:"string"}},required:["id"],type:"object"})}(),w=n(517),x=n(138),A=n(108),R=[{name:"place",units:[{place:{name:"place",parts:[{componentName:"TranslatedHeader",componentProps:{as:"h2",textKey:"headers.geography"}},{componentName:"Input",componentProps:{columnProps:{width:9},fluid:!0,type:"text"},name:"name",required:!0,wrapInField:!0},{componentName:"GeographicLevelDropdown",componentProps:{columnProps:{width:9},disableLevels:[A.PLANET]},name:"group",required:!0,wrapInField:!0},{componentName:"LocalityDropdownPickerSearch",componentProps:{columnProps:{width:9},excludeRootNode:!1},name:"parent.id",required:!0,wrapInField:!0}]}}.place,x.b]}],F=Object(j.a)(4.625),P={getAllowTransition:void 0,itemSubHeader:void 0,preventLeavingForm:!1,unsavedChangesMessage:void 0},L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).formValueSelector=Object(v.a)(e.form),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.availableHeight,n=e.form,a=e.getAllowTransition,r=e.handleSubmit,i=e.itemHeader,o=e.itemSubHeader,c=e.preventLeavingForm,l=e.unsavedChangesMessage,s=Object(h.a)(e,["availableHeight","form","getAllowTransition","handleSubmit","itemHeader","itemSubHeader","preventLeavingForm","unsavedChangesMessage"]);return m.a.createElement(O.Form,{formName:n,getAllowTransition:a,onSubmit:r(function(){}),preventLeavingForm:c,sectionSpecs:R,setFormRef:this.setFormRef,unsavedChangesMessage:l},m.a.createElement(O.FormRow,Object.assign({},s,{availableHeight:t-F,customParts:w.a,formName:n,formValueSelector:this.formValueSelector,itemHeader:i,itemSubHeader:o,module:"locality",moduleName:"locality",sectionSpecs:R})))}}]),t}(d.Component);L.defaultProps=P;var M=Object(b.a)({enableReinitialize:!0,validate:Object(a.c)(E.mapParentError,Object(E.createMapRequiredStrings)(["group","name"]),y()({model:"place",models:k}))})(L),_={itemId:void 0},D=function(e,t){return"POP"!==t&&e.search.includes("mainColumn=edit")},B=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemId,n=e.onInteraction,a=Object(h.a)(e,["itemId","onInteraction"]),r=t?{parent:{id:t}}:{};return m.a.createElement(M,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"placeCreate",getAllowTransition:D,initialValues:r,itemHeader:m.a.createElement(f.ModuleTranslate,{capitalize:!0,module:"locality",textKey:"newLocality"}),onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},preventLeavingForm:!0,unsavedChangesMessage:"You have not saved the new record, are you sure you want to leave?"}))}}]),t}(d.PureComponent);B.defaultProps=_;var V=B,U={nestedItem:void 0},K=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nestedItem,n=e.onInteraction,a=Object(h.a)(e,["nestedItem","onInteraction"]);if(!t)return null;var r=t.resourceActivities;return m.a.createElement(m.a.Fragment,null,m.a.createElement(M,Object.assign({},a,{displayBackButton:!0,displayResetButton:!0,form:"placeEdit",initialValues:t,onClose:function(e){e.preventDefault(),n("FORM_CANCEL")},onInteraction:n,resourceActivities:r})))}}]),t}(d.PureComponent);K.defaultProps=U;var H=K,z=n(1),G=n(22),q=n(99),Q=Object(G.a)("modules:locality:BaseForm"),W=[A.CONTINENT,A.COUNTRY,A.DISTRICT,A.PROVINCE,A.PLANET].map(function(e){return{key:e,text:e,value:e}}),Y=function(){},X=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){Q.render();var e=this.props,t=e.error,n=e.handleSubmit;return m.a.createElement(z.i,{padded:!0},m.a.createElement(z.i.Column,null,m.a.createElement(z.h,{error:!!t,onSubmit:n(Y)},m.a.createElement(z.i,{textAlign:"left",verticalAlign:"top"},m.a.createElement(z.i.Row,null,m.a.createElement(z.i.Column,{width:16},m.a.createElement(q.a,{autoComplete:"off",component:O.Input,enableHelpNotifications:!1,label:"Name",model:"place",module:"locality",name:"name",type:"text"})),m.a.createElement(z.i.Column,{width:16},m.a.createElement(q.a,{autoComplete:"off",component:O.DropdownSearch,enableHelpNotifications:!1,fluid:!0,label:"Geographic level",model:"place",module:"locality",name:"group",options:W,type:"dropdown-search-local"})))))))}}]),t}(d.Component);X.defaultProps={error:""};var J=Object(b.a)({destroyOnUnmount:!1,form:"placeFilter"})(X);function Z(e){var t=e.excludeRootNode,n=e.values,a=[];return t&&a.push({filter:{filterFunction:"excludeRootNode",input:{value:!0}}}),n.name&&a.push({filter:{filterFunction:"nameSearch",input:{value:n.name}}}),n.group&&a.push({filter:{filterFunction:"group",input:{value:n.group}}}),a.length?{and:a}:{}}var $=function e(t,n){return t?t.group===n?t:t&&t.parent?e(t.parent,n):null:null},ee=[{fieldPath:"name",label:"modules.locality.fieldLabels.place.name",width:250},{fieldPath:"group",label:"modules.locality.fieldLabels.place.group",width:180},{buildText:function(e){var t=e.value,n=$(t.parent,"continent-ocean");return n?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.locality.fieldLabels.continent",width:250},{buildText:function(e){var t=e.value,n=$(t.parent,"country");return n?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.locality.fieldLabels.country",width:250},{buildText:function(e){var t=e.value,n=$(t.parent,"province");return n?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.locality.fieldLabels.province",width:250},{buildText:function(e){var t=e.value,n=$(t.parent,"district");return n?n.deactivatedAt?m.a.createElement("span",{style:{color:"red"}},"".concat(n.name," (removed)")):n.name:""},fieldPath:"",label:"modules.locality.fieldLabels.district",width:250}],te=function(e){var t=e.nestedItem,n=void 0===t?{}:t,a=n.group,r=n.name,i=n.parent,o=(i=void 0===i?{}:i).name,c=i.isRoot;return r?o&&!c?m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},r),m.a.createElement("span",null,"[",a," in ",o,"]")):m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{style:{fontWeight:"bold",marginRight:"0.5em"}},r),m.a.createElement("span",null,"[",a,"]")):""},ne=["parent","resourceActivities"],ae={include:ne,refresh:!0,relationships:ne,resolveRelationships:["place","resourceActivity"],resource:"place"},re=["children","specimens"],ie={itemId:void 0},oe={name:"The Earth"},ce=["attributes.name:asc"],le={include:["parent.parent.parent.parent.parent"],relationships:["parent","parent.parent","parent.parent.parent","parent.parent.parent.parent","parent.parent.parent.parent.parent"],resolveRelationships:["place"]},se={include:["parent"],relationships:["parent","children"],resolveRelationships:["place"]},ue=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleInteraction=n.handleInteraction.bind(Object(s.a)(n)),n.renderCreateForm=n.renderCreateForm.bind(Object(s.a)(n)),n.renderEditForm=n.renderEditForm.bind(Object(s.a)(n)),n.renderFilterForm=n.renderFilterForm.bind(Object(s.a)(n)),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.onNavigation(e,t)}},{key:"renderEditForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props.itemId;return m.a.createElement(H,Object.assign({},e,{itemId:t,onInteraction:this.handleInteraction}))}},{key:"renderCreateForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(V,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"renderFilterForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m.a.createElement(J,Object.assign({},e,{onInteraction:this.handleInteraction}))}},{key:"render",value:function(){return m.a.createElement(p.ResourceManager,Object.assign({},this.props,{baseTreeFilter:oe,buildFilterQuery:Z,createGetNestedItemHocInput:ae,filterHeader:"Find geography",itemFetchOptions:se,ItemTitle:te,onInteraction:this.handleInteraction,relationshipsToCheckBeforeDelete:re,renderCreateForm:this.renderCreateForm,renderEditForm:this.renderEditForm,renderFilterForm:this.renderFilterForm,resource:"place",sortOrder:ce,tableBatchFetchOptions:le,tableColumnSpecifications:ee,treeEnabled:!0}))}}]),t}(d.Component);ue.defaultProps=ie;var de=ue,me=Object(a.c)(Object(r.createLocalState)(),Object(r.createNavigationState)())(de),pe=n(351),he=n(276),fe=Object(a.c)(Object(r.createQueryState)(),Object(r.createNavigationState)())(de);n.d(t,"LocalityDropdownPickerSearch",function(){return pe.a}),n.d(t,"LocalityDropdownSearch",function(){return he.a}),n.d(t,"LocalityManager",function(){return fe}),Object(pe.b)(me)},661:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n(6),o=n(8),c=n(5),l=n(7),s=n(0),u=n.n(s),d=n(85),m=n.n(d);function p(e){var t=e.modelId,n=e.specification;return Object.keys(n.components.schemas).map(function(e){return Object(a.a)({key:e},n.components.schemas[e])}).find(function(e){return e.key===t})}var h=n(1),f=n(210),v=n(40),b=n(250);function g(e){return"array"===e.type}function y(e){return e&&e.$ref}function O(e){return e&&e.anyOf}var E=function(e){var t=e.property,n=e.Type,a=e.version,r=t.anyOf;return u.a.createElement("span",null,"One of:"," ",r.map(function(e){return u.a.createElement(n,{key:t.key,property:e,version:a})}))};function j(e){var t=e.items&&e.items.$ref&&e.items.$ref.split("/");if(!t)return"";var n=t.length;return n?t[n-1]:""}function T(e){var t=e&&e.$ref&&e.$ref.split("/");if(!t)return"";var n=t.length;return n?t[n-1]:""}var S=function e(t){var n=t.property,a=t.version;if(O(n))return E({property:n,Type:e,version:a});if(g(n)){var r=Object(b.a)({modelName:j(n),version:a});return u.a.createElement(v.a,{className:"item",href:r,to:r},"<ARRAY> ".concat(j(n)))}if(y(n)){var i=Object(b.a)({modelName:T(n),version:a});return u.a.createElement(v.a,{className:"item",href:i,to:i},"<MODEL> ".concat(T(n)))}var o=n.type||"";return n.enum?"".concat(o,", enum: [").concat(n.enum.join(", "),"]"):o};function I(e){var t=e.version,n=void 0===t?1:t,a=e.modelName,r=e.parameterName;return"/docs/".concat(n,"/models/").concat(a,"/").concat(r)}var C=function(e){var t=e.properties,n=e.model,a=e.version,r=e.specification;return u.a.createElement(h.w,{color:"green",style:{marginTop:"40px"}},u.a.createElement("h2",null,"Properties"),u.a.createElement(h.z,{celled:!0},u.a.createElement(h.z.Header,null,u.a.createElement(h.z.Row,null,u.a.createElement(h.z.HeaderCell,null,"Key"),u.a.createElement(h.z.HeaderCell,null,"Description"),u.a.createElement(h.z.HeaderCell,null,"Type"),u.a.createElement(h.z.HeaderCell,null,"Example"))),u.a.createElement(h.z.Body,null,t.map(function(e){var t=g(e),i=y(e),o=O(e),c=function(e){var t=e.property,n=e.propertyIsArray,a=e.propertyIsModel,r=e.specification,i=t&&t["x-summary"];if(a||n){var o;a&&(o=t.$ref.replace("#/components/schemas/","")),n&&(o=t.items&&t.items.$ref&&t.items.$ref.replace("#/components/schemas/",""));var c=o&&p({modelId:o,specification:r});c&&c["x-summary"]&&(i=c["x-summary"])}return t&&i}({property:e,propertyIsAnyOf:o,propertyIsArray:t,propertyIsModel:i,specification:r});return u.a.createElement(h.z.Row,{key:e.key},u.a.createElement(h.z.Cell,null,t||i||o?e.key:u.a.createElement(v.a,{to:I({modelName:n.key,parameterName:e.key,version:a})},e.key)),u.a.createElement(h.z.Cell,null,c),u.a.createElement(h.z.Cell,null,u.a.createElement(S,{property:e,version:a})),u.a.createElement(h.z.Cell,null,e.example))}))))},N=function(e){var t=e.model,n=e.version,r=e.specification,i=Object.keys(t.properties).map(function(e){return Object(a.a)({key:e},t.properties[e])});return u.a.createElement(h.w,{basic:!0,id:t.key},t.description&&u.a.createElement(f.a,{markdown:t.description}),u.a.createElement(C,{model:t,properties:i,specification:r,version:n}))};N.defaultProps={};var k=N,w=function(e){var t=e.model,n=e.property,a=e.version,r="".concat(t.key,".").concat(n.key);return u.a.createElement(h.w,{basic:!0,id:r},n.description&&u.a.createElement(f.a,{markdown:n.description}),u.a.createElement(h.w,{color:"blue",style:{marginTop:"40px"}},u.a.createElement(h.z,{celled:!0},u.a.createElement(h.z.Header,null,u.a.createElement(h.z.Row,null,u.a.createElement(h.z.HeaderCell,null,"Key"),u.a.createElement(h.z.HeaderCell,null,"Value"))),u.a.createElement(h.z.Body,null,Object.keys(n).filter(function(e){return"description"!==e}).map(function(e){return u.a.createElement(h.z.Row,null,u.a.createElement(h.z.Cell,null,e),u.a.createElement(h.z.Cell,null,JSON.stringify(n[e])))})))),u.a.createElement(v.a,{className:"item",to:Object(b.a)({modelName:t.key,version:a})},"Model: ",t.key))};w.defaultProps={};var x=w,A=m.a.getOpenApiSpec(),R=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.modelId,n=e.parameterId,r=e.schemaVersion;if(!r)return u.a.createElement("div",null,"Unknown version: ",r);var i=p({modelId:t,specification:A});if(n){var o=i.properties[n];if(i&&o)return u.a.createElement("div",null,u.a.createElement(x,{model:i,property:Object(a.a)({},o,{key:n}),version:r}))}return u.a.createElement(k,{model:i,specification:A,version:r})}}]),t}(s.Component);t.a=R},662:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(1),m=n(16),p=n(13),h=n(354),f=n(902),v=n(956),b=n.n(v),g=n(22),y=n(25),O=n(15),E=n(441),j=Object(g.a)("modules:user:LoginForm"),T=Object(y.createModuleTranslate)("user"),S={login:E.a},I=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).handleLogin=n.handleLogin.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleLogin",value:function(e){return this.props.login(e).catch(function(e){throw new h.a({_error:e.error_description})})}},{key:"render",value:function(){j.render();var e=this.props,t=e.error,n=e.handleSubmit,a=e.pristine,r=e.submitting;return u.a.createElement(d.h,{error:!!t,onSubmit:n(this.handleLogin)},u.a.createElement(d.w,{size:"large",stacked:!0},u.a.createElement(O.Field,{autoComplete:"off",component:O.Input,displayLabel:!1,icon:"user",module:"user",name:"username",placeholder:"Username",type:"text"}),u.a.createElement(O.Field,{autoComplete:"off",component:O.Input,displayLabel:!1,icon:"lock",module:"user",name:"password",placeholder:"Password",type:"password"}),u.a.createElement(d.b,{color:"green",disabled:a||r,fluid:!0,name:"btn-login",size:"large",type:"submit"},u.a.createElement(T,{textKey:"LoginForm.login"})),t&&u.a.createElement(d.r,{error:!0},t)))}}]),t}(s.Component);I.defaultProps={error:""};var C=Object(f.a)({form:"simple",validate:b()({schema:{additionalProperties:!1,properties:{password:{type:"string"},username:{type:"string"}},required:["username","password"],type:"object"}})})(I),N=Object(p.c)(Object(m.b)(null,S))(C);n.d(t,"LoginForm",function(){return N})},663:function(e,t,n){"use strict";var a=n(19),r=n(17),i=n(4),o=n(6),c=n(8),l=n(5),s=n(7),u=n(10),d=n(0),m=n.n(d),p=n(13),h=n(16),f=n(85),v=n.n(f),b=n(107),g=n(63),y=n(250);var O=v.a.getOpenApiSpec().components.schemas,E=["current"],j=Object.keys(O).map(function(e){return Object(u.a)({},O[e],{key:e})}).filter(function(e){return!e["x-internal"]&&"model"===e["x-modelType"]}),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.match.params.schemaVersion,t=this.props.markdownKeys.map(function(t){return{exact:!0,name:t,path:"/docs/".concat(e,"/").concat(t),translate:!1}}),n=E.map(function(e){return{exact:!1,name:e,path:"/docs/".concat(e),translate:!1}}),i=j.map(function(t){return{category:t["x-category"],exact:!1,name:t.key,path:Object(y.a)({modelName:t.key,version:e}),translate:!1}}).reduce(function(e,t){var n=t.category,i=e[n]||[];return i=[].concat(Object(r.a)(i),[t]),Object(u.a)({},e,Object(a.a)({},n,i))},{}),o={items:t,name:"overview"},c={items:n,name:"versions"},l=Object.keys(i).map(function(e){return{items:i[e],name:e,translate:!1}}),s=[o,c].concat(Object(r.a)(l));return m.a.createElement(g.NavigationSidebar,{displayHome:!0,displayLogout:!1,navigationItems:s,nested:!0,width:180})}}]),t}(d.Component);t.a=Object(p.c)(Object(h.b)(function(e){return{markdownKeys:b.a.getMarkdownKeysByPath(e,"docs.overview")}}))(T)},72:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"DataModel",function(){return S.a}),n.d(a,"GeneralDocs",function(){return I.a}),n.d(a,"Nav",function(){return C.a}),n.d(a,"VersionOverview",function(){return N.a});var r={};n.r(r),n.d(r,"components",function(){return a}),n.d(r,"name",function(){return k});var i={};n.r(i),n.d(i,"components",function(){return H}),n.d(i,"constants",function(){return z}),n.d(i,"globalSelectors",function(){return q.a}),n.d(i,"globalSelectorFactories",function(){return G}),n.d(i,"name",function(){return Q});var o=n(136),c=function(e){return!0===e?"true":!1===e?"false":void 0},l=function(e){return"true"===e||"false"!==e&&void 0},s=function(e){var t=e.context,n=e.errorCode;return["modules",e.module,t,e.parameterKey,n].filter(function(e){return!!e}).join(".")};function u(e){var t=e.context,n=e.errorCode,a=e.module,r=e.parameterKey;if(n){var i=[];return a&&(i.push(s({context:t,errorCode:n,module:a,parameterKey:r})),i.push(s({context:t,module:a,parameterKey:r})),i.push(s({context:t,errorCode:n,module:a}))),i.push(s({errorCode:n,module:"error",parameterKey:r})),i.push(s({module:"error",parameterKey:r})),i.push(s({errorCode:n,module:"error"})),i}}function d(e){var t=e.context,n=e.labelKey,a=e.module,r=e.parameterKey,i=n,o=r.split(".")[0],c=["modules",a,t,r].join("."),l="/docs/0.1.0/models/".concat(o);return{descriptionHeaderKey:i,descriptionKey:c,linkTextKey:"".concat(r),linkTo:l}}var m=n(10),p=n(0),h=n.n(p),f=n(16),v=n(70),b=n(648),g=n(17),y=n(511),O=n(510),E=n(488),j=n(506),T=n(247),S=n(661),I=n(656),C=n(663),N=n(657),k="documentation",w=n(504),x=n(972),A=n(959),R=n(503),F=n(507),P=n(513),L=n(491),M=n(492),_=n(502),D=n(961),B=n(493),V=[y,O,j,n(963),E,P,T,w,x,A,R,L,M,_,B,n(500),n(501),F,D,r],U=n(964),K=n(970),H=n(300),z=n(81),G=n(468),q=n(277),Q=z.MODULE_NAME,W=[U,K,i,n(968),n(969),n(971)],Y=n(498),X=n(478),J=n.n(X);function Z(){return{api:{enableEndpointMocks:!0},i18n:{},logger:{collapsed:!0,diff:!0},routing:J()(),size:{breakpoints:[{maxWidth:768,size:"small"},{maxWidth:1200,size:"medium"},{size:"large"}],currentBreakpoint:{size:"large"}}}}var $=n(430),ee=Z();function te(e){var t=e.component,n=e.config,a=e.fullExport,r=void 0!==a&&a,i=e.initialState,o=e.wrap,c=void 0===o||o,l=n||ee,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bootstrap,n=void 0!==t&&t,a=e.config,r=void 0===a?Z():a,i=e.initialState,o=e.modules,c=void 0===o?[].concat(Object(g.a)(V),Object(g.a)(W)):o,l=e.viewOrder,s=void 0===l?[]:l;return Object(Y.a)({bootstrap:n,config:r,initialState:i,modules:c,viewOrder:s})}({config:l,initialState:i}),u=c?Object(b.mount)(h.a.createElement(f.a,{store:s},h.a.createElement(v.a,{history:l.routing},h.a.createElement($.a,null,t)))):Object(b.mount)(t);return r?{config:l,rootComponent:u,store:s}:u}var ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)({onBlur:jest.fn(),onChange:jest.fn(),onFocus:jest.fn()},e)};function ae(e){var t,n,a=e.elementToSelect,r=void 0===a?"input":a,i=e.getValue,o=void 0===i?function(e){return e.value}:i,c=e.initialValue,l=void 0===c?"initialValue":c,s=e.InputComponent,u=e.updateValue,d=void 0===u?"updateValue":u;beforeEach(function(){t=ne()}),it("renders without crashing when given required props",function(){te({component:h.a.createElement(s,{input:t}),wrap:!1})}),it("sets initial value if provided",function(){t=ne({value:l});var e=(n=te({component:h.a.createElement(s,{input:t}),wrap:!1})).find(r).props();expect(e).toBeTruthy(),expect(o(e)).toBe(l)}),it("onChange is called with new value when value is changed",function(){t=ne({value:l});var e=d,a={target:{value:e}};(n=te({component:h.a.createElement(s,{input:t}),wrap:!1})).find(r).simulate("change",a),expect(t.onChange.mock.calls.length).toEqual(1),expect(t.onChange.mock.calls[0]).toMatchObject([a,{value:e}])}),it("value is updated if new value is provided through props",function(){t=ne({value:l});var e=(n=te({component:h.a.createElement(s,{input:t}),wrap:!1})).find(r).props();expect(e).toBeTruthy(),expect(o(e)).toBe(l),n.setProps({input:Object(m.a)({},t,{value:d})});var a=n.find(r).props();expect(a).toBeTruthy(),expect(o(a)).toBe(d)}),it("onFocus is called when input is focused",function(){t=ne({});var e={};(n=te({component:h.a.createElement(s,{input:t}),wrap:!1})).find(r).simulate("focus",e),expect(t.onFocus.mock.calls.length).toEqual(1),expect(t.onFocus.mock.calls[0]).toMatchObject([e])}),it("onBlur is called when input is blurred",function(){t=ne({});var e={};(n=te({component:h.a.createElement(s,{input:t}),wrap:!1})).find(r).simulate("blur",e),expect(t.onBlur.mock.calls.length).toEqual(1),expect(t.onBlur.mock.calls[0]).toMatchObject([e])})}function re(e){var t=e.context,n=e.module,a=e.parameterKey;if(n&&a)return["modules",n,t,a].join(".")}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.model,n=e.name;if(n){var a=n.split(".").reverse().filter(function(e){return!!Number.isNaN(parseFloat(e))}).reduce(function(e,t){var n=e.model,a=e.parameter;return n?{model:n,parameter:a}:"id"===t?{model:n,parameter:a}:a?{model:t,parameter:a}:{model:n,parameter:t}},{model:void 0,parameter:void 0}),r=a.model,i=a.parameter;if(i)return[t,r,i].filter(function(e){return!!e}).join(".")}}var oe=n(19),ce=n(38),le=n.n(ce),se=function(e){var t=e.propName,n=e.name,a=e.callback;return function(e){var r=e.prevState,i=e.childName,o=e.value;return o===r[t]?le.a.set(r,"childStatuses.".concat(i,".").concat(t),o):o?(a&&a(n,!0),le.a.set(Object(m.a)({},r,Object(oe.a)({},t,!0)),"childStatuses.".concat(i,".").concat(t),o)):Object.keys(r.childStatuses).reduce(function(e,n){return e||n===i?e:r.childStatuses[n][t]},!1)?le.a.set(r,"childStatuses.".concat(i,".").concat(t),o):(a&&a(n,!1),le.a.set(Object(m.a)({},r,Object(oe.a)({},t,!1)),"childStatuses.".concat(i,".").concat(t),o))}},ue=n(20),de=n.n(ue),me=n(354);function pe(e){var t={_error:"Status: ".concat(e.status,", message: ").concat(e.error?e.error.message:e.message),requestError:e};throw e.parameterErrors&&e.parameterErrors.forEach(function(e){e.fullPath&&e.errorCode&&de.a.set(t,e.fullPath,e)}),new me.a(t)}n.d(t,"createErrorKeys",function(){return u}),n.d(t,"createHelpNotificationProps",function(){return d}),n.d(t,"createInputTest",function(){return ae}),n.d(t,"createLabelKey",function(){return re}),n.d(t,"createParameterKey",function(){return ie}),n.d(t,"createUpdateFormPartStatus",function(){return se}),n.d(t,"errorTransformations",function(){return o}),n.d(t,"formatBooleanRadio",function(){return c}),n.d(t,"handleReduxFormSubmitError",function(){return pe}),n.d(t,"parseBooleanRadio",function(){return l})},73:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var a=n(158),r=n(52),i=Object(a.a)({actionPrefix:"CRUD",keys:[":resource.allItems.fetched",":resource.allItems.fetching",":resource.count.value",":resource.count.fetched",":resource.count.fetching","nestedCache","nestedCache.:namespace.items","nestedCache.:namespace.items.:id"],name:r.MODULE_NAME,reducerKey:r.KEY_OBJECT_NAMSPACE}),o=i.actionCreators,c=(i.actionTypes,i.constants,i.globalSelectors),l=i.reducer},76:function(e,t,n){"use strict";n.r(t),n.d(t,"ANY",function(){return a}),n.d(t,"MODULE_NAME",function(){return r});var a="any",r="search"},77:function(e,t,n){"use strict";n.r(t),n.d(t,"COLLISION_REPLACE",function(){return a}),n.d(t,"COLLISION_STACK",function(){return r}),n.d(t,"FIXED",function(){return i}),n.d(t,"MODULE_NAME",function(){return o}),n.d(t,"NOTIFICATIONS",function(){return c}),n.d(t,"NOTIFICATION_SPECIFICATIONS",function(){return l}),n.d(t,"INLINE",function(){return s}),n.d(t,"STATIC",function(){return u});var a="replace",r="stack",i="fixed",o="notifications",c="notifications",l="specifications",s="inline",u="static"},774:function(e){e.exports={Date:{after:{en:"after",sv:"efter"},and:{en:"and",sv:"och"},between:{en:"between",sv:"mellan"},before:{en:"before",sv:"f\xf6re"}},Navbar:{logout:{en:"logout",sv:"logga ut"}},routes:{pageSubtitle:{en:"NRM mammals",sv:"NRM d\xe4ggdjur"},start:{en:"start",sv:"start"},about:{en:"about",sv:"om"},specimens:{en:"specimens",sv:""},editMammal:{en:"Edit mammal",sv:"Redigera d\xe4ggdjur"},lookupMammals:{en:"Lookup mammals",sv:"S\xf6k d\xe4ggdjur"},registerMammal:{en:"Register mammal",sv:"Registrera d\xe4ggdjur"},settings:{en:"settings",sv:"inst\xe4llningar"},dynamic:{en:"dynamic",sv:"dynamisk"},mammals:{en:"mammals",sv:"d\xe4ggdjur"},overview:{en:"overview",sv:"\xf6versikt"},versions:{en:"versions",sv:"versioner"},models:{en:"models",sv:"modeller"},agents:{en:"agents",sv:"agenter"},localities:{en:"geography",sv:"platser"},storage:{en:"storage",sv:"f\xf6rvaring"},taxon:{en:"taxa",sv:""},scientificNames:{en:"scientific names",sv:""}}}},775:function(e){e.exports={schemaErrors:{ADDITIONAL_PROPERTIES:{en:"Form contains unknown properties: {{fullPath}}: {{additionalProperty}}",sv:"Formul\xe4ret inneh\xe5ller ok\xe4nda f\xe4lt: {{fullPath}}: {{additionalProperty}}"},REQUIRED:{en:"Required: {{fullPath}}",sv:"Obligatorisk: {{fullPath}}"}},pattern:{en:"Does not match required pattern",sv:"Matchar inte det beg\xe4rda m\xf6nstret"},MIN_LENGTH:{en:"Must be at least {{limit}} characters",sv:"M\xe5ste vara minst {{limit}} tecken"},MAX_LENGTH:{en:"May be at most {{limit}} characters",sv:"F\xe5r max vara {{limit}} tecken"},REQUIRED:{en:"Required",sv:"Obligatorisk"},DEEP_REQUIRED:{en:"Required",sv:"Obligatorisk"},DATE_ORPHAN_DAY:{en:"A day must have month and year",sv:""},DATE_ORPHAN_MONTH:{en:"A month must have year",sv:""},DATE_CANNOT_BE_INTERPRETED:{en:"Invalid date",sv:""},DATE_PAST:{en:"Only past dates allowed"},DATE_PAST_CURRENT_YEAR:{en:"Only past dates allowed, a more exact range has to be specified for the current year"},DATE_FUTURE:{en:"Only future dates allowed"},DATE_TEXT_NOT_PARSABLE:{en:"Invalid date"},DATE_RANGE_BOTH_START_AND_END_REQUIRED:{en:"Both start and end required"},DATE_RANGE_START_DATE_NOT_AFTER_END_DATE:{en:"End date before start date"},DATE_RANGE_NOT_PARSABLE:{en:"Invalid date"},DATE_RANGE_START_NOT_YYYY_MM_DD:{en:"Start date is not YYYY-MM-DD"},DATE_RANGE_END_NOT_YYYY_MM_DD:{en:"End date is not YYYY-MM-DD"},DIGITS_AND_DECIMAL_POINT:{en:"Only digits and decimal point are allowed"},INVALID_CATALOG_NUMBER:{en:"Catalog number must be 6 or 8 digits"},INVALID_LATITUDE:{en:"Latitude must be number between 0 and 90"},INVALID_LONGITUDE:{en:"Longitude must be number between 0 and 180"}}},776:function(e){e.exports={ShortcutsDisplay:{header:{en:"Active keyboard shortcuts",sv:"Aktiva shortcuts"},table:{header:{code:{en:"Command",sv:"Kommando"},description:{en:"Description",sv:"Beskrivning"}}}}}},80:function(e,t,n){"use strict";n.r(t),n.d(t,"MAMMAL_FORM_NAME",function(){return a}),n.d(t,"MODULE_NAME",function(){return r}),n.d(t,"SPECIMEN_FILTERS_FORM_NAME",function(){return i}),n.d(t,"SPECIMENS_MAMMALS_TABLE_COLUMNS",function(){return o}),n.d(t,"SPECIMENS_MAMMALS_TABLE_COLUMNS_SORTING",function(){return c});var a="mammalForm",r="collectionMammals",i="specimenFilters",o="specimensMammalsTableColumns",c="specimensMammalsTableColumnsSorting"},81:function(e,t,n){"use strict";n.r(t),n.d(t,"MODULE_NAME",function(){return a}),n.d(t,"OTHER_PREPARATION",function(){return r}),n.d(t,"SKELETON",function(){return i}),n.d(t,"SKIN",function(){return o}),n.d(t,"WET_PREPARATION",function(){return c}),n.d(t,"UNSPECIFIED_OTHER_PREPARATION_PREPARATION_TYPE_ID",function(){return l}),n.d(t,"UNSPECIFIED_SKELETON_PREPARATION_TYPE_ID",function(){return s}),n.d(t,"UNSPECIFIED_SKIN_PREPARATION_TYPE_ID",function(){return u}),n.d(t,"UNSPECIFIED_WET_PREPARATION_PREPARATION_TYPE_ID",function(){return d});var a="curatedList",r="other-preparation",i="skeleton",o="skin",c="wet-preparation",l="23",s="11",u="18",d="22"},88:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(7),l=n(0),s=n.n(l),u=n(1),d=n(50),m={description:void 0,descriptionKey:void 0,descriptionParams:void 0,header:void 0,headerKey:void 0,headerParams:void 0,level:"info",ttl:void 0},p=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.removeNotification,n=e.sequentialId,a=e.ttl;a&&(this.ttlTimeout=setTimeout(function(){return t({sequentialId:n})},a))}},{key:"componentWillUnmount",value:function(){this.ttlTimeout&&clearInterval(this.ttlTimeout)}},{key:"render",value:function(){var e=this.props,t=e.description,n=e.descriptionKey,a=e.descriptionParams,r=e.header,i=e.headerKey,o=e.headerParams,c=e.i18n.translate,l=e.level,d=e.removeNotification,m=e.sequentialId;return s.a.createElement(u.r,{className:"flash",content:t||n&&c({params:a,textKey:n}),error:"error"===l,header:r||i&&c({params:o,textKey:i}),info:"info"===l,onClick:function(){return d({sequentialId:m})},onDismiss:function(){return d({sequentialId:m})},success:"success"===l,warning:"warning"===l})}}]),t}(l.Component);p.defaultProps=m;var h=Object(d.withI18n)()(p),f=n(16),v=n(214),b=n(97),g={createNotification:n(246).a},y=Object(f.b)(function(e){return{applicationInModalLayer:v.a.getApplicationInModalLayer(e),isLarge:b.a.getIsLarge(e)}},g)(function(e){var t=e.applicationInModalLayer,n=e.createNotification,a=e.helpNotificationProps,r=e.isLarge,i="inline";return!t&&r||(i="fixed"),s.a.createElement(u.k,{color:"blue",link:!0,name:"help circle outline",onClick:function(e){e.preventDefault(),e.stopPropagation(),n({componentProps:a,displayType:i,type:"HELP_TEXT"})}})}),O=n(9),E=n(13),j=n(63),T=n(30),S=n(90),I=n(58),C=n(36),N=n(25),k=function(e){var t=e.description,n=e.descriptionKey;e.linkTextKey,e.linkTo;return s.a.createElement(u.i,{padded:!0},s.a.createElement(u.i.Column,null,t&&t,n&&s.a.createElement("p",{style:{whiteSpace:"pre-line"}},s.a.createElement(N.Translate,{capitalize:!0,textKey:n})),!1))};k.defaultProps={description:void 0,descriptionKey:void 0,linkTextKey:void 0,linkTo:void 0};var w=k,x={descriptionHeaderKey:void 0},A=[{height:"50px",key:"header"},{key:"body"}],R=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).renderRow=n.renderRow.bind(Object(O.a)(n)),n.handleClose=n.handleClose.bind(Object(O.a)(n)),n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleClose",value:function(e){e.preventDefault();var t=this.props;(0,t.removeNotification)({sequentialId:t.sequentialId})}},{key:"renderRow",value:function(e){switch(e){case"header":return s.a.createElement(I.ColumnRowHeader,{onClose:this.handleClose,textKey:this.props.descriptionHeaderKey});case"body":var t=Object(C.a)({keys:["description","descriptionKey","linkTextKey","linkTo"],props:this.props}).extractedProps;return s.a.createElement(w,t);default:throw new Error("Unknown row: ".concat(e))}}},{key:"render",value:function(){var e=this.props.windowHeight;return s.a.createElement(j.RowLayout,{availableHeight:e-Object(T.a)(3.4375),renderRow:this.renderRow,rows:A})}}]),t}(l.Component);R.defaultProps=x;var F=Object(E.c)(S.injectWindowHeight)(R),P=function(e){var t=e.description,n=e.descriptionHeaderKey,a=e.descriptionKey,r=e.headerKey,i=(e.linkTextKey,e.linkTo,e.open),o=e.removeNotification,c=e.sequentialId,l=e.size;return s.a.createElement(u.s,{onClose:function(){return o({sequentialId:c})},open:i,size:l},r&&s.a.createElement(u.s.Header,null,s.a.createElement(N.Translate,{capitalize:!0,textKey:r})),s.a.createElement(u.s.Content,null,s.a.createElement(u.s.Description,null,n&&s.a.createElement(u.j,null,s.a.createElement(N.Translate,{capitalize:!0,textKey:n})),t&&t,a&&s.a.createElement("p",{style:{whiteSpace:"pre-line"}},s.a.createElement(N.Translate,{capitalize:!0,textKey:a})),!1)))};P.defaultProps={description:void 0,descriptionHeaderKey:void 0,descriptionKey:void 0,headerKey:void 0,linkTextKey:void 0,linkTo:void 0,open:!0,size:void 0};var L=P,M=n(21),_=n(183),D=n(144),B={removeNotification:_.removeNotification},V={activeNotification:void 0},U=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeNotification,n=e.displayType;if(t){var a=t.component,r=t.componentProps,i=Object(M.a)(t,["component","componentProps"]);return s.a.createElement(a,Object.assign({},r,i,{displayType:n,removeNotification:this.props.removeNotification}))}return null}}]),t}(l.Component);U.defaultProps=V;var K=Object(E.c)(Object(f.b)(function(e,t){var n=t.displayType;return{activeNotification:D.a.getPrioritizedNotificationByDisplayType(e,n)}},B))(U);n.d(t,"Flash",function(){return h}),n.d(t,"FormFieldHelpIcon",function(){return y}),n.d(t,"Inline",function(){return F}),n.d(t,"Modal",function(){return L}),n.d(t,"NotificationDisplay",function(){return K})},884:function(e){e.exports={addRemarks:{en:"add remarks...",sv:"l\xe4gg till kommentar"},clickToAdd:{en:"click to add",sv:"klicka f\xf6r att l\xe4gga till"},issuesPreventSaving:{en:"There are issues that prevent saving",sv:""},notAllowedToEditRootNode:{en:"It's not possible to save changes to a tree root node",sv:""},plainText:{en:"name",sv:"fritext"},save:{en:"Save",sv:"Spara"},saved:{en:"Saved",sv:"Sparat"},submitFailed:{en:"Could not save",sv:"Kunde inte spara"}}},886:function(e){e.exports={relations:{en:"relations",sv:""},relationshipKey:{acceptedToTaxon:{en:"taxa",sv:""},children:{en:"children",sv:""},normalizedAgents:{en:"agents",sv:""},places:{en:"localities",sv:""},specimens:{en:"specimens",sv:""},storageLocations:{en:"storage locations",sv:""},synonymToTaxon:{en:"taxa",sv:""},taxa:{en:"taxa",sv:""},taxonNames:{en:"taxon names",sv:""}},resourcePlural:{normalizedAgent:{en:"agents",sv:""},place:{en:"localities",sv:""},specimen:{en:"specimens",sv:""},storageLocation:{en:"storage locations",sv:""},taxon:{en:"taxa",sv:""},taxonName:{en:"taxon names",sv:""}}}},887:function(e){e.exports={typeQueryAndPressEnter:{en:"Type query and press Enter",sv:"Skriv s\xf6kterm och tryck Enter"},noResultFound:{content:{en:"You can try to adjust the search filter or show all records",sv:""},header:{en:"No results found",sv:""}}}},890:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(965),m=n.n(d),p=n(1),h=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={isExpanded:e.defaultExpanded},n.handleOnClick=n.handleOnClick.bind(Object(c.a)(n)),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"handleOnClick",value:function(){this.setState({isExpanded:!0})}},{key:"render",value:function(){var e=this,t=this.props.input.value,n="Display",a=!1;return t&&Object.keys(t).length||(n="No legacy data",a=!0),this.state.isExpanded?u.a.createElement("div",{style:{minHeight:600}},u.a.createElement(m.a,{data:t,isExpanded:function(){return!0}})):u.a.createElement(p.b,{disabled:a,icon:!0,labelPosition:"left",onClick:function(t){t.preventDefault(),e.handleOnClick()}},n,u.a.createElement(p.k,{name:"plus"}))}}]),t}(s.Component);h.defaultProps={defaultExpanded:!1},t.a=h},894:function(e){e.exports={fieldLabels:{fullName:{en:"Full name"},disambiguatingDescription:{en:"Disambiguating description"},givenName:{en:"Given/first name"},familyName:{en:"Family/last name"},additionalName:{en:"Additional name"},abbreviation:{en:"Abbreviation"},alsoKnownAs:{en:"Also known as"},remarks:{en:"Remarks"},telephone:{en:"phone"},email:{en:"Email"},postalAddress:{en:"Postal address"},readOnly:{en:"Read only"},title:{en:"title",sv:""},user:{en:"User"},agentType:{en:"agent type"},city:{en:"city"},country:{en:"country"},postalCode:{en:"postal code"},postOfficeBoxNumber:{en:"P.O. box"},streetAddress:{en:"street address"},stateProvince:{en:"state or province"},birthDate:{en:"birth date"},deathDate:{en:"death date"},affiliation:{name:{en:"affiliation",sv:""}},roles:{name:{en:"Affiliation/position",sv:""}},lifespan:{startDate:{en:"birth date",sv:""},endDate:{en:"death date",sv:""}},dateRange:{startDate:{en:"start date",sv:""},endDate:{en:"end date",sv:""}},legacyData:{en:"Legacy data",sv:""}},headers:{agent:{en:"agent",sv:""},birthAndDeath:{en:"birth and death",sv:""},contactDetails:{en:"contact information",sv:""},nameDetails:{en:"name details",sv:""},recordHistory:{en:"Record history",sv:""},roles:{en:"roles",sv:""},affiliations:{en:"affiliations",sv:""},legacyData:{en:"Legacy data",sv:""}},tableColumns:{givenName:{en:"Given name",sv:""},familyName:{en:"Family name",sv:""}},buttons:{birthAndDeath:{en:"add birth and death",sv:""},contactDetails:{en:"add contact information",sv:""},nameDetails:{en:"add name details",sv:""}},remarks:{emptyState:{agent:{en:"add agent remarks...",sv:""}},resultPrefix:{agent:{en:"agent remarks",sv:""}}},helpTexts:{agentType:{en:"The kind of agent.",sv:""},fullName:{en:'Full name of the agent, normally in the format "family name, given name" for persons. \n\n The full name has to be unique in combination with disambiguating description, if the full name is the same as for another agent, you must add a disambiguating description.',sv:""},disambiguatingDescription:{en:"A phrase that distinguishes the agent from another agent with the same or similar name. \n\n You should add a description if there is a risk that two or more agents are confused.",sv:""},givenName:{en:"The given/first name of the agent.",sv:""},familyName:{en:"The family/last name of the agent.",sv:""},additionalName:{en:"Name(s) the agent may have in addition to the given and family names.",sv:""},alsoKnownAs:{en:"Other name(s) or name variants used for the agent, like for example if the family name has changed or if there are different spellings of the name.",sv:""},title:{en:'Title for the agent that is not tied to a specific affiliation. Usually an official position or a professional or academic qualification, like for example "dr", "mr", "mrs".',sv:""},abbreviation:{en:"Abbreviation of the agent according to the standard of the collection.",sv:""},roles:{name:{en:"Role or position for the agent in relation to an affiliation.",sv:""}},affiliation:{name:{en:"Name or description of the affiliation. Normally some kind of organization.",sv:""}},dateRange:{startDate:{en:"The start date of the affiliation. \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""},endDate:{en:"The end date of this affiliation. \n\n Allowed dates are: \n - year \n  - year/month \n - year/month/day",sv:""}},telephone:{en:"The agents phone number.",sv:""},email:{en:"The agents email address.",sv:""},streetAddress:{en:"The street address in the address.",sv:""},postOfficeBoxNumber:{en:"The postal box in the address",sv:""},city:{en:"The city of the address.",sv:""},stateProvince:{en:"The state or province of the address.",sv:""},postalCode:{en:"The postal code of the  address.",sv:""},country:{en:"The country of the address.",sv:""},lifespan:{startDate:{en:"The agents birth date. \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""},endDate:{en:"The agents death date. \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""}},legacyData:{en:"Data that was not mapped to the current data model when data was migrated from another system.",sv:""}},other:{addAgentRole:{en:"Add affiliation",sv:""},createdBy:{en:"Created by",sv:""},lastModifiedBy:{en:"Last modified by",sv:""},removeThisAgentRole:{en:"Delete this affiliation?"}},agent:{en:"agent",sv:"agent"},cancel:{en:"cancel",sv:""},name:{en:"Role name",sv:"Rollnamn"},newAgent:{en:"new agent",sv:""},fromDate:{en:"From date",sv:"Fr\xe5n datum"},endDate:{en:"End date",sv:""},startDate:{en:"Start date",sv:""},toDate:{en:"To date",sv:"Till datum"},affiliation:{en:"Affiliation",sv:""},save:{en:"Save",sv:"Spara"},back:{en:"Back",sv:"Tillbaka"},reset:{en:"Reset",sv:"\xc5terst\xe4ll"},remove:{en:"Delete affiliation",sv:"Ta bort"},delete:{en:"delete",sv:""},roles:{en:"Roles",sv:"Roller"},duplicate:{en:"Agent with specified name and disambiguating description already exists",sv:""}}},895:function(e){e.exports={helpTexts:{individual:{taxonInformation:{typeStatus:{}},typeStatus:{en:"<p>This is a type status</p>\n",sv:"<p>Detta \xe4r en typstatus</p>\n"}}},occurrences:{locationInformation:{helpTexts:{localityVerbatim:{en:"<p>Verbatim locality names and description, as in the original source, typos and all.</p>\n",sv:"<p>Verbatim namn och beskrivning av lokalitet, s\xe5 som i originalk\xe4llan, med stavfel och allt.</p>\n"}}}},other:{addCatalogNumberModal:{en:"<p>Enter a catalog number here only if the specimen already has one.</p>\n<p>If the record does not have a previous number, leave the catalog number empty and a number will automatically be added when you are saving the whole record.</p>\n",sv:"<p>L\xe4gg till ett katalognummer h\xe4r endast om exemplaret redan har ett.</p>\n<p>Om exemplaret inte har ett tidigare nummer, l\xe4mna katalognumret tomt s\xe5 kommer ett nummer att l\xe4ggas till automatiskt n\xe4r du sparar formul\xe4ret.</p>\n"}}}},896:function(e){e.exports={enums:{featureObservations:{age:{en:"Age",sv:"\xc5lder"},ageDeterminationMethod:{en:"Age determination method",sv:"\xc5ldersbest\xe4mningsmetod"},"age-development-stage":{en:"Age and development",sv:""},"age-in-years":{en:"age in years",sv:""},stage:{en:"stage",sv:""},"age-stage":{en:"life stage",sv:"\xc5ldersstadium"},ageStage:{en:"Age stage",sv:"\xc5ldersstadium"},"bone-count":{en:"Bone counts",sv:"Benantal"},"carcass-condition":{en:"Carcass condition",sv:"Tillst\xe5nd"},conditionAtCollecting:{en:"Condition at collecting",sv:"Tillst\xe5nd vid insamling"},length:{en:"Lengths",sv:"L\xe4ngder"},sex:{en:"Sex",sv:"K\xf6n"},"stage-and-age":{en:"Stage and age",sv:"Stadium och \xe5lder"},weight:{en:"Weights",sv:"Vikter"}},identifiers:{"catalog-no":{en:"catalog no.",sv:""},"old-skeleton-no":{en:"old skeleton no.",sv:""},"old-skin-no":{en:"old skin no.",sv:""},"other-institution-no":{en:"other institution no.",sv:""},"sva-no":{en:"SVA no.",sv:""},"loan-no":{en:"loan no.",sv:""}},length:{"body-length":{en:"Body length",sv:""},"ear-length":{en:"Ear length",sv:""},"forearm-length":{en:"Forearm length",sv:""},"hind-foot-length":{en:"Hind-foot length",sv:""},"tail-to-anus-length":{en:"Tail-anus length",sv:""},"tail-to-pelvis-length":{en:"Tail-pelvis length",sv:""},"total-length":{en:"Total length",sv:""}},locality:{"collecting-interpreted":{en:"collecting (interpreted)",sv:""},"collecting-stated":{en:"collecting (stated)",sv:""},origin:{en:"origin",sv:""}},remarks:{acquisitionRemarks:{en:"acquisition",sv:""},collectingDateRemarks:{en:"collecting date",sv:""},collectingInformationRemarks:{en:"collecting locality",sv:""},curatorialAssessmentRemarks:{en:"curatorial assessment",sv:""},deathRemarks:{en:"death",sv:""},determinationRemarks:{en:"determination",sv:""},originRemarks:{en:"origin",sv:""},physicalObjectsRemarks:{en:"physical objects",sv:""},aSinglePhysicalObjectRemarks:{en:"a single physical object",sv:""},specimenRemarks:{en:"specimen",sv:""},taxonomyRemarks:{en:"taxonomy",sv:""}},storageLocations:{cabinet:{en:"cabinet",sv:""},institution:{en:"institution",sv:""},mountingwall:{en:"mounting wall",sv:""},room:{en:"room",sv:""},shelf:{en:"shelf",sv:""}},weight:{"complete-body-weight":{en:"Complete body weight",sv:""},"skinned-weight":{en:"Skinned weight",sv:""},"gutted-weight":{en:"Gutted weight",sv:""},"slaughtered-weight":{en:"Slaughtered weight",sv:""},"unknown-weight-type":{en:"Other weight",sv:""}}},fieldLabels:{identifiers:{en:"Identifiers",sv:""},acquisition:{acquisitionTypeText:{en:"Acquisition type"},date:{en:"Acquisition date"},handedInByAgent:{en:"Interpreted name or agent",textV:{en:"Handed in by (stated)"}}},collectingInformation:{collectedByAgent:{en:"Interpreted name or agent",textV:{en:"Collected by (stated)"}},collectorsText:{en:"Collected by (stated)"},establishmentMeansType:{en:"Appearance at the collecting locality"},isDeathDate:{en:"Died when collected",sv:""}},collectionItems:{description:{en:"Description",sv:"Beskrivning"},preparationType:{en:"Preparation type"},remarks:{en:"Preparation remarks"}},curatorialAssessment:{agent:{en:"Assessed by (agent)"},assessedByAgentT:{en:"Assessed by (interpreted)"},agentText:{en:"Agent text"},condition:{en:"condition"},conditionRemarks:{en:"condition remarks"},date:{en:"date"},isInStorage:{en:"is in storage"},isNotInStorage:{en:"not in storage"},inventoryStatusRemarks:{en:"remarks"},remarks:{en:"Assessment remarks"}},deathInformation:{causeOfDeathType:{en:"Cause of death"},remarks:{en:"Remarks"},deathDetails:{en:"Death details"},diedAtColleting:{en:"Died at collecting",sv:""}},determinations:{date:{en:"Determination date"},determinedByAgent:{en:"Interpreted name or agent",textV:{en:"Determined by (stated)"}},taxonNameI:{en:"Interpreted taxon name"},taxonNameV:{en:"Determined as (stated)"},remarks:{en:"Determination remarks"}},event:{expeditionText:{en:"Expedition"},dateRange:{en:"date",sv:""},remarks:{en:"Remarks"},readOnly:{en:"Read only"}},features:{age:{en:"age in years",sv:""},"age-stage":{en:"stage",sv:""},sex:{en:"sex",sv:""},"carcass-condition":{en:"condition",sv:""},"cranium-count":{en:"cranium count",sv:""},"mandibula-count":{en:"mandibula count",sv:""},"vertebrae-count":{en:"vertebrae count",sv:""},"costae-count":{en:"costae count",sv:""},"scapula-count":{en:"scapula count",sv:""},"humerus-count":{en:"humerus count",sv:""},"ulna-count":{en:"ulna count",sv:""},"radius-count":{en:"radius count",sv:""},"manus-count":{en:"manus count",sv:""},"pelvis-count":{en:"pelvis count",sv:""},"femur-count":{en:"femur count",sv:""},"tibia-count":{en:"tibia count",sv:""},"pedis-count":{en:"pedis count",sv:""},"bacculum-count":{en:"bacculum count",sv:""},"complete-body-weight":{en:"Complete body",sv:""},"skinned-weight":{en:"skinned",sv:""},"gutted-weight":{en:"gutted",sv:""},"slaughtered-weight":{en:"slaughtered",sv:""},"unknown-weight-type":{en:"other",sv:""},"total-length":{en:"total length",sv:""},"body-length":{en:"body length",sv:""},"tail-to-anus-length":{en:"tail-anus length",sv:""},"tail-to-pelvis-length":{en:"tail-pelvis length",sv:""},"ear-length":{en:"ear length",sv:""},"hind-foot-length":{en:"hind-foot length",sv:""},"forearm-length":{en:"forearm length",sv:""}},individual:{causeOfDeathStandardized:{en:"Cause of death",sv:""},causeOfDeathText:{en:"Death remark",sv:""},originStandardized:{en:"Origin",sv:""},collectionItemText:{en:"Collection item Text"},remarks:{en:"Remarks"}},legacyData:{en:"Legacy data"},locationInformation:{coordinatesVerbatim:{en:"Coordinate (stated)",sv:""},localityV:{en:"Stated locality",sv:"Angiven (verbatim) lokalitet"},localityI:{en:"Interpreted locality",sv:""},swedishGrid5km:{en:"RT90 Index 5km",sv:""},localityRemarks:{en:"Locality remarks",sv:"Lokalitetsnoteringar"},remarks:{en:"Locality remarks"},readOnly:{en:"Read only"},georeferenceSourcesText:{en:"Georeference sources"},places:{en:"Higher geography",sv:""},position:{en:"Coordinate (interpreted, decimal degrees WGS84)",sv:""}},originInformation:{establishmentMeansType:{en:"Appearance at the origin locality",sv:""},isResultOfSelectiveBreeding:{en:"Result of selective breeding"},isAffectedByManagement:{en:"Affected by management"},originLocality:{en:"Origin locality",sv:""},remarks:{en:"Remarks",sv:""}},physicalObject:{storageLocation:{en:"Normal storage location",sv:""}},places:{choose:{en:"Choose...",sv:"V\xe4lj..."},higherGeography:{en:"Higher geography"},swedishMap:{en:"Swedish map"}},position:{uncertaintyInMeters:{en:"Uncertainty estimate (m)",sv:""},geodeticDatum:{en:"Geodetic datum",sv:"Geodetiskt datum"},latitude:{en:"Latitude",sv:"Latitud (N)"},longitude:{en:"Longitude",sv:"Longitud (E)"},referenceSystem:{en:"Reference system"}},recordHistoryEvents:{agent:{en:"card author",sv:""},date:{en:"card date",sv:""}},specimen:{publishRecord:{en:"Public",sv:"Publikt"},remarks:{en:"remarks"},readOnly:{en:"Read only"}},taxonInformation:{curatorialTaxon:{en:"Taxon name"},readOnly:{en:"Read only"},taxonRemarks:{en:"Taxon remarks"},typeStatus:{en:"Type status",sv:"Typstatus"},typifiedName:{en:"Typified name",sv:""},oldScientificName:{en:"Old scientific name"},oldLocalName:{en:"Old local name"}},verticalPosition:{elevation:{en:"Elevation",sv:""},depth:{en:"Depth",sv:""},maximumDepthInMeters:{en:"Depth max (m)",sv:"Max"},maximumElevationInMeters:{en:"Elevation max (m)",sv:"Max"},minimumDepthInMeters:{en:"Depth min (m)",sv:"Min"},minimumElevationInMeters:{en:"Elevation min (m)",sv:"Min"}}},headers:{acquisition:{en:"acquisition",sv:""},basicInformation:{en:"Specimen basics",sv:""},collectingDate:{en:"collecting date",sv:""},collectingAndDeathDetails:{en:"collecting and death",sv:""},collectorAndExpedition:{en:"Collector and expedition"},collectingInformation:{en:"collecting information"},death:{en:"Death",sv:""},collectingLocality:{en:"collecting locality"},curatorialAssessments:{en:"Curatorial assessments",sv:""},determinations:{en:"determinations"},editCuratorialAssessment:{en:"Edit curatorial assessment",sv:""},externalEvents:{en:"external events",sv:""},features:{en:"Features"},identifiers:{en:"identifiers",sv:""},legacyData:{en:"Legacy data"},localityOrigin:{en:"locality and origin"},localityPosition:{en:"Position of collecting locality",sv:""},newSpecimen:{en:"New specimen",sv:"Nytt exemplar"},origin:{en:"origin",sv:""},physicalObjects:{en:"physical objects",otherPreparation:{en:"other preparations",sv:""},skeleton:{en:"skeletons",sv:""},skin:{en:"skins",sv:""},wetPreparation:{en:"wet preparations",sv:""}},recordHistory:{en:"record history",sv:""},taxon:{en:"taxon"},taxonomy:{en:"taxonomy",sv:""},taxonPreferredName:{en:"taxon name (preferred)",sv:""},taxonOtherNames:{en:"additional names",sv:""},typeInformation:{en:"Type information",sv:""}},helpTexts:{specimen:{publishRecord:{en:"Public visibility setting that controls whether the specimen can be published externally or not. Not all data will be publicly visible even when set to public. The data manager of the collection controls which data is to be shared. \n\n Mark the specimen as public to allow it to be published externally. Uncheck public to keep it visible only to users logged in to this collection. ",sv:""}},identifiers:{en:'Identifiers are any "numbers" (which may be numeric or not) associated with the specimen. The catalog number is the primary identifier and is not possible to edit.\n\nSelect the identifier type from the dropdown and add the value(s) for the selected type.',sv:""},acquisition:{date:{en:"The date the specimen was acquired by the museum. This is often the arrival date.  \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""},handedInByAgent:{en:"Interpreted name (or names) of the person or organisation that handed the specimen in to the museum. Does not have to be the donor.  \n\n You have two options: \n\n  If you are not sure of who the name represents, enter the name according to the standard of your collection and select this text option in the dropdown. \n\n If you know which agent the name represents, select the agent from the dropdown or by using the picker. If the agent is missing you can add a new by opening Agents from the left side main menu in a new window.",sv:"",textV:{en:"The stated name (or names) of the person or organisation that handed the specimen in to the museum. Does not have to be the donor. \n\n  Write the text exactly as stated on the label or similar. \n\n It is recommended that you always add stated information, if available.",sv:""}}},recordHistoryEvents:{agent:{en:"Interpreted name of the person that created the catalog card. \n\n You have two options: \n\n  If you are not sure of who the name represents, enter the name according to the standard of your collection and select this text option in the dropdown. \n\n  If you know which agent the name represents, select the agent from the dropdown or by using the picker. If the agent is missing you can add a new by opening Agents from the left side main menu in a new window.",sv:""},date:{en:"The date when the catalog card was added. \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""}},legacyData:{en:"Data that was not mapped to the current data model when it was migrated from another system.",sv:""},taxonInformation:{curatorialTaxon:{en:"The taxon to which the specimen belongs.",sv:""},typeStatus:{en:"Tthe current type status of the specimen (if it is a type).",sv:""},typifiedName:{en:"The taxon name for which the specimen is a type.",sv:""}},determinations:{taxonNameV:{en:'Stated determination. May include vernacular names. \n\n Write the text exactly as stated on the label or similar, for example: "C. lupus". \n\n It is recommended that you always add stated information, if available.',sv:""},taxonNameI:{en:'Interpreted taxon name written according to the standard of the collection, for example "Canis lupus" or "wolf". May be a vernacular name.',sv:""},determinedByAgent:{en:"Interpreted name of the person that made the determination. \n\n You have two options:  \n\nIf you are not sure of who the name represents, enter the name according to the standard of your collection and select this text option in the dropdown. \n\n If you know which agent the name represents, select the agent from the dropdown or by using the picker. If the agent is missing you can add a new by opening Agents from the left side main menu in a new window.",sv:"",textV:{en:"Stated name (or names) of the person(s) that made the determination. \n\n Write the text exactly as stated on the label or similar. \n\n It is recommended that you always add stated information, if available.",sv:""}},date:{en:"The date of the determination. \n\n Allowed dates are: \n - year \n  - year/month \n - year/month/day",sv:""}},locationInformation:{localityI:{en:"Interpreted locality written according to the standard of the collection.",sv:""},localityV:{en:"Stated locality. \n\n  Write the text exactly as stated on the label or similar, it should include all locality information that is available. \n\n It is strongly recommended that you always add this stated information, if it is available.",sv:""},places:{en:"The closest higher geography that the locality belongs to. \n\n  Choose from dropdown suggestions or use the picker to find the higher geography. If the geography is missing you can add a new by opening Geography from the left side main menu in a new window.",sv:""},swedishGrid5km:{en:'Old Swedish map square coordinates, for example "09A7e".',sv:""},coordinatesVerbatim:{en:"Stated coordinate of the collecting locality. \n\n Write the text exactly as stated on the label or similar, in whatever coordinate reference system used. \n\n It is recommended that you always add stated information, if available.",sv:""},georeferenceSourcesText:{en:"Description of the maps or other resources that was used to georeference the collecting locality. \n\n Make the descrption specific enough to allow anyone in the future to use the same resources.",sv:""},position:{en:"Coordinate that has been interpreted (from stated coordinates or other data) and transformed to WGS84 decimal degrees. \n\n Interpret the coordinates and transform using an external tool if necessary.",sv:""},remarks:{en:"Notes on the locality",sv:""}},collectingInformation:{establishmentMeansType:{en:'Appearance of the specimen at the collecting locality at the time of collecting. \n\n Normally this is "Wild and native" but you can note if the animal was introduced to the locality or if it was captive.',sv:""},collectedByAgent:{en:"The interpreted name of the agent that collected the specimen. \n\n You have two options:  \n\n If you are not sure of who the name represents, enter the name according to the standard of your collection and select this text option in the dropdown. \n\n If you know which agent the name represents, select the agent from the dropdown or by using the picker. If the agent is missing you can add a new by opening Agents from the left side main menu in a new window.",sv:"",textV:{en:"Stated name (or names) of the person or organisation that collected the specimen. \n\n  Write the text exactly as stated on the label or similar. \n\n It is strongly recommended that you always add this stated information, if it is available.",sv:""}},collectingDate:{en:"The date of collecting. \n\n You can add it as: \n - single date (you know the exact date)  \n - range between two dates (earliest/latest possible)  \n - latest possible date \n\n Allowed dates are: \n - year \n  - year/month \n - year/month/day",sv:""},isDeathDate:{en:"Whether the animal died during the collecting period or not. ",sv:""}},position:{latitude:{en:"Latitude or northing. Use negative number or letter S for coordinates on southern hemisphere.",sv:""},longitude:{en:"Longitude or easting. Use negative number or letter W for coordinates on western hemisphere.",sv:""},uncertaintyInMeters:{en:"The horizontal distance in meters from the interpreted coordinate that describes the smallest circle containing the whole of the collecting locality. \n\n It is recommended that you try to assess the uncertainty, but leave the value empty if this is not possible."}},event:{expeditionText:{en:"Interpreted name of the expedition (if any) during which the collecting took place.",sv:""}},deathInformation:{causeOfDeathType:{en:'General cause of death of the individual. \n\n Select "unknown" from the list if you do not know the cause of death.',sv:""}},verticalPosition:{maximumDepthInMeters:{en:"If you fill in one, you have to fill in the other also. Use \u201c?\u201d for unknown data",sv:""},maximumElevationInMeters:{en:"If you fill in one, you have to fill in the other also. Use \u201c?\u201d for unknown data",sv:""},minimumDepthInMeters:{en:"If you fill in one, you have to fill in the other also. Use \u201c?\u201d for unknown data",sv:""},minimumElevationInMeters:{en:"If you fill in one, you have to fill in the other also. Use \u201c?\u201d for unknown data",sv:""},elevation:{en:"Elevation of the collecting locality as measured by the vertical distance in meters from mean sea level.",sv:""},depth:{en:"Depth of the collecting locality as measured by the vertical distance in meters below a local surface.",sv:""}},originInformation:{originLocality:{en:"Interpreted origin locality written according to the standard of the collection.\n\n  An individual may be associated with several localities. If you want to mention several localities you should add one as the origin locality and add the rest to origin remarks.",sv:""},establishmentMeansType:{en:"Appearance of the specimen at the specified origin locality. \n\n You can note whether the animal was wild and native, introduced or if it was captive.",sv:""},isResultOfSelectiveBreeding:{en:"Genetic origin of the individual, not necessarily related to the origin locality.",sv:""}},collectionItems:{preparationType:{en:"The kind of physical object. \n\n Select the best match from the list.",sv:""}},physicalObject:{storageLocation:{en:"Storage location where the object is normally located (if not on loan etc.). \n\n You should choose the most detailed storage location possible and not change it unless the object is moved to a new place (i.e. you should not change the storage location when the object is on loan or is missing).",sv:""},curatorialAssessments:{en:"Assess the specimens condition (optional) and whether it is in storage or not. Use curatorial assessment to record e.g. if a specimen has been lost or damaged.",sv:""}},curatorialAssessment:{date:{en:"The date when the curatorial assessment was made. \n\n Allowed dates are: \n - year \n - year/month \n - year/month/day",sv:""},agent:{en:"The person that made this assesment. Normally this would be you. \n\n Start typing or use the picker to find an agent. If the agent is missing you can add a new by opening Agents from the left side main menu in a new window.",sv:""},condition:{en:"The condition of the specimen at the time of the assesment. \n\n You can leave this blank in case the assessment is about the object's storage. If you want to make a note about the storage (for example if the object is on loan) you add it as a remark.",sv:""}},features:{age:{en:"Age in years together with the method of assessing the age. \n\n Currently the age field allows for any text value, but it is recommended that you only add a number representing the age in years.",sv:""},"age-stage":{en:"Developmental stage and method of assessing the stage.",sv:""},sex:{en:"Biological sex of the individual.",sv:""},"carcass-condition":{en:"Condition of the carcass when it was collected.",sv:""},"cranium-count":{en:"Count of cranium for this specimen. Normally this would be 1 or 0.",sv:""},"mandibula-count":{en:"Count of mandibula in this specimen. Normally this would be 1 or 0.",sv:""},"vertebrae-count":{en:"Number of vertebrae in this specimen.",sv:""},"costae-count":{en:"Number of costae in this specimen.",sv:""},"scapula-count":{en:"Number of  scapulae in this specimen.",sv:""},"humerus-count":{en:"Number of humeri in this specimen.",sv:""},"ulna-count":{en:"Number of ulnae in this specimen.",sv:""},"radius-count":{en:"Number of radial bones in this specimen.",sv:""},"manus-count":{en:"Number of manus bones in this specimen.",sv:""},"pelvis-count":{en:"Count of pelvis for this specimen. Normally this would be 1 or 0.",sv:""},"femur-count":{en:"Number of femurs in this specimen.",sv:""},"tibia-count":{en:"Number of tibiae in this specimen.",sv:""},"pedis-count":{en:"Number of pedis in this specimen.",sv:""},"bacculum-count":{en:"Count of bacculum for this specimen. Normally this would be 1 or 0.",sv:""},"complete-body-weight":{en:"Complete body weight with unit.",sv:""},"skinned-weight":{en:"Skinned weight with unit.",sv:""},"gutted-weight":{en:"Gutted weight with unit.",sv:""},"slaughtered-weight":{en:"Slaughtered weight with unit.",sv:""},"unknown-weight-type":{en:"Weight (in selected unit) that is neither complete body, skinned, gutted or slaughtered.",sv:""},"total-length":{en:"Total length with unit.",sv:""},"body-length":{en:"Body length with unit.",sv:""},"tail-to-anus-length":{en:"Tail to anus length with  unit.",sv:""},"tail-to-pelvis-length":{en:"Tail to pelvis length with unit.",sv:""},"ear-length":{en:"Ear length with unit.",sv:""},"hind-foot-length":{en:"Hind foot length with unit.",sv:""},"forearm-length":{en:"Forearm length with unit",sv:""}}},filterTitles:{identifier:{en:"Catalog number/identifier",sv:""},taxonomy:{en:"Taxonomy",sv:""},locality:{en:"Locality and origin",sv:""},datePeriod:{en:"Collecting date",sv:""},agent:{en:"Agent",sv:""},physicalObject:{en:"Preparation type",sv:""},storage:{en:"Storage",sv:""},ageAndStage:{en:"Age and development",sv:""},sex:{en:"Sex",sv:""},bones:{en:"Bones",sv:""},weight:{en:"Weight",sv:""},length:{en:"Length",sv:""},collectingCondition:{en:"Carcass condition",sv:""}},tableColumns:{identifiersCatalogNumber:{en:"Catalog no.",sv:""},taxonomyCuratorialName:{en:"Taxon",sv:""},taxonomyRank:{en:"taxon rank",sv:""},taxonomyFamily:{en:"family",sv:""},taxonomyGenus:{en:"genus",sv:""},taxonomySpecies:{en:"species",sv:""},taxonomySubspecies:{en:"subspecies",sv:""},collectingEventCollectors:{en:"collector",sv:""},nomenclaturalTypeTypeStatus:{en:"type status",sv:""},collectingEventStartDate:{en:"collecting start",sv:""},collectingEventEndDate:{en:"collecting end",sv:""},collectingEventLocality:{en:"stated locality (collecting)",sv:""},collectingEventInterpretedLocality:{en:"interpreted locality (collecting)",sv:""},collectingEventCountry:{en:"country (collecting)",sv:""},collectingEventProvince:{en:"province (collecting)",sv:""},collectingEventDistrict:{en:"district (collecting)",sv:""},originInformationLocality:{en:"locality (origin)",sv:""},deathInformationDeath:{en:"death",sv:""},physicalUnitSkeleton:{en:"skeleton",sv:""},physicalUnitSkin:{en:"skin",sv:""},physicalUnitWetPreparation:{en:"wet preparation",sv:""},physicalUnitOtherPreparation:{en:"other preparation",sv:""},featureSex:{en:"sex",sv:""},featureAgeStage:{en:"stage",sv:""},featureAge:{en:"age",sv:""},featureCompleteBodyWeight:{en:"complete weight",sv:""},featureTotalLength:{en:"total length",sv:""},featureBodyLength:{en:"body length",sv:""},featureCondition:{en:"carcass condition",sv:""},identifiersOtherIdentifiers:{en:"identifiers",sv:""},recordEventCataloged:{en:"cataloged",sv:""},recordEventRegistered:{en:"registered",sv:""},recordEventLastModified:{en:"last modified",sv:""}},formSectionTitles:{basicInformation:{en:"Specimen basics",sv:""},taxonomy:{en:"Taxonomy",sv:""},localityOrigin:{en:"Locality and origin",sv:""},collectingDeath:{en:"Collecting and death",sv:""},features:{en:"Features",sv:""},physicalObjects:{en:"Physical objects",sv:""},summary:{en:"Summary",sv:""}},formSectionDescriptions:{basicInformation:{en:"Identifiers, acquisition and record history",sv:""},taxonomy:{en:"Taxon name, type info, determination",sv:""},localityOrigin:{en:"Collecting locality, origin and breeding",sv:""},collectingDeath:{en:"Collector, expedition, date and death details",sv:""},features:{en:"Age, sex, condition, measurements and bones",sv:""},physicalObjects:{en:"Skin, skeleton, wet and other preparations",sv:""},summary:{en:"Summary of all data about the specimen",sv:""}},identifierType:{en:"Identifier type"},value:{en:"Value"},remarks:{emptyState:{acquisition:{en:"add acquisition remarks...",sv:""},collectionItems:{en:"add remarks for all objects...",sv:""},death:{en:"add death remarks...",sv:""},date:{en:"add date remarks...",sv:""},determination:{en:"add determination remarks...",sv:""},collectingLocationRemarks:{en:"Add collecting locality remarks...",sv:""},origin:{en:"Add origin remarks...",sv:""},physicalObject:{skeleton:{en:"add remarks for this skeleton...",sv:""},skin:{en:"add remarks for this skin...",sv:""},"wet-preparation":{en:"add remarks for this wet preparation...",sv:""},"other-preparation":{en:"add remarks for this other preparation..."}},specimen:{en:"add remarks for the entire specimen...",sv:""},taxonomy:{en:"Add taxonomy remarks..."}},resultPrefix:{acquisition:{en:"acquisition remarks",sv:""},date:{en:"date remarks",sv:""},death:{en:"death remarks",sv:""},collectingLocationRemarks:{en:"collecting locality remarks",sv:""},origin:{en:"origin remarks",sv:""},physicalObjects:{en:"physical objects remarks",sv:""},specimen:{en:"specimen remarks",sv:""},taxonomy:{en:"taxonomy remarks",sv:""}},en:"Remarks"},remove:{en:"Delete"},skeleton:{en:"skeleton"},featureObservations:{placeholders:{age:{en:"Add age",sv:""},"age-stage":{en:"Select stage",sv:""},sex:{en:"Select sex",sv:""},"carcass-condition":{en:"Select carcass condition",sv:""},weight:{en:"Add weight",sv:""},length:{en:"Add length",sv:""},selectMethod:{en:"Select method",sv:""},selectUnit:{en:"Select unit",sv:""}},other:{age:{en:"Age in years"},"age-stage":{en:"Developmental stage"},sex:{en:"Sex",sv:""},"complete-body-weight":{en:"Complete"},"skinned-weight":{en:"Skinned"},"gutted-weight":{en:"Gutted"},"slaughtered-weight":{en:"Slaughtered"},"unknown-weight-type":{en:"Other"},"total-length":{en:"Total"},"body-length":{en:"Body"},"tail-to-anus-length":{en:"Tail-anus"},"tail-to-pelvis-length":{en:"Tail-pelvis"},"ear-length":{en:"Ear"},"hind-foot-length":{en:"Hind-foot"},"forearm-length":{en:"Forearm",sv:""},"carcass-condition":{en:"Condition"},"cranium-count":{en:"Cranium",sv:""},"mandibula-count":{en:"Mandibula",sv:""},"vertebrae-count":{en:"Vertebrae",sv:""},"costae-count":{en:"Costae",sv:""},"scapula-count":{en:"Scapula",sv:""},"humerus-count":{en:"Humerus",sv:""},"ulna-count":{en:"Ulna",sv:""},"radius-count":{en:"Radius",sv:""},"manus-count":{en:"Manus",sv:""},"pelvis-count":{en:"Pelvis",sv:""},"femur-count":{en:"Femur",sv:""},"tibia-count":{en:"Tibia",sv:""},"pedis-count":{en:"Pedis",sv:""},"bacculum-count":{en:"Bacculum",sv:""}}},recordHistoryEvent:{recordedByAgentT:{en:"Recorded by (stated)"},recordedByAgentN:{en:"Recorded by (interpreted)"}},other:{add:{en:"Add",sv:"L\xe4gg till"},addAcquisition:{en:"add acquisition",sv:""},addAgent:{en:"add agent/name",sv:""},interpretThisName:{en:"interpret this name",sv:""},addCatalogCardCreation:{en:"Add catalog card creation",sv:""},addCatalogCardInformation:{en:"Catalog card information",sv:""},addCatalogNumber:{en:"Add catalog number",sv:"L\xe4gg till katalognummer"},addIdentifierOrIdentifiers:{en:"add identifier(s)",sv:""},addNameOrNames:{en:"add name(s)",sv:""},addOtherName:{en:"Add additional name",sv:""},addTypeStatus:{en:"Add type information",sv:""},addDetermination:{en:"Add determination",sv:"L\xe4gg till best\xe4mning"},addIdentifier:{en:"Add identifier",sv:"L\xe4gg till identifierare"},addPosition:{en:"Add position",sv:""},addOrigin:{en:"Add origin",sv:""},agent:{en:"Observed by (agent)"},appearanceAtCollecting:{en:"Appearance at the collecting locality",sv:""},appearanceAtOrigin:{en:"Appearance at the origin locality",sv:""},by:{en:"by",sv:""},catalogCard:{en:"Catalog card",sv:"Katalogkort"},catalogCardBy:{en:"catalog card by",sv:""},catalogNumber:{en:"Catalog number",sv:"Katalognummer"},cancel:{en:"Cancel",sv:"Avbryt"},createdBy:{en:"Created by",sv:"Skapat av"},createNewSpecimen:{en:"Creating a new specimen record",sv:""},coordinates:{en:"Coordinate (interpreted, decimal degrees WGS84)"},depth:{en:"Depth min / max (m)",sv:""},elevation:{en:"Elevation min / max (m)",sv:""},back:{en:"Back",sv:""},clearSearchParameters:{en:"Clear search parameters",sv:"Rensa s\xf6kparametrar"},copy:{en:"Copy",sv:"Kopiera"},copyToVerbatim:{en:"Copy to determined as",sv:"Kopiera till verbatim"},choose:{en:"Choose...",sv:"V\xe4lj..."},date:{en:"Date"},done:{en:"Done",sv:""},edit:{en:"Edit",sv:"Redigera"},editCatalogNumber:{en:"Edit catalog number",sv:"Redigera katalognummer"},editCuratorialAssessment:{en:"Edit curatorial assessment",sv:""},formContainsErrors:{en:"Form contains errors",sv:"Formul\xe4ret inneh\xe5ller fel"},id:{en:"id"},lastModifiedBy:{en:"Last modified by",sv:""},latitude:{en:"Latitude",sv:""},longitude:{en:"Longitude",sv:""},loading:{en:"loading",sv:"laddar"},method:{en:"Method",sv:"Metod"},physicalObjects:{addSkeleton:{en:"Add a skeleton",sv:""},addSkin:{en:"Add a skin",sv:""},addWetPreparation:{en:"Add a wet preparation",sv:""},addOtherPreparation:{en:"Add an other preparation",sv:""},removeSkeleton:{en:"Delete this skeleton?",sv:""},removeSkin:{en:"Delete this skin?",sv:""},removeWetPreparation:{en:"Delete this wet preparation?",sv:""},removeOtherPreparation:{en:"Delete this other preparation?",sv:""},deleteSkeleton:{en:"Delete skeleton",sv:""},deleteSkin:{en:"Delete skin",sv:""},deleteWetPreparation:{en:"Delete wet preparation",sv:""},deleteOtherPreparation:{en:"Delete other preparation",sv:""}},newAssessment:{en:"New assessment",sv:""},newCuratorialAssessment:{en:"New curatorial assessment",sv:""},noRecordsFound:{en:"No matching records found",sv:"Inga matchande utdrag funna"},remarks:{en:"Remarks"},deleteDetermination:{en:"Delete determination",sv:""},remove:{en:"Delete",sv:"Ta bort"},removeThisCuratorialAssessment:{en:"Delete this curatorial assessment?",sv:""},removeThisDetermination:{en:"Delete this determination?",sv:""},removeThisIdentifier:{en:"Delete this identifier?",sv:""},removeThisPhysicalObjects:{en:"Delete this physical object?",sv:""},removeThisOtherName:{en:"Delete this name?",sv:""},reset:{en:"Reset",sv:"\xc5terst\xe4ll"},saveChanges:{en:"Save changes",sv:"Spara \xe4ndringar"},save:{en:"Save",sv:"Spara"},saved:{en:"Saved",sv:"Sparat"},search:{en:"Search",sv:"S\xf6k"},selectIdentifierType:{en:"select identifier type",sv:""},selectKindOfName:{en:"select kind of name",sv:""},selectiveBreeding:{en:"Has the animal been affected by selective breeding?",sv:""},wildAnimal:{en:"No (wild animal)",sv:""},zooAnimal:{en:"Yes (zoo animal or similar)",sv:""},unknown:{en:"unknown",sv:""},sixOrEightDigits:{en:"6 or 8 digits",sv:"6 eller 8 siffror"},useThisNumber:{en:"Use this number",sv:""},automaticCatalogNumber:{en:"Would you like an automatic catalog number for this specimen?",sv:""},yesCreateNumber:{en:"Yes, create a number",sv:""},enterManully:{en:"No, I will enter one manually",sv:""},submitFailed:{en:"Could not save",sv:"Kunde inte spara"},unit:{en:"Unit",sv:"Enhet"},value:{en:"Value",sv:"V\xe4rde"},weight:{en:"Weights",sv:"Vikter"}},duplicate:{en:"this catalog number is already registered",sv:""}}},897:function(e){e.exports={fieldLabels:{name:{en:"name",sv:""},group:{en:"geographic level",sv:""},parent:{en:"parent",sv:""},place:{name:{en:"name"},group:{en:"geographic level"},parent:{en:"parent"}},verticalPosition:{minimumElevationInMeters:{en:"min"},maximumElevationInMeters:{en:"max"},maximumDepthInMeters:{en:"max"},minimumDepthInMeters:{en:"min"}},centralPosition:{latitude:{en:"latitude"},longitude:{en:"longitude"},uncertaintyInMeters:{en:"uncertainty"}},continent:{en:"continent"},country:{en:"country"},district:{en:"district"},planet:{en:"planet"},province:{en:"province"}},headers:{geography:{en:"geography",sv:""},recordHistory:{en:"Record history",sv:""}},other:{createdBy:{en:"Created by",sv:""},lastModifiedBy:{en:"Last modified by",sv:""}},helpTexts:{name:{en:"A name for the geographic place or area.",sv:""},group:{en:"Geographic level of the geographic place or area.",sv:""},parent:{en:"Geopgraphic place or area that this geographic record belongs to.",sv:""}},newLocality:{en:"new geography record",sv:""},save:{en:"Save",sv:"Spara"},back:{en:"Back",sv:"Tillbaka"},reset:{en:"Reset",sv:"\xc5terst\xe4ll"}}},898:function(e){e.exports={helpTexts:{storageLocation:{name:{en:"<p>Help text for name</p>\n",sv:"<p>Hj\xe4lptext f\xf6r namn</p>\n"}}}}},899:function(e){e.exports={fieldLabels:{group:{en:"storage level",sv:""},name:{en:"name",sv:"namn"},parent:{en:"parent",sv:"f\xf6r\xe4lder"},description:{en:"description",sv:"beskrivning"},room:{en:"room"},mountingWall:{en:"mounting wall"},cabinet:{en:"cabinet"},shelf:{en:"shelf"},institution:{en:"institution"}},headers:{storageLocation:{en:"storage location",sv:""},connectedPreparationTypes:{en:"connected preparation types",sv:""},connectedTaxa:{en:"connected taxa",sv:""},newStorageLocation:{en:"new storage location",sv:""},recordHistory:{en:"Record history",sv:""}},helpTexts:{name:{en:"Name of the storage location.",sv:""},group:{en:"Level in the hierarchy of storage locations.",sv:""},parent:{en:"Storage location that this location belongs to.",sv:""}},other:{createdBy:{en:"Created by",sv:""},lastModifiedBy:{en:"Last modified by",sv:""}},cancel:{en:"Cancel",sv:""},connectPreparationType:{en:"connect preparation type",sv:""},connectTaxon:{en:"connect taxon",sv:""},remove:{en:"Remove",sv:""},removeThisConnectedPreparationTypes:{en:"Remove this connected preparation type?",sv:""},removeThisConnectedTaxa:{en:"Remove this connected taxa?",sv:""},save:{en:"Save",sv:"Spara"},back:{en:"Back",sv:"Tillbaka"},reset:{en:"Reset",sv:"\xc5terst\xe4ll"}}},90:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=function(e){return function(t){return function(n){function s(e){var t;return Object(a.a)(this,s),(t=Object(i.a)(this,Object(o.a)(s).call(this,e))).state={scrollLeft:void 0},t.handleScroll=t.handleScroll.bind(Object(c.a)(t)),t}return Object(l.a)(s,n),Object(r.a)(s,[{key:"componentDidMount",value:function(){if(document){var t=document.getElementById(e);t&&t.addEventListener("scroll",this.handleScroll)}}},{key:"componentWillUnmount",value:function(){if(document){var t=document.getElementById(e);t&&t.removeEventListener("scroll",this.handleScroll)}}},{key:"handleScroll",value:function(){var t=document.getElementById(e).scrollLeft;this.setState({scrollLeft:t})}},{key:"render",value:function(){return u.a.createElement(t,Object.assign({},this.props,{scrollLeft:this.state.scrollLeft}))}}]),s}(s.Component)}},m=n(12),p=n.n(m),h=n(16),f=n(97),v=function(e){p.a.number;var t=function(t){return u.a.createElement(e,Object.assign({},t,{windowHeight:t.windowHeight}))};return t.defaultProps={windowHeight:0},Object(h.b)(function(e){return{windowHeight:f.a.getHeight(e)}})(t)},b=function(e){p.a.number;var t=function(t){return u.a.createElement(e,Object.assign({},t,{windowWidth:t.windowWidth}))};return t.defaultProps={windowWidth:0},Object(h.b)(function(e){return{windowWidth:f.a.getWidth(e)}})(t)};n.d(t,"createInjectScrollLeft",function(){return d}),n.d(t,"injectWindowHeight",function(){return v}),n.d(t,"injectWindowWidth",function(){return b})},900:function(e){e.exports={fieldLabels:{acceptedTaxonName:{name:{en:"Accepted name"},rank:{en:"Accepted name rank"}},curatorialName:{en:"Curatorial taxon name",sv:""},vernacularNames:{name:{en:"Vernacular names"}},synonyms:{name:{en:"Synonyms"}},parent:{en:"parent",acceptedTaxonName:{name:{en:"Parent accepted name"}}},name:{en:"name"},scientificName:{en:"scientific name",sv:""},taxonNameType:{en:"Name type"},rank:{en:"Rank"},rubinNumber:{en:"RUBIN no."},class:{en:"class"},order:{en:"order"},family:{en:"family"},genus:{en:"genus"},species:{en:"species"},subspecies:{en:"subspecies"}},headers:{scientificName:{en:"scientific name",sv:""},taxon:{en:"taxon",sv:""},connectedScientificNames:{en:"connected scientific names",sv:""},status:{en:"status",sv:""},newTaxon:{en:"new taxon",sv:""},newScientificName:{en:"new scientific name",sv:""},recordHistory:{en:"Record history",sv:""},vernacularNames:{en:"vernacular names",sv:""}},helpTexts:{parent:{en:"Parent taxon that this taxon belongs to.",sv:""},name:{en:"Scientific name.",sv:""},rank:{en:"Rank of the scientific name.",sv:""},rubinNumber:{en:"Number for the scientific name according to the RUBIN standard.",sv:""}},other:{createdBy:{en:"Created by",sv:""},lastModifiedBy:{en:"Last modified by",sv:""}},acceptedNameForTaxon:{en:"accepted name for taxon",sv:""},addNameOrNames:{en:"enter vernacular name(s)",sv:""},addVernacularName:{en:"add vernacular name",sv:""},cancel:{en:"Cancel",sv:""},connectScientificName:{en:"connect scientific name",sv:""},name:{en:"name"},scientificNameOfRank:{en:"Scientific name of rank",sv:""},notAssociatedWithTaxon:{en:"this name is not associated with any taxon.",sv:""},selectLanguage:{en:"select language",sv:""},synonymForTaxon:{en:"synonym of taxon",sv:""},taxon:{en:"taxon",sv:""},taxonOfRank:{en:"Taxon of rank",sv:""},save:{en:"Save",sv:"Spara"},back:{en:"Back",sv:"Tillbaka"},remove:{en:"delete",sv:""},removeFromThisTaxon:{en:"Remove from this taxon",sv:""},removeThisTaxon:{en:"Remove this taxon?",sv:""},removeThisVernacularName:{en:"Delete this vernacular name?",sv:""},reset:{en:"Reset",sv:"\xc5terst\xe4ll"}}},901:function(e){e.exports={LoginForm:{login:{en:"Log in",sv:"Logga in"}},welcomeBack:{en:"Welcome back!",sv:"V\xe4lkommen tillbaka!"}}},91:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(19),r=n(10),i=n(21);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getLocalState,o=Object(i.a)(e,["getLocalState"]);if(!n)throw new Error("getLocalState selector is required");var c=Object.keys(o).reduce(function(t,i){return Object(r.a)({},t,Object(a.a)({},i,function(t){for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];return e[i].apply(e,[n(t)].concat(r))}))},{});return Object(r.a)({},c,t)}},92:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return u});var a=n(158),r=n(130),i=Object(a.a)({initialValues:{leftSidebar:{isOpen:!1}},keys:["applicationLayer","leftSidebar.isOpen",":name.layoutMode"],name:r.c}),o=i.actionCreators,c=i.actionTypes,l=i.constants,s=i.globalSelectors,u=(i.selectors,i.reducer)},94:function(e,t,n){"use strict";n.r(t),n.d(t,"KEYBOARD_SHORTCUTS_REGISTER",function(){return a}),n.d(t,"KEYBOARD_SHORTCUTS_UNREGISTER",function(){return r}),n.d(t,"KEYBOARD_SHORTCUTS_SET_MODAL_HIDDEN",function(){return i}),n.d(t,"KEYBOARD_SHORTCUTS_SET_MODAL_VISIBLE",function(){return o}),n.d(t,"KEYBOARD_SHORTCUTS_TRIGGER",function(){return c}),n.d(t,"KEYBOARD_SHORTCUTS_SET_LAYER",function(){return l});var a="KEYBOARD_SHORTCUTS_REGISTER",r="KEYBOARD_SHORTCUTS_UNREGISTER",i="KEYBOARD_SHORTCUTS_SET_MODAL_HIDDEN",o="KEYBOARD_SHORTCUTS_SET_MODAL_VISIBLE",c="KEYBOARD_SHORTCUTS_TRIGGER",l="KEYBOARD_SHORTCUTS_SET_LAYER"},959:function(e,t,n){"use strict";n.r(t);var a=n(121);n.d(t,"actionTypes",function(){return a.b}),n.d(t,"constants",function(){return a.c}),n.d(t,"reducer",function(){return a.e});var r=n(452);n.d(t,"name",function(){return r.a})},96:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var a=n(19),r=n(10),i=function(e){var t=e.item,n=e.relationKey,a=t&&t.relationships&&t.relationships[n]&&t.relationships[n].data;if(void 0!==a)return Array.isArray(a)?"array":"object"},o=function(e){var t=e.item,n=e.relationKey;return t&&t.relationships&&t.relationships[n]&&t.relationships[n].data||null},c=function(e){var t=e.item,n=e.relationKey;return o({item:t,relationKey:n})||[]},l=function(e){var t=e.item,n=e.relationKey,a=o({item:t,relationKey:n});return a&&a.id},s=function(e){return l({item:e,relationKey:"parent"})},u=function(e){return function(e){var t=e.item,n=e.relationKey;return c({item:t,relationKey:n}).map(function(e){return e.id})}({item:e,relationKey:"children"})},d=function(e){var t=e.item,n=e.relationshipKeys,i=void 0===n?[]:n;return t&&t.relationships?Object(r.a)({},t,{relationships:Object.keys(t.relationships).reduce(function(e,n){return i.includes(n)||i.includes("all")?Object(r.a)({},e,Object(a.a)({},n,t.relationships[n])):e},{})}):t}},961:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return l});var a=n(111);n.d(t,"components",function(){return a});var r=n(49);n.d(t,"constants",function(){return r});var i=n(47);n.d(t,"higherOrderComponents",function(){return i});var o=n(886);n.d(t,"translations",function(){return o});var c=n(117);n.d(t,"actionCreators",function(){return c.a}),n.d(t,"actionTypes",function(){return c.b}),n.d(t,"globalSelectors",function(){return c.c}),n.d(t,"reducer",function(){return c.d});var l=r.MODULE_NAME},963:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return c});var a=n(472);n.d(t,"actionCreators",function(){return a});var r=n(76);n.d(t,"constants",function(){return r});var i=n(887);n.d(t,"translations",function(){return i});var o=n(106);n.d(t,"actionTypes",function(){return o.b}),n.d(t,"globalSelectors",function(){return o.c}),n.d(t,"reducer",function(){return o.d});var c=r.MODULE_NAME},964:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return o});var a=n(175);n.d(t,"components",function(){return a});var r=n(102);n.d(t,"constants",function(){return r});var i=n(894);n.d(t,"translations",function(){return i});var o=r.MODULE_NAME},968:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return o});var a=n(660);n.d(t,"components",function(){return a});var r=n(108);n.d(t,"constants",function(){return r});var i=n(897);n.d(t,"translations",function(){return i});var o=r.MODULE_NAME},969:function(e,t,n){"use strict";n.r(t),n.d(t,"name",function(){return c});var a=n(428);n.d(t,"components",function(){return a});var r=n(353);n.d(t,"constants",function(){return r});var i=n(898);n.d(t,"markdown",function(){return i});var o=n(899);n.d(t,"translations",function(){return o});var c=r.MODULE_NAME},97:function(e,t,n){"use strict";var a=n(91),r=n(438);t.a=Object(a.a)(r)},970:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"COLLECTION_MAMMALS_CLEAR_SEARCH_PARAMETERS",function(){return l}),n.d(a,"COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_FAIL",function(){return s}),n.d(a,"COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_REQUEST",function(){return u}),n.d(a,"COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_SUCCESS",function(){return d}),n.d(a,"COLLECTION_MAMMALS_LOOKUP_MAMMALS_FAIL",function(){return m}),n.d(a,"COLLECTION_MAMMALS_LOOKUP_MAMMALS_REQUEST",function(){return p}),n.d(a,"COLLECTION_MAMMALS_LOOKUP_MAMMALS_SUCCESS",function(){return h}),n.d(a,"COLLECTION_MAMMALS_SET_ACCORDION_ACTIVE_INDEX",function(){return f}),n.d(a,"COLLECTION_MAMMALS_UPDATE_SEARCH_PARAMETER",function(){return v});var r={};n.r(r),n.d(r,"GET_INDIVIDUAL_GROUP_BY_CATALOG_NUMBER",function(){return C}),n.d(r,"GET_SPECIMEN",function(){return N}),n.d(r,"LOOKUP_MAMMALS",function(){return k}),n.d(r,"REGISTER_MAMMAL",function(){return w}),n.d(r,"UPDATE_SPECIMEN",function(){return x});var i={};n.r(i),n.d(i,"clearSearchParameters",function(){return b}),n.d(i,"lookupMammals",function(){return A}),n.d(i,"updateSearchParameter",function(){return R});var o={};n.r(o),n.d(o,"MammalManager",function(){return F.a});var c=n(118),l="COLLECTION_MAMMALS_CLEAR_SEARCH_PARAMETERS",s="COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_FAIL",u="COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_REQUEST",d="COLLECTION_MAMMALS_GET_BY_CATALOG_NUMBER_SUCCESS",m="COLLECTION_MAMMALS_LOOKUP_MAMMALS_FAIL",p="COLLECTION_MAMMALS_LOOKUP_MAMMALS_REQUEST",h="COLLECTION_MAMMALS_LOOKUP_MAMMALS_SUCCESS",f="COLLECTION_MAMMALS_SET_ACCORDION_ACTIVE_INDEX",v="COLLECTION_MAMMALS_UPDATE_SEARCH_PARAMETER";function b(){return{type:l}}var g=n(19),y=n(10),O=function(e){if(!e)return e;var t=Object.keys(e);return t.length?t.reduce(function(t,n){return Object(y.a)({},t,Object(g.a)({},n,e[n].data))},{}):{}};function E(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},t=e.id,n=e.attributes,a=e.relationships,r=e.type,i=O(a);return Object(y.a)({},n,i,{id:t,type:r})}var j=n(168),T=n.n(j),S=function(e){return e.data},I=function e(t){if(!t)return t;if(Array.isArray(t))return t.map(function(t){return e(t)});var n=t.attributes,a=t.id,r=t.type;return Object(y.a)({id:a,type:r},n)},C=T()({mapResponse:function(e){var t=S(e),n=t&&t[0];return I(n)},operationId:"specimenGetMany"}),N=T()({operationId:"specimenGetOne"}),k=T()({operationId:"specimenGetMany"}),w=T()({mapResponse:function(e){return I(S(e))},operationId:"specimenCreate"}),x=T()({mapResponse:function(e){return I(S(e))},operationId:"specimenUpdate"});function A(){var e={filter:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},relationships:["taxonNames"]};return function(t,n,a){var r=a.apiClient;return t({type:p}),r.call(k,{queryParams:e}).then(function(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&Array.isArray(e)&&e.length?e.map(E):[]}(e.data);return t({payload:n,type:h}),n},function(e){t({error:!0,payload:e,type:m})})}}function R(e,t){return{payload:{key:e,value:t},type:v}}var F=n(659),P=n(80),L=n(470),M=n(895),_=n(896);n.d(t,"name",function(){return D}),n.d(t,"actionCreators",function(){return i}),n.d(t,"actionTypes",function(){return a}),n.d(t,"components",function(){return o}),n.d(t,"constants",function(){return P}),n.d(t,"endpoints",function(){return r}),n.d(t,"globalSelectors",function(){return L.a}),n.d(t,"markdown",function(){return M}),n.d(t,"reducer",function(){return c.c}),n.d(t,"translations",function(){return _});var D=P.MODULE_NAME},971:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"TAXON_SERVICE_UPDATE_SEARCH_QUERY",function(){return o});var r={};n.r(r),n.d(r,"getLocalState",function(){return y}),n.d(r,"getLookup",function(){return O}),n.d(r,"getLookupError",function(){return E}),n.d(r,"getLookupLoading",function(){return j}),n.d(r,"getLookupResult",function(){return T}),n.d(r,"getLookupDropdownOptions",function(){return S}),n.d(r,"getLookupSearchQueries",function(){return I}),n.d(r,"getLookupSearchQuery",function(){return C});var i=n(652),o="TAXON_SERVICE_UPDATE_SEARCH_QUERY",c=n(43),l=n(56),s=n(22),u=n(46),d=n(17),m=n(34),p=n(51),h=n(137),f=n(91),v=n(75),b=n(96),g=n(293),y=function(e){return e[c.MODULE_NAME]},O=function(e){return e.lookup},E=Object(m.createSelector)(O,function(e){return e.error}),j=Object(m.createSelector)(O,function(e){return e.loading}),T=Object(m.createSelector)(O,function(e){return e.result||[]}),S=Object(m.createSelector)(T,function(e){return e.map(g.b)}),I=Object(m.createSelector)(O,function(e){return e.searchQueries}),C=Object(m.createSelector)([I,h.a],function(e,t){return e[t]}),N=p.a.taxon,k=N.getItemsObject,w=N.getAll,x=p.a.taxonName,A=x.getItemsObject,R=x.getAll,F=x.getOne,P=Object(m.createSelector)(R,function(e){return e.sort(function(e,t){var n=e.attributes,a=void 0===n?{}:n,r=t.attributes,i=void 0===r?{}:r;return a.name<i.name?-1:a.name>i.name?1:0})}),L=Object(m.createSelector)(P,h.a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,a=t.limit,r=t.offset,i=void 0===r?0:r,o=t.searchQuery,l=Object(d.a)(e);if(o){var s=o.toLowerCase(),u=l.filter(function(e){var t=e.attributes,n=(t=void 0===t?{}:t).name;return n&&0===n.toLowerCase().indexOf(s)}),m=l.filter(function(e){var t=e.attributes,n=(t=void 0===t?{}:t).name;return n&&n.toLowerCase().indexOf(s)>0});l=[].concat(Object(d.a)(u),Object(d.a)(m))}return n&&(l=l.filter(function(e){var t=e.attributes,a=(t=void 0===t?{}:t).rank;return a?a===n:n===c.MISSING_RANK})),a?l.splice(i,a):l}),M=Object(m.createSelector)([P],function(e){return e.map(function(e){var t=e.id,n=e.attributes,a=(void 0===n?{}:n).name;return a?{key:t,text:Object(v.capitalizeFirstLetter)(a),value:t}:null}).filter(function(e){return!!e})}),_=Object(m.createSelector)(k,P,function(e,t){return t.filter(function(e){var t=e.attributes;return!!(t=void 0===t?{}:t).acceptedToTaxon})}),D=Object(m.createSelector)(F,function(e){return e&&Object(g.b)(e)}),B=Object(m.createSelector)(w,function(e){return e.sort(function(e,t){var n=e.attributes,a=void 0===n?{}:n,r=t.attributes,i=void 0===r?{}:r;return a.name<i.name?-1:a.name>i.name?1:0})}),V=Object(m.createSelector)(B,A,function(e,t){return e.map(function(e){var n=Object(b.f)({item:e,relationKey:"acceptedTaxonName"});if(!n)return null;var a=t[n],r=a&&a.attributes&&a.attributes.name;return{key:e.id,text:Object(v.capitalizeFirstLetter)(r),value:e.id}}).filter(function(e){return!!e})}),U=Object(m.createSelector)(B,A,h.a,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.group,r=n.limit,i=n.offset,o=void 0===i?0:i,l=n.parentId,s=n.searchQuery,u=Object(d.a)(e);if(l&&(u=u.filter(function(e){return Object(b.c)(e)===l})),s){var m=s.toLowerCase(),p=u.filter(function(e){var n=Object(b.f)({item:e,relationKey:"acceptedTaxonName"}),a=t[n];return a&&a.attributes&&a.attributes.name&&0===a.attributes.name.toLowerCase().indexOf(m)}),h=u.filter(function(e){var n=Object(b.f)({item:e,relationKey:"acceptedTaxonName"}),a=t[n];return a&&a.attributes&&a.attributes.name&&a.attributes.name.toLowerCase().indexOf(m)>0});u=[].concat(Object(d.a)(p),Object(d.a)(h))}return a&&(u=u.filter(function(e){var n=Object(b.f)({item:e,relationKey:"acceptedTaxonName"}),r=t[n];return r&&r.attributes.rank&&r.attributes.rank?r.attributes.rank===a:a===c.MISSING_RANK})),r?u.splice(o,r):u}),K=Object(m.createSelector)(k,A,h.a,function(e,t,n){var a=[],r=e[n];return r?(function n(r){var i=Object(b.f)({item:r,relationKey:"acceptedTaxonName"});t&&i&&a.push(t[i]);var o=Object(b.c)(r);if(o){var c=e[o];c&&n(c)}}(r),a.reverse()):a}),H=Object(f.a)(r,{getTaxaArrayByFilter:U,getTaxaSortedArray:B,getTaxonAncestorsAcceptedTaxonNameById:K,getTaxonNameOption:D,getTaxonNameOptions:M,getTaxonNamesArrayByFilter:L,getTaxonNamesSortedArray:P,getTaxonNamesWithAcceptedToTaxon:_,getTaxonOptions:V}),z=Object(s.a)("dataModules:taxonService:middleware"),G=u.a.taxonName.getMany,q=Object(l.debounce)(function(e){var t=e.dispatch,n=e.getState,a=e.inputName;z.debug("Debounce getTaxa");var r=H.getLookupSearchQuery(n(),a);r&&t(G({isLookup:!0,queryParams:{filter:{nameSearch:r},limit:10}}))},100,{maxWait:500});function Q(){return function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){var r=e(a);switch(a.type){case o:if(a.payload){var i=a.meta.inputName;q({dispatch:t,getState:n,inputName:i})}}return r}}}}var W=n(13),Y=n(19),X=n(10),J=n(140),Z=n(445).a.taxonName.getMany,$=Z.fail,ee=Z.request,te=Z.success,ne=Object(J.c)(["error"]),ae=Object(J.c)(["loading"]),re=Object(J.c)(["result"]),ie=function(){return{error:null,loading:!1,result:[],searchQueries:{}}};var oe=Object(W.b)({lookup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return t.meta.isLookup?ae(e,!0):e;case $:if(t.meta.isLookup){var n=re(ae(e,!1),[]);return ne(n,t.payload)}return e;case te:if(t.meta.isLookup){var a=ne(ae(e,!1),null);return re(a,t.payload||[])}return e;case o:return Object(X.a)({},e,{searchQueries:Object(X.a)({},e.searchQueries,Object(Y.a)({},t.meta.inputName,t.payload))});default:return e}}}),ce=n(900);n.d(t,"name",function(){return le}),n.d(t,"actionTypes",function(){return a}),n.d(t,"components",function(){return i}),n.d(t,"constants",function(){return c}),n.d(t,"middleware",function(){return Q}),n.d(t,"reducer",function(){return oe}),n.d(t,"translations",function(){return ce});var le=c.MODULE_NAME},972:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"FIELD_CHANGE_WARNING",function(){return f}),n.d(a,"HELP_TEXT",function(){return h});var r=n(15),i=n(39),o=n(10),c=n(70),l=n(92),s=n(132),u=n(88),d=n(77),m=n(451),p={collision:d.COLLISION_REPLACE,component:m.a,displayType:d.INLINE,priority:10,terminateActions:[l.b.set.applicationLayer,c.b,s.SIZE_SET_BREAKPOINT],type:"HELP_TEXT"},h=Object(o.a)({},p),f={collision:d.COLLISION_REPLACE,component:u.Flash,displayType:d.FIXED,level:"warning",priority:10,terminateActions:[c.b],ttl:8e3,type:"FIELD_CHANGE_WARNING"},v=n(448),b=n(72),g=n(447),y=n(903).a,O=n(884),E=n(65);n.d(t,"components",function(){return r}),n.d(t,"higherOrderComponents",function(){return i}),n.d(t,"selectors",function(){return v}),n.d(t,"globalSelectors",function(){return g.a}),n.d(t,"notifications",function(){return a}),n.d(t,"name",function(){return E.c}),n.d(t,"reducer",function(){return y}),n.d(t,"translations",function(){return O}),n.d(t,"utilities",function(){return b})},98:function(e,t,n){"use strict";var a=n(4),r=n(6),i=n(8),o=n(5),c=n(9),l=n(7),s=n(0),u=n.n(s),d=n(12),m=n.n(d),p=n(16),h=n(13),f=n(46),v=n(472),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.excludeFields,n=e.includeFields,d=e.resource,b=e.storeSearchResult,g=void 0===b||b;return function(e){var b={search:v.search},y=(m.a.func.isRequired,m.a.string,m.a.func.isRequired,{resource:d}),O=function(s){function m(e){var t;return Object(a.a)(this,m),(t=Object(i.a)(this,Object(o.a)(m).call(this,e))).search=t.search.bind(Object(c.a)(t)),t.getManySearch=t.getManySearch.bind(Object(c.a)(t)),t}return Object(l.a)(m,s),Object(r.a)(m,[{key:"getManySearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resource,n=e.queryParams,a=this.props.dispatch,r=this.props.resource,i=t||r||d,o=f.a[i]&&f.a[i].getMany;if(!o)throw new Error("Missing getManyActionCreator for resource ".concat(i));return a(o({queryParams:n}))}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.aggregations,r=e.excludeFields,i=e.includeDeactivated,o=e.includeFields,c=e.limit,l=e.query,s=e.resource,u=e.sort,m=e.useScroll,p=void 0===m||m,h=this.props.resource;return this.props.search({aggregations:a,excludeFields:r||t,includeDeactivated:i,includeFields:o||n,limit:c,query:l,resource:s||h||d,sort:u,storeSearchResult:g,useScroll:p})}},{key:"render",value:function(){return u.a.createElement(e,Object.assign({},this.props,{getManySearch:this.getManySearch,search:this.search}))}}]),m}(s.Component);return O.defaultProps=y,Object(h.c)(Object(p.b)(null,b),Object(p.b)())(O)}},g=n(106),y=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).resource,t=void 0===e?"searchSpecimen":e;return function(e){m.a.string,m.a.object;var n={resource:t,searchResult:void 0},c=function(n){function c(){return Object(a.a)(this,c),Object(i.a)(this,Object(o.a)(c).apply(this,arguments))}return Object(l.a)(c,n),Object(r.a)(c,[{key:"render",value:function(){var n=this.props.resource;return u.a.createElement(e,Object.assign({},this.props,{searchResult:this.props.searchResult,searchResultResourceType:n||t}))}}]),c}(s.Component);return c.defaultProps=n,Object(h.c)(Object(p.b)(function(e,n){var a=n.resource;return{searchResult:g.c.get[":resource.searchState"](e,{resource:a||t})}}))(c)}};n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y})},988:function(e,t,n){e.exports=n(1726)},99:function(e,t,n){"use strict";var a=n(21),r=n(0),i=n.n(r),o=n(635),c=["numberAsText","number"],l=["numberAsText"],s=function(e){return""===e||void 0===e||null===e?e:Number(e)},u=function(e){return""===e||void 0===e||null===e?e:String(e)},d=function(e){var t=e.format,n=e.parse,r=e.type,d=Object(a.a)(e,["format","parse","type"]),m=!n&&c.includes(r),p=!t&&l.includes(r);return i.a.createElement(o.a,Object.assign({format:p?u:t,parse:m?s:n,type:r},d))};d.defaultProps={format:void 0,parse:void 0,type:void 0},t.a=d}},[[988,1,2]]]);
//# sourceMappingURL=main.d5726951.chunk.js.map